<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
<nta>
	<declaration>
const int N=250;
broadcast chan busy;
const int macMaxCSMABackoffs = 4;
const int UnitBackoff = 20;
const int CCA_duration = 8;
const int CCA = 8;
const int aTurnaroundTime = 12;
const int TurnAround = 12;
const int ACK_time = 88;
const int ACK_Time = 88;
const int ACK = 88;
const int MaxFrameRetries = 3;
const int macMinBE = 3;
const int MaxBE = 5;
const int MaxNB = 5;
const int FrameLength = 35*8;
const int MaxWakingDelay=1000;
const int MinLIFS = 40;
const bool is_discrete_waiting = false;
const bool acknowledgment_supported = true;
const bool recover_from_failures = false;
const int wait_after_failure = 0;</declaration><template>
<name x="5" y="5">Process0</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id0" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id5" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id6" x="-2560" y="-288">
<urgent/>
</location>
<location id="id7" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id8" x="-2336" y="-40">
<urgent/>
</location>
<location id="id9" x="-2264" y="-360">
<urgent/>
</location>
<location id="id10" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id11" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id12" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id13" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id14" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id15" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id16" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id17" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4"/>
<transition>
<source ref="id0"/>
<target ref="id5"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1"/>
<target ref="id2"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1"/>
<target ref="id6"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4"/>
<target ref="id6"/>
</transition>
<transition>
<source ref="id5"/>
<target ref="id1"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id6"/>
<target ref="id17"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id15"/>
<target ref="id15"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id11"/>
<target ref="id8"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id9"/>
<target ref="id2"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id9"/>
<target ref="id17"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id11"/>
<target ref="id11"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3"/>
<target ref="id12"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id10"/>
<target ref="id0"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3"/>
<target ref="id10"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id13"/>
<target ref="id13"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id8"/>
<target ref="id7"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id8"/>
<target ref="id5"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id12"/>
<target ref="id11"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id13"/>
<target ref="id3"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id14"/>
<target ref="id13"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id15"/>
<target ref="id14"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id15"/>
<target ref="id9"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id16"/>
<target ref="id15"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id17"/>
<target ref="id16"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process1</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id18" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id19" x="-2560" y="-200">
<urgent/>
</location>
<location id="id20" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id21" x="-1928" y="-200">
<urgent/>
</location>
<location id="id22" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id23" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id24" x="-2560" y="-288">
<urgent/>
</location>
<location id="id25" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id26" x="-2336" y="-40">
<urgent/>
</location>
<location id="id27" x="-2264" y="-360">
<urgent/>
</location>
<location id="id28" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id29" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id30" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id31" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id32" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id33" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id34" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id35" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id22"/>
<transition>
<source ref="id18"/>
<target ref="id23"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id19"/>
<target ref="id20"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id19"/>
<target ref="id24"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id22"/>
<target ref="id24"/>
</transition>
<transition>
<source ref="id23"/>
<target ref="id19"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id24"/>
<target ref="id35"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id33"/>
<target ref="id33"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id29"/>
<target ref="id26"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id27"/>
<target ref="id20"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id27"/>
<target ref="id35"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id29"/>
<target ref="id29"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id21"/>
<target ref="id30"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id28"/>
<target ref="id18"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id21"/>
<target ref="id28"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id31"/>
<target ref="id31"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id26"/>
<target ref="id25"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id26"/>
<target ref="id23"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id30"/>
<target ref="id29"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id31"/>
<target ref="id21"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id32"/>
<target ref="id31"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id33"/>
<target ref="id32"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id33"/>
<target ref="id27"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id34"/>
<target ref="id33"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id35"/>
<target ref="id34"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process2</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id36" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id37" x="-2560" y="-200">
<urgent/>
</location>
<location id="id38" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id39" x="-1928" y="-200">
<urgent/>
</location>
<location id="id40" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id41" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id42" x="-2560" y="-288">
<urgent/>
</location>
<location id="id43" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id44" x="-2336" y="-40">
<urgent/>
</location>
<location id="id45" x="-2264" y="-360">
<urgent/>
</location>
<location id="id46" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id47" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id48" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id49" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id50" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id51" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id52" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id53" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id40"/>
<transition>
<source ref="id36"/>
<target ref="id41"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id37"/>
<target ref="id38"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id37"/>
<target ref="id42"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id40"/>
<target ref="id42"/>
</transition>
<transition>
<source ref="id41"/>
<target ref="id37"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id42"/>
<target ref="id53"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id51"/>
<target ref="id51"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id47"/>
<target ref="id44"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id45"/>
<target ref="id38"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id45"/>
<target ref="id53"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id47"/>
<target ref="id47"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id39"/>
<target ref="id48"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id46"/>
<target ref="id36"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id39"/>
<target ref="id46"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id49"/>
<target ref="id49"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id44"/>
<target ref="id43"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id44"/>
<target ref="id41"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id48"/>
<target ref="id47"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id49"/>
<target ref="id39"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id50"/>
<target ref="id49"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id51"/>
<target ref="id50"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id51"/>
<target ref="id45"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id52"/>
<target ref="id51"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id53"/>
<target ref="id52"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process3</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id54" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id55" x="-2560" y="-200">
<urgent/>
</location>
<location id="id56" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id57" x="-1928" y="-200">
<urgent/>
</location>
<location id="id58" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id59" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id60" x="-2560" y="-288">
<urgent/>
</location>
<location id="id61" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id62" x="-2336" y="-40">
<urgent/>
</location>
<location id="id63" x="-2264" y="-360">
<urgent/>
</location>
<location id="id64" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id65" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id66" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id67" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id68" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id69" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id70" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id71" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id58"/>
<transition>
<source ref="id54"/>
<target ref="id59"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id55"/>
<target ref="id56"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id55"/>
<target ref="id60"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id58"/>
<target ref="id60"/>
</transition>
<transition>
<source ref="id59"/>
<target ref="id55"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id60"/>
<target ref="id71"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id69"/>
<target ref="id69"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id65"/>
<target ref="id62"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id63"/>
<target ref="id56"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id63"/>
<target ref="id71"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id65"/>
<target ref="id65"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id57"/>
<target ref="id66"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id64"/>
<target ref="id54"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id57"/>
<target ref="id64"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id67"/>
<target ref="id67"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id62"/>
<target ref="id61"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id62"/>
<target ref="id59"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id66"/>
<target ref="id65"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id67"/>
<target ref="id57"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id68"/>
<target ref="id67"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id69"/>
<target ref="id68"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id69"/>
<target ref="id63"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id70"/>
<target ref="id69"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id71"/>
<target ref="id70"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process4</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id72" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id73" x="-2560" y="-200">
<urgent/>
</location>
<location id="id74" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id75" x="-1928" y="-200">
<urgent/>
</location>
<location id="id76" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id77" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id78" x="-2560" y="-288">
<urgent/>
</location>
<location id="id79" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id80" x="-2336" y="-40">
<urgent/>
</location>
<location id="id81" x="-2264" y="-360">
<urgent/>
</location>
<location id="id82" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id83" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id84" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id85" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id86" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id87" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id88" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id89" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id76"/>
<transition>
<source ref="id72"/>
<target ref="id77"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id73"/>
<target ref="id74"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id73"/>
<target ref="id78"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id76"/>
<target ref="id78"/>
</transition>
<transition>
<source ref="id77"/>
<target ref="id73"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id78"/>
<target ref="id89"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id87"/>
<target ref="id87"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id83"/>
<target ref="id80"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id81"/>
<target ref="id74"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id81"/>
<target ref="id89"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id83"/>
<target ref="id83"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id75"/>
<target ref="id84"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id82"/>
<target ref="id72"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id75"/>
<target ref="id82"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id85"/>
<target ref="id85"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id80"/>
<target ref="id79"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id80"/>
<target ref="id77"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id84"/>
<target ref="id83"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id85"/>
<target ref="id75"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id86"/>
<target ref="id85"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id87"/>
<target ref="id86"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id87"/>
<target ref="id81"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id88"/>
<target ref="id87"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id89"/>
<target ref="id88"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process5</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id90" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id91" x="-2560" y="-200">
<urgent/>
</location>
<location id="id92" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id93" x="-1928" y="-200">
<urgent/>
</location>
<location id="id94" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id95" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id96" x="-2560" y="-288">
<urgent/>
</location>
<location id="id97" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id98" x="-2336" y="-40">
<urgent/>
</location>
<location id="id99" x="-2264" y="-360">
<urgent/>
</location>
<location id="id100" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id101" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id102" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id103" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id104" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id105" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id106" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id107" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id94"/>
<transition>
<source ref="id90"/>
<target ref="id95"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id91"/>
<target ref="id92"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id91"/>
<target ref="id96"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id94"/>
<target ref="id96"/>
</transition>
<transition>
<source ref="id95"/>
<target ref="id91"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id96"/>
<target ref="id107"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id105"/>
<target ref="id105"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id101"/>
<target ref="id98"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id99"/>
<target ref="id92"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id99"/>
<target ref="id107"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id101"/>
<target ref="id101"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id93"/>
<target ref="id102"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id100"/>
<target ref="id90"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id93"/>
<target ref="id100"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id103"/>
<target ref="id103"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id98"/>
<target ref="id97"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id98"/>
<target ref="id95"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id102"/>
<target ref="id101"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id103"/>
<target ref="id93"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id104"/>
<target ref="id103"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id105"/>
<target ref="id104"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id105"/>
<target ref="id99"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id106"/>
<target ref="id105"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id107"/>
<target ref="id106"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process6</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id108" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id109" x="-2560" y="-200">
<urgent/>
</location>
<location id="id110" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id111" x="-1928" y="-200">
<urgent/>
</location>
<location id="id112" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id113" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id114" x="-2560" y="-288">
<urgent/>
</location>
<location id="id115" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id116" x="-2336" y="-40">
<urgent/>
</location>
<location id="id117" x="-2264" y="-360">
<urgent/>
</location>
<location id="id118" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id119" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id120" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id121" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id122" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id123" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id124" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id125" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id112"/>
<transition>
<source ref="id108"/>
<target ref="id113"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id109"/>
<target ref="id110"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id109"/>
<target ref="id114"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id112"/>
<target ref="id114"/>
</transition>
<transition>
<source ref="id113"/>
<target ref="id109"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id114"/>
<target ref="id125"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id123"/>
<target ref="id123"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id119"/>
<target ref="id116"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id117"/>
<target ref="id110"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id117"/>
<target ref="id125"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id119"/>
<target ref="id119"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id111"/>
<target ref="id120"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id118"/>
<target ref="id108"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id111"/>
<target ref="id118"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id121"/>
<target ref="id121"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id116"/>
<target ref="id115"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id116"/>
<target ref="id113"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id120"/>
<target ref="id119"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id121"/>
<target ref="id111"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id122"/>
<target ref="id121"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id123"/>
<target ref="id122"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id123"/>
<target ref="id117"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id124"/>
<target ref="id123"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id125"/>
<target ref="id124"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process7</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id126" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id127" x="-2560" y="-200">
<urgent/>
</location>
<location id="id128" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id129" x="-1928" y="-200">
<urgent/>
</location>
<location id="id130" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id131" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id132" x="-2560" y="-288">
<urgent/>
</location>
<location id="id133" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id134" x="-2336" y="-40">
<urgent/>
</location>
<location id="id135" x="-2264" y="-360">
<urgent/>
</location>
<location id="id136" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id137" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id138" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id139" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id140" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id141" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id142" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id143" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id130"/>
<transition>
<source ref="id126"/>
<target ref="id131"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id127"/>
<target ref="id128"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id127"/>
<target ref="id132"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id130"/>
<target ref="id132"/>
</transition>
<transition>
<source ref="id131"/>
<target ref="id127"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id132"/>
<target ref="id143"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id141"/>
<target ref="id141"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id137"/>
<target ref="id134"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id135"/>
<target ref="id128"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id135"/>
<target ref="id143"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id137"/>
<target ref="id137"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id129"/>
<target ref="id138"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id136"/>
<target ref="id126"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id129"/>
<target ref="id136"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id139"/>
<target ref="id139"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id134"/>
<target ref="id133"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id134"/>
<target ref="id131"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id138"/>
<target ref="id137"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id139"/>
<target ref="id129"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id140"/>
<target ref="id139"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id141"/>
<target ref="id140"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id141"/>
<target ref="id135"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id142"/>
<target ref="id141"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id143"/>
<target ref="id142"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process8</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id144" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id145" x="-2560" y="-200">
<urgent/>
</location>
<location id="id146" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id147" x="-1928" y="-200">
<urgent/>
</location>
<location id="id148" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id149" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id150" x="-2560" y="-288">
<urgent/>
</location>
<location id="id151" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id152" x="-2336" y="-40">
<urgent/>
</location>
<location id="id153" x="-2264" y="-360">
<urgent/>
</location>
<location id="id154" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id155" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id156" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id157" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id158" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id159" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id160" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id161" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id148"/>
<transition>
<source ref="id144"/>
<target ref="id149"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id145"/>
<target ref="id146"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id145"/>
<target ref="id150"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id148"/>
<target ref="id150"/>
</transition>
<transition>
<source ref="id149"/>
<target ref="id145"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id150"/>
<target ref="id161"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id159"/>
<target ref="id159"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id155"/>
<target ref="id152"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id153"/>
<target ref="id146"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id153"/>
<target ref="id161"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id155"/>
<target ref="id155"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id147"/>
<target ref="id156"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id154"/>
<target ref="id144"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id147"/>
<target ref="id154"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id157"/>
<target ref="id157"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id152"/>
<target ref="id151"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id152"/>
<target ref="id149"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id156"/>
<target ref="id155"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id157"/>
<target ref="id147"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id158"/>
<target ref="id157"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id159"/>
<target ref="id158"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id159"/>
<target ref="id153"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id160"/>
<target ref="id159"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id161"/>
<target ref="id160"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process9</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id162" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id163" x="-2560" y="-200">
<urgent/>
</location>
<location id="id164" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id165" x="-1928" y="-200">
<urgent/>
</location>
<location id="id166" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id167" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id168" x="-2560" y="-288">
<urgent/>
</location>
<location id="id169" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id170" x="-2336" y="-40">
<urgent/>
</location>
<location id="id171" x="-2264" y="-360">
<urgent/>
</location>
<location id="id172" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id173" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id174" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id175" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id176" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id177" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id178" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id179" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id166"/>
<transition>
<source ref="id162"/>
<target ref="id167"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id163"/>
<target ref="id164"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id163"/>
<target ref="id168"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id166"/>
<target ref="id168"/>
</transition>
<transition>
<source ref="id167"/>
<target ref="id163"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id168"/>
<target ref="id179"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id177"/>
<target ref="id177"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id173"/>
<target ref="id170"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id171"/>
<target ref="id164"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id171"/>
<target ref="id179"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id173"/>
<target ref="id173"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id165"/>
<target ref="id174"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id172"/>
<target ref="id162"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id165"/>
<target ref="id172"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id175"/>
<target ref="id175"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id170"/>
<target ref="id169"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id170"/>
<target ref="id167"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id174"/>
<target ref="id173"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id175"/>
<target ref="id165"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id176"/>
<target ref="id175"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id177"/>
<target ref="id176"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id177"/>
<target ref="id171"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id178"/>
<target ref="id177"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id179"/>
<target ref="id178"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process10</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id180" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id181" x="-2560" y="-200">
<urgent/>
</location>
<location id="id182" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id183" x="-1928" y="-200">
<urgent/>
</location>
<location id="id184" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id185" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id186" x="-2560" y="-288">
<urgent/>
</location>
<location id="id187" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id188" x="-2336" y="-40">
<urgent/>
</location>
<location id="id189" x="-2264" y="-360">
<urgent/>
</location>
<location id="id190" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id191" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id192" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id193" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id194" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id195" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id196" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id197" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id184"/>
<transition>
<source ref="id180"/>
<target ref="id185"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id181"/>
<target ref="id182"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id181"/>
<target ref="id186"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id184"/>
<target ref="id186"/>
</transition>
<transition>
<source ref="id185"/>
<target ref="id181"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id186"/>
<target ref="id197"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id195"/>
<target ref="id195"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id191"/>
<target ref="id188"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id189"/>
<target ref="id182"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id189"/>
<target ref="id197"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id191"/>
<target ref="id191"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id183"/>
<target ref="id192"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id190"/>
<target ref="id180"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id183"/>
<target ref="id190"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id193"/>
<target ref="id193"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id188"/>
<target ref="id187"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id188"/>
<target ref="id185"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id192"/>
<target ref="id191"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id193"/>
<target ref="id183"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id194"/>
<target ref="id193"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id195"/>
<target ref="id194"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id195"/>
<target ref="id189"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id196"/>
<target ref="id195"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id197"/>
<target ref="id196"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process11</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id198" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id199" x="-2560" y="-200">
<urgent/>
</location>
<location id="id200" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id201" x="-1928" y="-200">
<urgent/>
</location>
<location id="id202" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id203" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id204" x="-2560" y="-288">
<urgent/>
</location>
<location id="id205" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id206" x="-2336" y="-40">
<urgent/>
</location>
<location id="id207" x="-2264" y="-360">
<urgent/>
</location>
<location id="id208" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id209" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id210" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id211" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id212" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id213" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id214" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id215" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id202"/>
<transition>
<source ref="id198"/>
<target ref="id203"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id199"/>
<target ref="id200"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id199"/>
<target ref="id204"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id202"/>
<target ref="id204"/>
</transition>
<transition>
<source ref="id203"/>
<target ref="id199"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id204"/>
<target ref="id215"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id213"/>
<target ref="id213"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id209"/>
<target ref="id206"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id207"/>
<target ref="id200"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id207"/>
<target ref="id215"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id209"/>
<target ref="id209"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id201"/>
<target ref="id210"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id208"/>
<target ref="id198"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id201"/>
<target ref="id208"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id211"/>
<target ref="id211"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id206"/>
<target ref="id205"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id206"/>
<target ref="id203"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id210"/>
<target ref="id209"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id211"/>
<target ref="id201"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id212"/>
<target ref="id211"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id213"/>
<target ref="id212"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id213"/>
<target ref="id207"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id214"/>
<target ref="id213"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id215"/>
<target ref="id214"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process12</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id216" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id217" x="-2560" y="-200">
<urgent/>
</location>
<location id="id218" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id219" x="-1928" y="-200">
<urgent/>
</location>
<location id="id220" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id221" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id222" x="-2560" y="-288">
<urgent/>
</location>
<location id="id223" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id224" x="-2336" y="-40">
<urgent/>
</location>
<location id="id225" x="-2264" y="-360">
<urgent/>
</location>
<location id="id226" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id227" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id228" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id229" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id230" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id231" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id232" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id233" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id220"/>
<transition>
<source ref="id216"/>
<target ref="id221"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id217"/>
<target ref="id218"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id217"/>
<target ref="id222"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id220"/>
<target ref="id222"/>
</transition>
<transition>
<source ref="id221"/>
<target ref="id217"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id222"/>
<target ref="id233"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id231"/>
<target ref="id231"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id227"/>
<target ref="id224"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id225"/>
<target ref="id218"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id225"/>
<target ref="id233"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id227"/>
<target ref="id227"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id219"/>
<target ref="id228"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id226"/>
<target ref="id216"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id219"/>
<target ref="id226"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id229"/>
<target ref="id229"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id224"/>
<target ref="id223"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id224"/>
<target ref="id221"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id228"/>
<target ref="id227"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id229"/>
<target ref="id219"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id230"/>
<target ref="id229"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id231"/>
<target ref="id230"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id231"/>
<target ref="id225"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id232"/>
<target ref="id231"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id233"/>
<target ref="id232"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process13</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id234" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id235" x="-2560" y="-200">
<urgent/>
</location>
<location id="id236" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id237" x="-1928" y="-200">
<urgent/>
</location>
<location id="id238" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id239" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id240" x="-2560" y="-288">
<urgent/>
</location>
<location id="id241" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id242" x="-2336" y="-40">
<urgent/>
</location>
<location id="id243" x="-2264" y="-360">
<urgent/>
</location>
<location id="id244" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id245" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id246" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id247" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id248" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id249" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id250" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id251" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id238"/>
<transition>
<source ref="id234"/>
<target ref="id239"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id235"/>
<target ref="id236"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id235"/>
<target ref="id240"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id238"/>
<target ref="id240"/>
</transition>
<transition>
<source ref="id239"/>
<target ref="id235"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id240"/>
<target ref="id251"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id249"/>
<target ref="id249"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id245"/>
<target ref="id242"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id243"/>
<target ref="id236"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id243"/>
<target ref="id251"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id245"/>
<target ref="id245"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id237"/>
<target ref="id246"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id244"/>
<target ref="id234"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id237"/>
<target ref="id244"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id247"/>
<target ref="id247"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id242"/>
<target ref="id241"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id242"/>
<target ref="id239"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id246"/>
<target ref="id245"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id247"/>
<target ref="id237"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id248"/>
<target ref="id247"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id249"/>
<target ref="id248"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id249"/>
<target ref="id243"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id250"/>
<target ref="id249"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id251"/>
<target ref="id250"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process14</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id252" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id253" x="-2560" y="-200">
<urgent/>
</location>
<location id="id254" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id255" x="-1928" y="-200">
<urgent/>
</location>
<location id="id256" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id257" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id258" x="-2560" y="-288">
<urgent/>
</location>
<location id="id259" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id260" x="-2336" y="-40">
<urgent/>
</location>
<location id="id261" x="-2264" y="-360">
<urgent/>
</location>
<location id="id262" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id263" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id264" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id265" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id266" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id267" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id268" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id269" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id256"/>
<transition>
<source ref="id252"/>
<target ref="id257"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id253"/>
<target ref="id254"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id253"/>
<target ref="id258"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id256"/>
<target ref="id258"/>
</transition>
<transition>
<source ref="id257"/>
<target ref="id253"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id258"/>
<target ref="id269"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id267"/>
<target ref="id267"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id263"/>
<target ref="id260"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id261"/>
<target ref="id254"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id261"/>
<target ref="id269"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id263"/>
<target ref="id263"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id255"/>
<target ref="id264"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id262"/>
<target ref="id252"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id255"/>
<target ref="id262"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id265"/>
<target ref="id265"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id260"/>
<target ref="id259"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id260"/>
<target ref="id257"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id264"/>
<target ref="id263"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id265"/>
<target ref="id255"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id266"/>
<target ref="id265"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id267"/>
<target ref="id266"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id267"/>
<target ref="id261"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id268"/>
<target ref="id267"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id269"/>
<target ref="id268"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process15</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id270" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id271" x="-2560" y="-200">
<urgent/>
</location>
<location id="id272" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id273" x="-1928" y="-200">
<urgent/>
</location>
<location id="id274" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id275" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id276" x="-2560" y="-288">
<urgent/>
</location>
<location id="id277" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id278" x="-2336" y="-40">
<urgent/>
</location>
<location id="id279" x="-2264" y="-360">
<urgent/>
</location>
<location id="id280" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id281" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id282" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id283" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id284" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id285" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id286" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id287" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id274"/>
<transition>
<source ref="id270"/>
<target ref="id275"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id271"/>
<target ref="id272"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id271"/>
<target ref="id276"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id274"/>
<target ref="id276"/>
</transition>
<transition>
<source ref="id275"/>
<target ref="id271"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id276"/>
<target ref="id287"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id285"/>
<target ref="id285"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id281"/>
<target ref="id278"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id279"/>
<target ref="id272"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id279"/>
<target ref="id287"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id281"/>
<target ref="id281"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id273"/>
<target ref="id282"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id280"/>
<target ref="id270"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id273"/>
<target ref="id280"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id283"/>
<target ref="id283"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id278"/>
<target ref="id277"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id278"/>
<target ref="id275"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id282"/>
<target ref="id281"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id283"/>
<target ref="id273"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id284"/>
<target ref="id283"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id285"/>
<target ref="id284"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id285"/>
<target ref="id279"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id286"/>
<target ref="id285"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id287"/>
<target ref="id286"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process16</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id288" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id289" x="-2560" y="-200">
<urgent/>
</location>
<location id="id290" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id291" x="-1928" y="-200">
<urgent/>
</location>
<location id="id292" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id293" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id294" x="-2560" y="-288">
<urgent/>
</location>
<location id="id295" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id296" x="-2336" y="-40">
<urgent/>
</location>
<location id="id297" x="-2264" y="-360">
<urgent/>
</location>
<location id="id298" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id299" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id300" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id301" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id302" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id303" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id304" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id305" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id292"/>
<transition>
<source ref="id288"/>
<target ref="id293"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id289"/>
<target ref="id290"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id289"/>
<target ref="id294"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id292"/>
<target ref="id294"/>
</transition>
<transition>
<source ref="id293"/>
<target ref="id289"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id294"/>
<target ref="id305"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id303"/>
<target ref="id303"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id299"/>
<target ref="id296"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id297"/>
<target ref="id290"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id297"/>
<target ref="id305"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id299"/>
<target ref="id299"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id291"/>
<target ref="id300"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id298"/>
<target ref="id288"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id291"/>
<target ref="id298"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id301"/>
<target ref="id301"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id296"/>
<target ref="id295"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id296"/>
<target ref="id293"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id300"/>
<target ref="id299"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id301"/>
<target ref="id291"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id302"/>
<target ref="id301"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id303"/>
<target ref="id302"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id303"/>
<target ref="id297"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id304"/>
<target ref="id303"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id305"/>
<target ref="id304"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process17</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id306" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id307" x="-2560" y="-200">
<urgent/>
</location>
<location id="id308" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id309" x="-1928" y="-200">
<urgent/>
</location>
<location id="id310" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id311" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id312" x="-2560" y="-288">
<urgent/>
</location>
<location id="id313" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id314" x="-2336" y="-40">
<urgent/>
</location>
<location id="id315" x="-2264" y="-360">
<urgent/>
</location>
<location id="id316" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id317" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id318" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id319" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id320" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id321" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id322" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id323" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id310"/>
<transition>
<source ref="id306"/>
<target ref="id311"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id307"/>
<target ref="id308"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id307"/>
<target ref="id312"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id310"/>
<target ref="id312"/>
</transition>
<transition>
<source ref="id311"/>
<target ref="id307"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id312"/>
<target ref="id323"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id321"/>
<target ref="id321"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id317"/>
<target ref="id314"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id315"/>
<target ref="id308"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id315"/>
<target ref="id323"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id317"/>
<target ref="id317"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id309"/>
<target ref="id318"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id316"/>
<target ref="id306"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id309"/>
<target ref="id316"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id319"/>
<target ref="id319"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id314"/>
<target ref="id313"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id314"/>
<target ref="id311"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id318"/>
<target ref="id317"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id319"/>
<target ref="id309"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id320"/>
<target ref="id319"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id321"/>
<target ref="id320"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id321"/>
<target ref="id315"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id322"/>
<target ref="id321"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id323"/>
<target ref="id322"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process18</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id324" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id325" x="-2560" y="-200">
<urgent/>
</location>
<location id="id326" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id327" x="-1928" y="-200">
<urgent/>
</location>
<location id="id328" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id329" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id330" x="-2560" y="-288">
<urgent/>
</location>
<location id="id331" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id332" x="-2336" y="-40">
<urgent/>
</location>
<location id="id333" x="-2264" y="-360">
<urgent/>
</location>
<location id="id334" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id335" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id336" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id337" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id338" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id339" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id340" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id341" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id328"/>
<transition>
<source ref="id324"/>
<target ref="id329"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id325"/>
<target ref="id326"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id325"/>
<target ref="id330"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id328"/>
<target ref="id330"/>
</transition>
<transition>
<source ref="id329"/>
<target ref="id325"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id330"/>
<target ref="id341"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id339"/>
<target ref="id339"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id335"/>
<target ref="id332"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id333"/>
<target ref="id326"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id333"/>
<target ref="id341"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id335"/>
<target ref="id335"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id327"/>
<target ref="id336"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id334"/>
<target ref="id324"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id327"/>
<target ref="id334"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id337"/>
<target ref="id337"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id332"/>
<target ref="id331"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id332"/>
<target ref="id329"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id336"/>
<target ref="id335"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id337"/>
<target ref="id327"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id338"/>
<target ref="id337"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id339"/>
<target ref="id338"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id339"/>
<target ref="id333"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id340"/>
<target ref="id339"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id341"/>
<target ref="id340"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process19</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id342" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id343" x="-2560" y="-200">
<urgent/>
</location>
<location id="id344" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id345" x="-1928" y="-200">
<urgent/>
</location>
<location id="id346" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id347" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id348" x="-2560" y="-288">
<urgent/>
</location>
<location id="id349" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id350" x="-2336" y="-40">
<urgent/>
</location>
<location id="id351" x="-2264" y="-360">
<urgent/>
</location>
<location id="id352" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id353" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id354" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id355" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id356" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id357" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id358" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id359" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id346"/>
<transition>
<source ref="id342"/>
<target ref="id347"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id343"/>
<target ref="id344"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id343"/>
<target ref="id348"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id346"/>
<target ref="id348"/>
</transition>
<transition>
<source ref="id347"/>
<target ref="id343"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id348"/>
<target ref="id359"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id357"/>
<target ref="id357"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id353"/>
<target ref="id350"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id351"/>
<target ref="id344"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id351"/>
<target ref="id359"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id353"/>
<target ref="id353"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id345"/>
<target ref="id354"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id352"/>
<target ref="id342"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id345"/>
<target ref="id352"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id355"/>
<target ref="id355"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id350"/>
<target ref="id349"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id350"/>
<target ref="id347"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id354"/>
<target ref="id353"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id355"/>
<target ref="id345"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id356"/>
<target ref="id355"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id357"/>
<target ref="id356"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id357"/>
<target ref="id351"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id358"/>
<target ref="id357"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id359"/>
<target ref="id358"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process20</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id360" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id361" x="-2560" y="-200">
<urgent/>
</location>
<location id="id362" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id363" x="-1928" y="-200">
<urgent/>
</location>
<location id="id364" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id365" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id366" x="-2560" y="-288">
<urgent/>
</location>
<location id="id367" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id368" x="-2336" y="-40">
<urgent/>
</location>
<location id="id369" x="-2264" y="-360">
<urgent/>
</location>
<location id="id370" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id371" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id372" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id373" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id374" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id375" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id376" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id377" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id364"/>
<transition>
<source ref="id360"/>
<target ref="id365"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id361"/>
<target ref="id362"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id361"/>
<target ref="id366"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id364"/>
<target ref="id366"/>
</transition>
<transition>
<source ref="id365"/>
<target ref="id361"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id366"/>
<target ref="id377"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id375"/>
<target ref="id375"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id371"/>
<target ref="id368"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id369"/>
<target ref="id362"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id369"/>
<target ref="id377"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id371"/>
<target ref="id371"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id363"/>
<target ref="id372"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id370"/>
<target ref="id360"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id363"/>
<target ref="id370"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id373"/>
<target ref="id373"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id368"/>
<target ref="id367"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id368"/>
<target ref="id365"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id372"/>
<target ref="id371"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id373"/>
<target ref="id363"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id374"/>
<target ref="id373"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id375"/>
<target ref="id374"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id375"/>
<target ref="id369"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id376"/>
<target ref="id375"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id377"/>
<target ref="id376"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process21</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id378" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id379" x="-2560" y="-200">
<urgent/>
</location>
<location id="id380" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id381" x="-1928" y="-200">
<urgent/>
</location>
<location id="id382" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id383" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id384" x="-2560" y="-288">
<urgent/>
</location>
<location id="id385" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id386" x="-2336" y="-40">
<urgent/>
</location>
<location id="id387" x="-2264" y="-360">
<urgent/>
</location>
<location id="id388" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id389" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id390" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id391" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id392" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id393" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id394" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id395" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id382"/>
<transition>
<source ref="id378"/>
<target ref="id383"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id379"/>
<target ref="id380"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id379"/>
<target ref="id384"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id382"/>
<target ref="id384"/>
</transition>
<transition>
<source ref="id383"/>
<target ref="id379"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id384"/>
<target ref="id395"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id393"/>
<target ref="id393"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id389"/>
<target ref="id386"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id387"/>
<target ref="id380"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id387"/>
<target ref="id395"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id389"/>
<target ref="id389"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id381"/>
<target ref="id390"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id388"/>
<target ref="id378"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id381"/>
<target ref="id388"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id391"/>
<target ref="id391"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id386"/>
<target ref="id385"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id386"/>
<target ref="id383"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id390"/>
<target ref="id389"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id391"/>
<target ref="id381"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id392"/>
<target ref="id391"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id393"/>
<target ref="id392"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id393"/>
<target ref="id387"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id394"/>
<target ref="id393"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id395"/>
<target ref="id394"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process22</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id396" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id397" x="-2560" y="-200">
<urgent/>
</location>
<location id="id398" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id399" x="-1928" y="-200">
<urgent/>
</location>
<location id="id400" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id401" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id402" x="-2560" y="-288">
<urgent/>
</location>
<location id="id403" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id404" x="-2336" y="-40">
<urgent/>
</location>
<location id="id405" x="-2264" y="-360">
<urgent/>
</location>
<location id="id406" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id407" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id408" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id409" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id410" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id411" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id412" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id413" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id400"/>
<transition>
<source ref="id396"/>
<target ref="id401"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id397"/>
<target ref="id398"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id397"/>
<target ref="id402"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id400"/>
<target ref="id402"/>
</transition>
<transition>
<source ref="id401"/>
<target ref="id397"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id402"/>
<target ref="id413"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id411"/>
<target ref="id411"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id407"/>
<target ref="id404"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id405"/>
<target ref="id398"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id405"/>
<target ref="id413"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id407"/>
<target ref="id407"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id399"/>
<target ref="id408"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id406"/>
<target ref="id396"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id399"/>
<target ref="id406"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id409"/>
<target ref="id409"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id404"/>
<target ref="id403"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id404"/>
<target ref="id401"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id408"/>
<target ref="id407"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id409"/>
<target ref="id399"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id410"/>
<target ref="id409"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id411"/>
<target ref="id410"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id411"/>
<target ref="id405"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id412"/>
<target ref="id411"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id413"/>
<target ref="id412"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process23</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id414" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id415" x="-2560" y="-200">
<urgent/>
</location>
<location id="id416" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id417" x="-1928" y="-200">
<urgent/>
</location>
<location id="id418" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id419" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id420" x="-2560" y="-288">
<urgent/>
</location>
<location id="id421" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id422" x="-2336" y="-40">
<urgent/>
</location>
<location id="id423" x="-2264" y="-360">
<urgent/>
</location>
<location id="id424" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id425" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id426" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id427" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id428" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id429" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id430" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id431" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id418"/>
<transition>
<source ref="id414"/>
<target ref="id419"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id415"/>
<target ref="id416"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id415"/>
<target ref="id420"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id418"/>
<target ref="id420"/>
</transition>
<transition>
<source ref="id419"/>
<target ref="id415"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id420"/>
<target ref="id431"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id429"/>
<target ref="id429"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id425"/>
<target ref="id422"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id423"/>
<target ref="id416"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id423"/>
<target ref="id431"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id425"/>
<target ref="id425"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id417"/>
<target ref="id426"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id424"/>
<target ref="id414"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id417"/>
<target ref="id424"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id427"/>
<target ref="id427"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id422"/>
<target ref="id421"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id422"/>
<target ref="id419"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id426"/>
<target ref="id425"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id427"/>
<target ref="id417"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id428"/>
<target ref="id427"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id429"/>
<target ref="id428"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id429"/>
<target ref="id423"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id430"/>
<target ref="id429"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id431"/>
<target ref="id430"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process24</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id432" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id433" x="-2560" y="-200">
<urgent/>
</location>
<location id="id434" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id435" x="-1928" y="-200">
<urgent/>
</location>
<location id="id436" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id437" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id438" x="-2560" y="-288">
<urgent/>
</location>
<location id="id439" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id440" x="-2336" y="-40">
<urgent/>
</location>
<location id="id441" x="-2264" y="-360">
<urgent/>
</location>
<location id="id442" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id443" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id444" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id445" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id446" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id447" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id448" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id449" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id436"/>
<transition>
<source ref="id432"/>
<target ref="id437"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id433"/>
<target ref="id434"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id433"/>
<target ref="id438"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id436"/>
<target ref="id438"/>
</transition>
<transition>
<source ref="id437"/>
<target ref="id433"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id438"/>
<target ref="id449"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id447"/>
<target ref="id447"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id443"/>
<target ref="id440"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id441"/>
<target ref="id434"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id441"/>
<target ref="id449"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id443"/>
<target ref="id443"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id435"/>
<target ref="id444"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id442"/>
<target ref="id432"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id435"/>
<target ref="id442"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id445"/>
<target ref="id445"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id440"/>
<target ref="id439"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id440"/>
<target ref="id437"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id444"/>
<target ref="id443"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id445"/>
<target ref="id435"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id446"/>
<target ref="id445"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id447"/>
<target ref="id446"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id447"/>
<target ref="id441"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id448"/>
<target ref="id447"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id449"/>
<target ref="id448"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process25</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id450" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id451" x="-2560" y="-200">
<urgent/>
</location>
<location id="id452" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id453" x="-1928" y="-200">
<urgent/>
</location>
<location id="id454" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id455" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id456" x="-2560" y="-288">
<urgent/>
</location>
<location id="id457" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id458" x="-2336" y="-40">
<urgent/>
</location>
<location id="id459" x="-2264" y="-360">
<urgent/>
</location>
<location id="id460" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id461" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id462" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id463" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id464" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id465" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id466" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id467" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id454"/>
<transition>
<source ref="id450"/>
<target ref="id455"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id451"/>
<target ref="id452"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id451"/>
<target ref="id456"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id454"/>
<target ref="id456"/>
</transition>
<transition>
<source ref="id455"/>
<target ref="id451"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id456"/>
<target ref="id467"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id465"/>
<target ref="id465"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id461"/>
<target ref="id458"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id459"/>
<target ref="id452"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id459"/>
<target ref="id467"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id461"/>
<target ref="id461"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id453"/>
<target ref="id462"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id460"/>
<target ref="id450"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id453"/>
<target ref="id460"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id463"/>
<target ref="id463"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id458"/>
<target ref="id457"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id458"/>
<target ref="id455"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id462"/>
<target ref="id461"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id463"/>
<target ref="id453"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id464"/>
<target ref="id463"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id465"/>
<target ref="id464"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id465"/>
<target ref="id459"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id466"/>
<target ref="id465"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id467"/>
<target ref="id466"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process26</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id468" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id469" x="-2560" y="-200">
<urgent/>
</location>
<location id="id470" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id471" x="-1928" y="-200">
<urgent/>
</location>
<location id="id472" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id473" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id474" x="-2560" y="-288">
<urgent/>
</location>
<location id="id475" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id476" x="-2336" y="-40">
<urgent/>
</location>
<location id="id477" x="-2264" y="-360">
<urgent/>
</location>
<location id="id478" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id479" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id480" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id481" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id482" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id483" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id484" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id485" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id472"/>
<transition>
<source ref="id468"/>
<target ref="id473"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id469"/>
<target ref="id470"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id469"/>
<target ref="id474"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id472"/>
<target ref="id474"/>
</transition>
<transition>
<source ref="id473"/>
<target ref="id469"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id474"/>
<target ref="id485"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id483"/>
<target ref="id483"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id479"/>
<target ref="id476"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id477"/>
<target ref="id470"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id477"/>
<target ref="id485"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id479"/>
<target ref="id479"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id471"/>
<target ref="id480"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id478"/>
<target ref="id468"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id471"/>
<target ref="id478"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id481"/>
<target ref="id481"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id476"/>
<target ref="id475"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id476"/>
<target ref="id473"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id480"/>
<target ref="id479"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id481"/>
<target ref="id471"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id482"/>
<target ref="id481"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id483"/>
<target ref="id482"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id483"/>
<target ref="id477"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id484"/>
<target ref="id483"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id485"/>
<target ref="id484"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process27</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id486" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id487" x="-2560" y="-200">
<urgent/>
</location>
<location id="id488" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id489" x="-1928" y="-200">
<urgent/>
</location>
<location id="id490" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id491" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id492" x="-2560" y="-288">
<urgent/>
</location>
<location id="id493" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id494" x="-2336" y="-40">
<urgent/>
</location>
<location id="id495" x="-2264" y="-360">
<urgent/>
</location>
<location id="id496" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id497" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id498" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id499" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id500" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id501" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id502" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id503" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id490"/>
<transition>
<source ref="id486"/>
<target ref="id491"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id487"/>
<target ref="id488"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id487"/>
<target ref="id492"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id490"/>
<target ref="id492"/>
</transition>
<transition>
<source ref="id491"/>
<target ref="id487"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id492"/>
<target ref="id503"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id501"/>
<target ref="id501"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id497"/>
<target ref="id494"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id495"/>
<target ref="id488"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id495"/>
<target ref="id503"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id497"/>
<target ref="id497"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id489"/>
<target ref="id498"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id496"/>
<target ref="id486"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id489"/>
<target ref="id496"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id499"/>
<target ref="id499"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id494"/>
<target ref="id493"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id494"/>
<target ref="id491"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id498"/>
<target ref="id497"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id499"/>
<target ref="id489"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id500"/>
<target ref="id499"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id501"/>
<target ref="id500"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id501"/>
<target ref="id495"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id502"/>
<target ref="id501"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id503"/>
<target ref="id502"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process28</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id504" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id505" x="-2560" y="-200">
<urgent/>
</location>
<location id="id506" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id507" x="-1928" y="-200">
<urgent/>
</location>
<location id="id508" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id509" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id510" x="-2560" y="-288">
<urgent/>
</location>
<location id="id511" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id512" x="-2336" y="-40">
<urgent/>
</location>
<location id="id513" x="-2264" y="-360">
<urgent/>
</location>
<location id="id514" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id515" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id516" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id517" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id518" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id519" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id520" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id521" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id508"/>
<transition>
<source ref="id504"/>
<target ref="id509"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id505"/>
<target ref="id506"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id505"/>
<target ref="id510"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id508"/>
<target ref="id510"/>
</transition>
<transition>
<source ref="id509"/>
<target ref="id505"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id510"/>
<target ref="id521"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id519"/>
<target ref="id519"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id515"/>
<target ref="id512"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id513"/>
<target ref="id506"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id513"/>
<target ref="id521"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id515"/>
<target ref="id515"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id507"/>
<target ref="id516"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id514"/>
<target ref="id504"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id507"/>
<target ref="id514"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id517"/>
<target ref="id517"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id512"/>
<target ref="id511"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id512"/>
<target ref="id509"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id516"/>
<target ref="id515"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id517"/>
<target ref="id507"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id518"/>
<target ref="id517"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id519"/>
<target ref="id518"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id519"/>
<target ref="id513"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id520"/>
<target ref="id519"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id521"/>
<target ref="id520"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process29</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id522" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id523" x="-2560" y="-200">
<urgent/>
</location>
<location id="id524" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id525" x="-1928" y="-200">
<urgent/>
</location>
<location id="id526" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id527" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id528" x="-2560" y="-288">
<urgent/>
</location>
<location id="id529" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id530" x="-2336" y="-40">
<urgent/>
</location>
<location id="id531" x="-2264" y="-360">
<urgent/>
</location>
<location id="id532" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id533" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id534" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id535" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id536" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id537" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id538" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id539" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id526"/>
<transition>
<source ref="id522"/>
<target ref="id527"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id523"/>
<target ref="id524"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id523"/>
<target ref="id528"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id526"/>
<target ref="id528"/>
</transition>
<transition>
<source ref="id527"/>
<target ref="id523"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id528"/>
<target ref="id539"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id537"/>
<target ref="id537"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id533"/>
<target ref="id530"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id531"/>
<target ref="id524"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id531"/>
<target ref="id539"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id533"/>
<target ref="id533"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id525"/>
<target ref="id534"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id532"/>
<target ref="id522"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id525"/>
<target ref="id532"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id535"/>
<target ref="id535"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id530"/>
<target ref="id529"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id530"/>
<target ref="id527"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id534"/>
<target ref="id533"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id535"/>
<target ref="id525"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id536"/>
<target ref="id535"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id537"/>
<target ref="id536"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id537"/>
<target ref="id531"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id538"/>
<target ref="id537"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id539"/>
<target ref="id538"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process30</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id540" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id541" x="-2560" y="-200">
<urgent/>
</location>
<location id="id542" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id543" x="-1928" y="-200">
<urgent/>
</location>
<location id="id544" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id545" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id546" x="-2560" y="-288">
<urgent/>
</location>
<location id="id547" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id548" x="-2336" y="-40">
<urgent/>
</location>
<location id="id549" x="-2264" y="-360">
<urgent/>
</location>
<location id="id550" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id551" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id552" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id553" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id554" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id555" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id556" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id557" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id544"/>
<transition>
<source ref="id540"/>
<target ref="id545"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id541"/>
<target ref="id542"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id541"/>
<target ref="id546"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id544"/>
<target ref="id546"/>
</transition>
<transition>
<source ref="id545"/>
<target ref="id541"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id546"/>
<target ref="id557"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id555"/>
<target ref="id555"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id551"/>
<target ref="id548"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id549"/>
<target ref="id542"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id549"/>
<target ref="id557"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id551"/>
<target ref="id551"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id543"/>
<target ref="id552"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id550"/>
<target ref="id540"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id543"/>
<target ref="id550"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id553"/>
<target ref="id553"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id548"/>
<target ref="id547"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id548"/>
<target ref="id545"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id552"/>
<target ref="id551"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id553"/>
<target ref="id543"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id554"/>
<target ref="id553"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id555"/>
<target ref="id554"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id555"/>
<target ref="id549"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id556"/>
<target ref="id555"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id557"/>
<target ref="id556"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process31</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id558" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id559" x="-2560" y="-200">
<urgent/>
</location>
<location id="id560" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id561" x="-1928" y="-200">
<urgent/>
</location>
<location id="id562" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id563" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id564" x="-2560" y="-288">
<urgent/>
</location>
<location id="id565" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id566" x="-2336" y="-40">
<urgent/>
</location>
<location id="id567" x="-2264" y="-360">
<urgent/>
</location>
<location id="id568" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id569" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id570" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id571" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id572" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id573" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id574" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id575" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id562"/>
<transition>
<source ref="id558"/>
<target ref="id563"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id559"/>
<target ref="id560"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id559"/>
<target ref="id564"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id562"/>
<target ref="id564"/>
</transition>
<transition>
<source ref="id563"/>
<target ref="id559"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id564"/>
<target ref="id575"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id573"/>
<target ref="id573"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id569"/>
<target ref="id566"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id567"/>
<target ref="id560"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id567"/>
<target ref="id575"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id569"/>
<target ref="id569"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id561"/>
<target ref="id570"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id568"/>
<target ref="id558"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id561"/>
<target ref="id568"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id571"/>
<target ref="id571"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id566"/>
<target ref="id565"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id566"/>
<target ref="id563"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id570"/>
<target ref="id569"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id571"/>
<target ref="id561"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id572"/>
<target ref="id571"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id573"/>
<target ref="id572"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id573"/>
<target ref="id567"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id574"/>
<target ref="id573"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id575"/>
<target ref="id574"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process32</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id576" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id577" x="-2560" y="-200">
<urgent/>
</location>
<location id="id578" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id579" x="-1928" y="-200">
<urgent/>
</location>
<location id="id580" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id581" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id582" x="-2560" y="-288">
<urgent/>
</location>
<location id="id583" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id584" x="-2336" y="-40">
<urgent/>
</location>
<location id="id585" x="-2264" y="-360">
<urgent/>
</location>
<location id="id586" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id587" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id588" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id589" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id590" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id591" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id592" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id593" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id580"/>
<transition>
<source ref="id576"/>
<target ref="id581"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id577"/>
<target ref="id578"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id577"/>
<target ref="id582"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id580"/>
<target ref="id582"/>
</transition>
<transition>
<source ref="id581"/>
<target ref="id577"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id582"/>
<target ref="id593"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id591"/>
<target ref="id591"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id587"/>
<target ref="id584"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id585"/>
<target ref="id578"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id585"/>
<target ref="id593"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id587"/>
<target ref="id587"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id579"/>
<target ref="id588"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id586"/>
<target ref="id576"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id579"/>
<target ref="id586"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id589"/>
<target ref="id589"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id584"/>
<target ref="id583"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id584"/>
<target ref="id581"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id588"/>
<target ref="id587"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id589"/>
<target ref="id579"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id590"/>
<target ref="id589"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id591"/>
<target ref="id590"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id591"/>
<target ref="id585"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id592"/>
<target ref="id591"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id593"/>
<target ref="id592"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process33</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id594" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id595" x="-2560" y="-200">
<urgent/>
</location>
<location id="id596" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id597" x="-1928" y="-200">
<urgent/>
</location>
<location id="id598" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id599" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id600" x="-2560" y="-288">
<urgent/>
</location>
<location id="id601" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id602" x="-2336" y="-40">
<urgent/>
</location>
<location id="id603" x="-2264" y="-360">
<urgent/>
</location>
<location id="id604" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id605" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id606" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id607" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id608" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id609" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id610" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id611" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id598"/>
<transition>
<source ref="id594"/>
<target ref="id599"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id595"/>
<target ref="id596"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id595"/>
<target ref="id600"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id598"/>
<target ref="id600"/>
</transition>
<transition>
<source ref="id599"/>
<target ref="id595"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id600"/>
<target ref="id611"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id609"/>
<target ref="id609"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id605"/>
<target ref="id602"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id603"/>
<target ref="id596"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id603"/>
<target ref="id611"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id605"/>
<target ref="id605"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id597"/>
<target ref="id606"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id604"/>
<target ref="id594"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id597"/>
<target ref="id604"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id607"/>
<target ref="id607"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id602"/>
<target ref="id601"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id602"/>
<target ref="id599"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id606"/>
<target ref="id605"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id607"/>
<target ref="id597"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id608"/>
<target ref="id607"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id609"/>
<target ref="id608"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id609"/>
<target ref="id603"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id610"/>
<target ref="id609"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id611"/>
<target ref="id610"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process34</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id612" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id613" x="-2560" y="-200">
<urgent/>
</location>
<location id="id614" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id615" x="-1928" y="-200">
<urgent/>
</location>
<location id="id616" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id617" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id618" x="-2560" y="-288">
<urgent/>
</location>
<location id="id619" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id620" x="-2336" y="-40">
<urgent/>
</location>
<location id="id621" x="-2264" y="-360">
<urgent/>
</location>
<location id="id622" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id623" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id624" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id625" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id626" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id627" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id628" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id629" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id616"/>
<transition>
<source ref="id612"/>
<target ref="id617"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id613"/>
<target ref="id614"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id613"/>
<target ref="id618"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id616"/>
<target ref="id618"/>
</transition>
<transition>
<source ref="id617"/>
<target ref="id613"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id618"/>
<target ref="id629"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id627"/>
<target ref="id627"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id623"/>
<target ref="id620"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id621"/>
<target ref="id614"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id621"/>
<target ref="id629"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id623"/>
<target ref="id623"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id615"/>
<target ref="id624"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id622"/>
<target ref="id612"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id615"/>
<target ref="id622"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id625"/>
<target ref="id625"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id620"/>
<target ref="id619"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id620"/>
<target ref="id617"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id624"/>
<target ref="id623"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id625"/>
<target ref="id615"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id626"/>
<target ref="id625"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id627"/>
<target ref="id626"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id627"/>
<target ref="id621"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id628"/>
<target ref="id627"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id629"/>
<target ref="id628"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process35</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id630" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id631" x="-2560" y="-200">
<urgent/>
</location>
<location id="id632" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id633" x="-1928" y="-200">
<urgent/>
</location>
<location id="id634" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id635" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id636" x="-2560" y="-288">
<urgent/>
</location>
<location id="id637" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id638" x="-2336" y="-40">
<urgent/>
</location>
<location id="id639" x="-2264" y="-360">
<urgent/>
</location>
<location id="id640" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id641" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id642" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id643" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id644" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id645" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id646" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id647" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id634"/>
<transition>
<source ref="id630"/>
<target ref="id635"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id631"/>
<target ref="id632"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id631"/>
<target ref="id636"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id634"/>
<target ref="id636"/>
</transition>
<transition>
<source ref="id635"/>
<target ref="id631"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id636"/>
<target ref="id647"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id645"/>
<target ref="id645"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id641"/>
<target ref="id638"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id639"/>
<target ref="id632"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id639"/>
<target ref="id647"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id641"/>
<target ref="id641"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id633"/>
<target ref="id642"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id640"/>
<target ref="id630"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id633"/>
<target ref="id640"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id643"/>
<target ref="id643"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id638"/>
<target ref="id637"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id638"/>
<target ref="id635"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id642"/>
<target ref="id641"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id643"/>
<target ref="id633"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id644"/>
<target ref="id643"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id645"/>
<target ref="id644"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id645"/>
<target ref="id639"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id646"/>
<target ref="id645"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id647"/>
<target ref="id646"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process36</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id648" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id649" x="-2560" y="-200">
<urgent/>
</location>
<location id="id650" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id651" x="-1928" y="-200">
<urgent/>
</location>
<location id="id652" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id653" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id654" x="-2560" y="-288">
<urgent/>
</location>
<location id="id655" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id656" x="-2336" y="-40">
<urgent/>
</location>
<location id="id657" x="-2264" y="-360">
<urgent/>
</location>
<location id="id658" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id659" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id660" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id661" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id662" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id663" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id664" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id665" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id652"/>
<transition>
<source ref="id648"/>
<target ref="id653"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id649"/>
<target ref="id650"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id649"/>
<target ref="id654"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id652"/>
<target ref="id654"/>
</transition>
<transition>
<source ref="id653"/>
<target ref="id649"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id654"/>
<target ref="id665"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id663"/>
<target ref="id663"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id659"/>
<target ref="id656"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id657"/>
<target ref="id650"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id657"/>
<target ref="id665"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id659"/>
<target ref="id659"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id651"/>
<target ref="id660"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id658"/>
<target ref="id648"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id651"/>
<target ref="id658"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id661"/>
<target ref="id661"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id656"/>
<target ref="id655"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id656"/>
<target ref="id653"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id660"/>
<target ref="id659"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id661"/>
<target ref="id651"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id662"/>
<target ref="id661"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id663"/>
<target ref="id662"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id663"/>
<target ref="id657"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id664"/>
<target ref="id663"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id665"/>
<target ref="id664"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process37</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id666" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id667" x="-2560" y="-200">
<urgent/>
</location>
<location id="id668" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id669" x="-1928" y="-200">
<urgent/>
</location>
<location id="id670" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id671" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id672" x="-2560" y="-288">
<urgent/>
</location>
<location id="id673" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id674" x="-2336" y="-40">
<urgent/>
</location>
<location id="id675" x="-2264" y="-360">
<urgent/>
</location>
<location id="id676" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id677" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id678" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id679" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id680" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id681" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id682" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id683" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id670"/>
<transition>
<source ref="id666"/>
<target ref="id671"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id667"/>
<target ref="id668"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id667"/>
<target ref="id672"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id670"/>
<target ref="id672"/>
</transition>
<transition>
<source ref="id671"/>
<target ref="id667"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id672"/>
<target ref="id683"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id681"/>
<target ref="id681"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id677"/>
<target ref="id674"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id675"/>
<target ref="id668"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id675"/>
<target ref="id683"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id677"/>
<target ref="id677"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id669"/>
<target ref="id678"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id676"/>
<target ref="id666"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id669"/>
<target ref="id676"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id679"/>
<target ref="id679"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id674"/>
<target ref="id673"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id674"/>
<target ref="id671"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id678"/>
<target ref="id677"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id679"/>
<target ref="id669"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id680"/>
<target ref="id679"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id681"/>
<target ref="id680"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id681"/>
<target ref="id675"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id682"/>
<target ref="id681"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id683"/>
<target ref="id682"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process38</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id684" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id685" x="-2560" y="-200">
<urgent/>
</location>
<location id="id686" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id687" x="-1928" y="-200">
<urgent/>
</location>
<location id="id688" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id689" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id690" x="-2560" y="-288">
<urgent/>
</location>
<location id="id691" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id692" x="-2336" y="-40">
<urgent/>
</location>
<location id="id693" x="-2264" y="-360">
<urgent/>
</location>
<location id="id694" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id695" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id696" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id697" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id698" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id699" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id700" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id701" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id688"/>
<transition>
<source ref="id684"/>
<target ref="id689"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id685"/>
<target ref="id686"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id685"/>
<target ref="id690"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id688"/>
<target ref="id690"/>
</transition>
<transition>
<source ref="id689"/>
<target ref="id685"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id690"/>
<target ref="id701"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id699"/>
<target ref="id699"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id695"/>
<target ref="id692"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id693"/>
<target ref="id686"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id693"/>
<target ref="id701"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id695"/>
<target ref="id695"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id687"/>
<target ref="id696"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id694"/>
<target ref="id684"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id687"/>
<target ref="id694"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id697"/>
<target ref="id697"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id692"/>
<target ref="id691"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id692"/>
<target ref="id689"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id696"/>
<target ref="id695"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id697"/>
<target ref="id687"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id698"/>
<target ref="id697"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id699"/>
<target ref="id698"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id699"/>
<target ref="id693"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id700"/>
<target ref="id699"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id701"/>
<target ref="id700"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process39</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id702" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id703" x="-2560" y="-200">
<urgent/>
</location>
<location id="id704" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id705" x="-1928" y="-200">
<urgent/>
</location>
<location id="id706" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id707" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id708" x="-2560" y="-288">
<urgent/>
</location>
<location id="id709" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id710" x="-2336" y="-40">
<urgent/>
</location>
<location id="id711" x="-2264" y="-360">
<urgent/>
</location>
<location id="id712" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id713" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id714" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id715" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id716" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id717" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id718" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id719" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id706"/>
<transition>
<source ref="id702"/>
<target ref="id707"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id703"/>
<target ref="id704"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id703"/>
<target ref="id708"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id706"/>
<target ref="id708"/>
</transition>
<transition>
<source ref="id707"/>
<target ref="id703"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id708"/>
<target ref="id719"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id717"/>
<target ref="id717"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id713"/>
<target ref="id710"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id711"/>
<target ref="id704"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id711"/>
<target ref="id719"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id713"/>
<target ref="id713"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id705"/>
<target ref="id714"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id712"/>
<target ref="id702"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id705"/>
<target ref="id712"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id715"/>
<target ref="id715"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id710"/>
<target ref="id709"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id710"/>
<target ref="id707"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id714"/>
<target ref="id713"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id715"/>
<target ref="id705"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id716"/>
<target ref="id715"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id717"/>
<target ref="id716"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id717"/>
<target ref="id711"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id718"/>
<target ref="id717"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id719"/>
<target ref="id718"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process40</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id720" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id721" x="-2560" y="-200">
<urgent/>
</location>
<location id="id722" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id723" x="-1928" y="-200">
<urgent/>
</location>
<location id="id724" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id725" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id726" x="-2560" y="-288">
<urgent/>
</location>
<location id="id727" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id728" x="-2336" y="-40">
<urgent/>
</location>
<location id="id729" x="-2264" y="-360">
<urgent/>
</location>
<location id="id730" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id731" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id732" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id733" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id734" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id735" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id736" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id737" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id724"/>
<transition>
<source ref="id720"/>
<target ref="id725"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id721"/>
<target ref="id722"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id721"/>
<target ref="id726"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id724"/>
<target ref="id726"/>
</transition>
<transition>
<source ref="id725"/>
<target ref="id721"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id726"/>
<target ref="id737"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id735"/>
<target ref="id735"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id731"/>
<target ref="id728"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id729"/>
<target ref="id722"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id729"/>
<target ref="id737"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id731"/>
<target ref="id731"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id723"/>
<target ref="id732"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id730"/>
<target ref="id720"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id723"/>
<target ref="id730"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id733"/>
<target ref="id733"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id728"/>
<target ref="id727"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id728"/>
<target ref="id725"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id732"/>
<target ref="id731"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id733"/>
<target ref="id723"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id734"/>
<target ref="id733"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id735"/>
<target ref="id734"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id735"/>
<target ref="id729"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id736"/>
<target ref="id735"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id737"/>
<target ref="id736"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process41</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id738" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id739" x="-2560" y="-200">
<urgent/>
</location>
<location id="id740" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id741" x="-1928" y="-200">
<urgent/>
</location>
<location id="id742" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id743" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id744" x="-2560" y="-288">
<urgent/>
</location>
<location id="id745" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id746" x="-2336" y="-40">
<urgent/>
</location>
<location id="id747" x="-2264" y="-360">
<urgent/>
</location>
<location id="id748" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id749" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id750" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id751" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id752" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id753" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id754" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id755" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id742"/>
<transition>
<source ref="id738"/>
<target ref="id743"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id739"/>
<target ref="id740"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id739"/>
<target ref="id744"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id742"/>
<target ref="id744"/>
</transition>
<transition>
<source ref="id743"/>
<target ref="id739"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id744"/>
<target ref="id755"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id753"/>
<target ref="id753"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id749"/>
<target ref="id746"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id747"/>
<target ref="id740"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id747"/>
<target ref="id755"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id749"/>
<target ref="id749"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id741"/>
<target ref="id750"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id748"/>
<target ref="id738"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id741"/>
<target ref="id748"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id751"/>
<target ref="id751"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id746"/>
<target ref="id745"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id746"/>
<target ref="id743"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id750"/>
<target ref="id749"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id751"/>
<target ref="id741"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id752"/>
<target ref="id751"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id753"/>
<target ref="id752"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id753"/>
<target ref="id747"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id754"/>
<target ref="id753"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id755"/>
<target ref="id754"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process42</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id756" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id757" x="-2560" y="-200">
<urgent/>
</location>
<location id="id758" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id759" x="-1928" y="-200">
<urgent/>
</location>
<location id="id760" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id761" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id762" x="-2560" y="-288">
<urgent/>
</location>
<location id="id763" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id764" x="-2336" y="-40">
<urgent/>
</location>
<location id="id765" x="-2264" y="-360">
<urgent/>
</location>
<location id="id766" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id767" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id768" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id769" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id770" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id771" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id772" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id773" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id760"/>
<transition>
<source ref="id756"/>
<target ref="id761"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id757"/>
<target ref="id758"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id757"/>
<target ref="id762"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id760"/>
<target ref="id762"/>
</transition>
<transition>
<source ref="id761"/>
<target ref="id757"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id762"/>
<target ref="id773"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id771"/>
<target ref="id771"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id767"/>
<target ref="id764"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id765"/>
<target ref="id758"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id765"/>
<target ref="id773"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id767"/>
<target ref="id767"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id759"/>
<target ref="id768"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id766"/>
<target ref="id756"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id759"/>
<target ref="id766"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id769"/>
<target ref="id769"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id764"/>
<target ref="id763"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id764"/>
<target ref="id761"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id768"/>
<target ref="id767"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id769"/>
<target ref="id759"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id770"/>
<target ref="id769"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id771"/>
<target ref="id770"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id771"/>
<target ref="id765"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id772"/>
<target ref="id771"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id773"/>
<target ref="id772"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process43</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id774" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id775" x="-2560" y="-200">
<urgent/>
</location>
<location id="id776" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id777" x="-1928" y="-200">
<urgent/>
</location>
<location id="id778" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id779" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id780" x="-2560" y="-288">
<urgent/>
</location>
<location id="id781" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id782" x="-2336" y="-40">
<urgent/>
</location>
<location id="id783" x="-2264" y="-360">
<urgent/>
</location>
<location id="id784" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id785" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id786" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id787" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id788" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id789" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id790" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id791" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id778"/>
<transition>
<source ref="id774"/>
<target ref="id779"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id775"/>
<target ref="id776"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id775"/>
<target ref="id780"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id778"/>
<target ref="id780"/>
</transition>
<transition>
<source ref="id779"/>
<target ref="id775"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id780"/>
<target ref="id791"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id789"/>
<target ref="id789"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id785"/>
<target ref="id782"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id783"/>
<target ref="id776"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id783"/>
<target ref="id791"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id785"/>
<target ref="id785"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id777"/>
<target ref="id786"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id784"/>
<target ref="id774"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id777"/>
<target ref="id784"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id787"/>
<target ref="id787"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id782"/>
<target ref="id781"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id782"/>
<target ref="id779"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id786"/>
<target ref="id785"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id787"/>
<target ref="id777"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id788"/>
<target ref="id787"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id789"/>
<target ref="id788"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id789"/>
<target ref="id783"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id790"/>
<target ref="id789"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id791"/>
<target ref="id790"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process44</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id792" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id793" x="-2560" y="-200">
<urgent/>
</location>
<location id="id794" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id795" x="-1928" y="-200">
<urgent/>
</location>
<location id="id796" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id797" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id798" x="-2560" y="-288">
<urgent/>
</location>
<location id="id799" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id800" x="-2336" y="-40">
<urgent/>
</location>
<location id="id801" x="-2264" y="-360">
<urgent/>
</location>
<location id="id802" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id803" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id804" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id805" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id806" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id807" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id808" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id809" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id796"/>
<transition>
<source ref="id792"/>
<target ref="id797"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id793"/>
<target ref="id794"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id793"/>
<target ref="id798"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id796"/>
<target ref="id798"/>
</transition>
<transition>
<source ref="id797"/>
<target ref="id793"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id798"/>
<target ref="id809"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id807"/>
<target ref="id807"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id803"/>
<target ref="id800"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id801"/>
<target ref="id794"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id801"/>
<target ref="id809"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id803"/>
<target ref="id803"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id795"/>
<target ref="id804"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id802"/>
<target ref="id792"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id795"/>
<target ref="id802"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id805"/>
<target ref="id805"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id800"/>
<target ref="id799"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id800"/>
<target ref="id797"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id804"/>
<target ref="id803"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id805"/>
<target ref="id795"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id806"/>
<target ref="id805"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id807"/>
<target ref="id806"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id807"/>
<target ref="id801"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id808"/>
<target ref="id807"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id809"/>
<target ref="id808"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process45</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id810" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id811" x="-2560" y="-200">
<urgent/>
</location>
<location id="id812" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id813" x="-1928" y="-200">
<urgent/>
</location>
<location id="id814" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id815" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id816" x="-2560" y="-288">
<urgent/>
</location>
<location id="id817" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id818" x="-2336" y="-40">
<urgent/>
</location>
<location id="id819" x="-2264" y="-360">
<urgent/>
</location>
<location id="id820" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id821" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id822" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id823" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id824" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id825" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id826" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id827" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id814"/>
<transition>
<source ref="id810"/>
<target ref="id815"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id811"/>
<target ref="id812"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id811"/>
<target ref="id816"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id814"/>
<target ref="id816"/>
</transition>
<transition>
<source ref="id815"/>
<target ref="id811"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id816"/>
<target ref="id827"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id825"/>
<target ref="id825"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id821"/>
<target ref="id818"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id819"/>
<target ref="id812"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id819"/>
<target ref="id827"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id821"/>
<target ref="id821"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id813"/>
<target ref="id822"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id820"/>
<target ref="id810"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id813"/>
<target ref="id820"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id823"/>
<target ref="id823"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id818"/>
<target ref="id817"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id818"/>
<target ref="id815"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id822"/>
<target ref="id821"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id823"/>
<target ref="id813"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id824"/>
<target ref="id823"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id825"/>
<target ref="id824"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id825"/>
<target ref="id819"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id826"/>
<target ref="id825"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id827"/>
<target ref="id826"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process46</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id828" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id829" x="-2560" y="-200">
<urgent/>
</location>
<location id="id830" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id831" x="-1928" y="-200">
<urgent/>
</location>
<location id="id832" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id833" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id834" x="-2560" y="-288">
<urgent/>
</location>
<location id="id835" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id836" x="-2336" y="-40">
<urgent/>
</location>
<location id="id837" x="-2264" y="-360">
<urgent/>
</location>
<location id="id838" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id839" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id840" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id841" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id842" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id843" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id844" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id845" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id832"/>
<transition>
<source ref="id828"/>
<target ref="id833"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id829"/>
<target ref="id830"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id829"/>
<target ref="id834"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id832"/>
<target ref="id834"/>
</transition>
<transition>
<source ref="id833"/>
<target ref="id829"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id834"/>
<target ref="id845"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id843"/>
<target ref="id843"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id839"/>
<target ref="id836"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id837"/>
<target ref="id830"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id837"/>
<target ref="id845"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id839"/>
<target ref="id839"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id831"/>
<target ref="id840"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id838"/>
<target ref="id828"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id831"/>
<target ref="id838"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id841"/>
<target ref="id841"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id836"/>
<target ref="id835"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id836"/>
<target ref="id833"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id840"/>
<target ref="id839"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id841"/>
<target ref="id831"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id842"/>
<target ref="id841"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id843"/>
<target ref="id842"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id843"/>
<target ref="id837"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id844"/>
<target ref="id843"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id845"/>
<target ref="id844"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process47</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id846" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id847" x="-2560" y="-200">
<urgent/>
</location>
<location id="id848" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id849" x="-1928" y="-200">
<urgent/>
</location>
<location id="id850" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id851" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id852" x="-2560" y="-288">
<urgent/>
</location>
<location id="id853" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id854" x="-2336" y="-40">
<urgent/>
</location>
<location id="id855" x="-2264" y="-360">
<urgent/>
</location>
<location id="id856" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id857" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id858" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id859" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id860" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id861" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id862" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id863" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id850"/>
<transition>
<source ref="id846"/>
<target ref="id851"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id847"/>
<target ref="id848"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id847"/>
<target ref="id852"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id850"/>
<target ref="id852"/>
</transition>
<transition>
<source ref="id851"/>
<target ref="id847"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id852"/>
<target ref="id863"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id861"/>
<target ref="id861"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id857"/>
<target ref="id854"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id855"/>
<target ref="id848"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id855"/>
<target ref="id863"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id857"/>
<target ref="id857"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id849"/>
<target ref="id858"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id856"/>
<target ref="id846"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id849"/>
<target ref="id856"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id859"/>
<target ref="id859"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id854"/>
<target ref="id853"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id854"/>
<target ref="id851"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id858"/>
<target ref="id857"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id859"/>
<target ref="id849"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id860"/>
<target ref="id859"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id861"/>
<target ref="id860"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id861"/>
<target ref="id855"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id862"/>
<target ref="id861"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id863"/>
<target ref="id862"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process48</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id864" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id865" x="-2560" y="-200">
<urgent/>
</location>
<location id="id866" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id867" x="-1928" y="-200">
<urgent/>
</location>
<location id="id868" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id869" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id870" x="-2560" y="-288">
<urgent/>
</location>
<location id="id871" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id872" x="-2336" y="-40">
<urgent/>
</location>
<location id="id873" x="-2264" y="-360">
<urgent/>
</location>
<location id="id874" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id875" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id876" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id877" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id878" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id879" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id880" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id881" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id868"/>
<transition>
<source ref="id864"/>
<target ref="id869"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id865"/>
<target ref="id866"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id865"/>
<target ref="id870"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id868"/>
<target ref="id870"/>
</transition>
<transition>
<source ref="id869"/>
<target ref="id865"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id870"/>
<target ref="id881"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id879"/>
<target ref="id879"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id875"/>
<target ref="id872"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id873"/>
<target ref="id866"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id873"/>
<target ref="id881"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id875"/>
<target ref="id875"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id867"/>
<target ref="id876"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id874"/>
<target ref="id864"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id867"/>
<target ref="id874"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id877"/>
<target ref="id877"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id872"/>
<target ref="id871"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id872"/>
<target ref="id869"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id876"/>
<target ref="id875"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id877"/>
<target ref="id867"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id878"/>
<target ref="id877"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id879"/>
<target ref="id878"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id879"/>
<target ref="id873"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id880"/>
<target ref="id879"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id881"/>
<target ref="id880"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process49</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id882" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id883" x="-2560" y="-200">
<urgent/>
</location>
<location id="id884" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id885" x="-1928" y="-200">
<urgent/>
</location>
<location id="id886" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id887" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id888" x="-2560" y="-288">
<urgent/>
</location>
<location id="id889" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id890" x="-2336" y="-40">
<urgent/>
</location>
<location id="id891" x="-2264" y="-360">
<urgent/>
</location>
<location id="id892" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id893" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id894" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id895" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id896" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id897" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id898" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id899" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id886"/>
<transition>
<source ref="id882"/>
<target ref="id887"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id883"/>
<target ref="id884"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id883"/>
<target ref="id888"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id886"/>
<target ref="id888"/>
</transition>
<transition>
<source ref="id887"/>
<target ref="id883"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id888"/>
<target ref="id899"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id897"/>
<target ref="id897"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id893"/>
<target ref="id890"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id891"/>
<target ref="id884"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id891"/>
<target ref="id899"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id893"/>
<target ref="id893"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id885"/>
<target ref="id894"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id892"/>
<target ref="id882"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id885"/>
<target ref="id892"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id895"/>
<target ref="id895"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id890"/>
<target ref="id889"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id890"/>
<target ref="id887"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id894"/>
<target ref="id893"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id895"/>
<target ref="id885"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id896"/>
<target ref="id895"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id897"/>
<target ref="id896"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id897"/>
<target ref="id891"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id898"/>
<target ref="id897"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id899"/>
<target ref="id898"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process50</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id900" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id901" x="-2560" y="-200">
<urgent/>
</location>
<location id="id902" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id903" x="-1928" y="-200">
<urgent/>
</location>
<location id="id904" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id905" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id906" x="-2560" y="-288">
<urgent/>
</location>
<location id="id907" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id908" x="-2336" y="-40">
<urgent/>
</location>
<location id="id909" x="-2264" y="-360">
<urgent/>
</location>
<location id="id910" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id911" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id912" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id913" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id914" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id915" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id916" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id917" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id904"/>
<transition>
<source ref="id900"/>
<target ref="id905"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id901"/>
<target ref="id902"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id901"/>
<target ref="id906"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id904"/>
<target ref="id906"/>
</transition>
<transition>
<source ref="id905"/>
<target ref="id901"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id906"/>
<target ref="id917"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id915"/>
<target ref="id915"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id911"/>
<target ref="id908"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id909"/>
<target ref="id902"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id909"/>
<target ref="id917"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id911"/>
<target ref="id911"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id903"/>
<target ref="id912"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id910"/>
<target ref="id900"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id903"/>
<target ref="id910"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id913"/>
<target ref="id913"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id908"/>
<target ref="id907"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id908"/>
<target ref="id905"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id912"/>
<target ref="id911"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id913"/>
<target ref="id903"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id914"/>
<target ref="id913"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id915"/>
<target ref="id914"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id915"/>
<target ref="id909"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id916"/>
<target ref="id915"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id917"/>
<target ref="id916"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process51</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id918" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id919" x="-2560" y="-200">
<urgent/>
</location>
<location id="id920" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id921" x="-1928" y="-200">
<urgent/>
</location>
<location id="id922" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id923" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id924" x="-2560" y="-288">
<urgent/>
</location>
<location id="id925" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id926" x="-2336" y="-40">
<urgent/>
</location>
<location id="id927" x="-2264" y="-360">
<urgent/>
</location>
<location id="id928" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id929" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id930" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id931" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id932" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id933" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id934" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id935" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id922"/>
<transition>
<source ref="id918"/>
<target ref="id923"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id919"/>
<target ref="id920"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id919"/>
<target ref="id924"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id922"/>
<target ref="id924"/>
</transition>
<transition>
<source ref="id923"/>
<target ref="id919"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id924"/>
<target ref="id935"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id933"/>
<target ref="id933"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id929"/>
<target ref="id926"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id927"/>
<target ref="id920"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id927"/>
<target ref="id935"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id929"/>
<target ref="id929"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id921"/>
<target ref="id930"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id928"/>
<target ref="id918"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id921"/>
<target ref="id928"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id931"/>
<target ref="id931"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id926"/>
<target ref="id925"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id926"/>
<target ref="id923"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id930"/>
<target ref="id929"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id931"/>
<target ref="id921"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id932"/>
<target ref="id931"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id933"/>
<target ref="id932"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id933"/>
<target ref="id927"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id934"/>
<target ref="id933"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id935"/>
<target ref="id934"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process52</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id936" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id937" x="-2560" y="-200">
<urgent/>
</location>
<location id="id938" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id939" x="-1928" y="-200">
<urgent/>
</location>
<location id="id940" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id941" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id942" x="-2560" y="-288">
<urgent/>
</location>
<location id="id943" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id944" x="-2336" y="-40">
<urgent/>
</location>
<location id="id945" x="-2264" y="-360">
<urgent/>
</location>
<location id="id946" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id947" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id948" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id949" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id950" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id951" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id952" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id953" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id940"/>
<transition>
<source ref="id936"/>
<target ref="id941"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id937"/>
<target ref="id938"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id937"/>
<target ref="id942"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id940"/>
<target ref="id942"/>
</transition>
<transition>
<source ref="id941"/>
<target ref="id937"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id942"/>
<target ref="id953"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id951"/>
<target ref="id951"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id947"/>
<target ref="id944"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id945"/>
<target ref="id938"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id945"/>
<target ref="id953"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id947"/>
<target ref="id947"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id939"/>
<target ref="id948"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id946"/>
<target ref="id936"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id939"/>
<target ref="id946"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id949"/>
<target ref="id949"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id944"/>
<target ref="id943"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id944"/>
<target ref="id941"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id948"/>
<target ref="id947"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id949"/>
<target ref="id939"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id950"/>
<target ref="id949"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id951"/>
<target ref="id950"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id951"/>
<target ref="id945"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id952"/>
<target ref="id951"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id953"/>
<target ref="id952"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process53</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id954" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id955" x="-2560" y="-200">
<urgent/>
</location>
<location id="id956" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id957" x="-1928" y="-200">
<urgent/>
</location>
<location id="id958" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id959" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id960" x="-2560" y="-288">
<urgent/>
</location>
<location id="id961" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id962" x="-2336" y="-40">
<urgent/>
</location>
<location id="id963" x="-2264" y="-360">
<urgent/>
</location>
<location id="id964" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id965" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id966" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id967" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id968" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id969" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id970" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id971" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id958"/>
<transition>
<source ref="id954"/>
<target ref="id959"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id955"/>
<target ref="id956"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id955"/>
<target ref="id960"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id958"/>
<target ref="id960"/>
</transition>
<transition>
<source ref="id959"/>
<target ref="id955"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id960"/>
<target ref="id971"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id969"/>
<target ref="id969"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id965"/>
<target ref="id962"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id963"/>
<target ref="id956"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id963"/>
<target ref="id971"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id965"/>
<target ref="id965"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id957"/>
<target ref="id966"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id964"/>
<target ref="id954"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id957"/>
<target ref="id964"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id967"/>
<target ref="id967"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id962"/>
<target ref="id961"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id962"/>
<target ref="id959"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id966"/>
<target ref="id965"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id967"/>
<target ref="id957"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id968"/>
<target ref="id967"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id969"/>
<target ref="id968"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id969"/>
<target ref="id963"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id970"/>
<target ref="id969"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id971"/>
<target ref="id970"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process54</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id972" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id973" x="-2560" y="-200">
<urgent/>
</location>
<location id="id974" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id975" x="-1928" y="-200">
<urgent/>
</location>
<location id="id976" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id977" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id978" x="-2560" y="-288">
<urgent/>
</location>
<location id="id979" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id980" x="-2336" y="-40">
<urgent/>
</location>
<location id="id981" x="-2264" y="-360">
<urgent/>
</location>
<location id="id982" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id983" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id984" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id985" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id986" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id987" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id988" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id989" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id976"/>
<transition>
<source ref="id972"/>
<target ref="id977"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id973"/>
<target ref="id974"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id973"/>
<target ref="id978"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id976"/>
<target ref="id978"/>
</transition>
<transition>
<source ref="id977"/>
<target ref="id973"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id978"/>
<target ref="id989"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id987"/>
<target ref="id987"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id983"/>
<target ref="id980"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id981"/>
<target ref="id974"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id981"/>
<target ref="id989"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id983"/>
<target ref="id983"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id975"/>
<target ref="id984"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id982"/>
<target ref="id972"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id975"/>
<target ref="id982"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id985"/>
<target ref="id985"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id980"/>
<target ref="id979"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id980"/>
<target ref="id977"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id984"/>
<target ref="id983"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id985"/>
<target ref="id975"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id986"/>
<target ref="id985"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id987"/>
<target ref="id986"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id987"/>
<target ref="id981"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id988"/>
<target ref="id987"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id989"/>
<target ref="id988"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process55</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id990" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id991" x="-2560" y="-200">
<urgent/>
</location>
<location id="id992" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id993" x="-1928" y="-200">
<urgent/>
</location>
<location id="id994" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id995" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id996" x="-2560" y="-288">
<urgent/>
</location>
<location id="id997" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id998" x="-2336" y="-40">
<urgent/>
</location>
<location id="id999" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1000" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1001" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1002" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1003" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1004" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1005" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1006" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1007" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id994"/>
<transition>
<source ref="id990"/>
<target ref="id995"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id991"/>
<target ref="id992"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id991"/>
<target ref="id996"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id994"/>
<target ref="id996"/>
</transition>
<transition>
<source ref="id995"/>
<target ref="id991"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id996"/>
<target ref="id1007"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1005"/>
<target ref="id1005"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1001"/>
<target ref="id998"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id999"/>
<target ref="id992"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id999"/>
<target ref="id1007"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1001"/>
<target ref="id1001"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id993"/>
<target ref="id1002"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1000"/>
<target ref="id990"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id993"/>
<target ref="id1000"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1003"/>
<target ref="id1003"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id998"/>
<target ref="id997"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id998"/>
<target ref="id995"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1002"/>
<target ref="id1001"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1003"/>
<target ref="id993"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1004"/>
<target ref="id1003"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1005"/>
<target ref="id1004"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1005"/>
<target ref="id999"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1006"/>
<target ref="id1005"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1007"/>
<target ref="id1006"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process56</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1008" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1009" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1010" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1011" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1012" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1013" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1014" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1015" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1016" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1017" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1018" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1019" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1020" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1021" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1022" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1023" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1024" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1025" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1012"/>
<transition>
<source ref="id1008"/>
<target ref="id1013"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1009"/>
<target ref="id1010"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1009"/>
<target ref="id1014"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1012"/>
<target ref="id1014"/>
</transition>
<transition>
<source ref="id1013"/>
<target ref="id1009"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1014"/>
<target ref="id1025"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1023"/>
<target ref="id1023"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1019"/>
<target ref="id1016"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1017"/>
<target ref="id1010"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1017"/>
<target ref="id1025"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1019"/>
<target ref="id1019"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1011"/>
<target ref="id1020"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1018"/>
<target ref="id1008"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1011"/>
<target ref="id1018"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1021"/>
<target ref="id1021"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1016"/>
<target ref="id1015"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1016"/>
<target ref="id1013"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1020"/>
<target ref="id1019"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1021"/>
<target ref="id1011"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1022"/>
<target ref="id1021"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1023"/>
<target ref="id1022"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1023"/>
<target ref="id1017"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1024"/>
<target ref="id1023"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1025"/>
<target ref="id1024"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process57</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1026" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1027" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1028" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1029" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1030" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1031" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1032" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1033" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1034" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1035" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1036" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1037" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1038" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1039" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1040" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1041" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1042" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1043" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1030"/>
<transition>
<source ref="id1026"/>
<target ref="id1031"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1027"/>
<target ref="id1028"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1027"/>
<target ref="id1032"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1030"/>
<target ref="id1032"/>
</transition>
<transition>
<source ref="id1031"/>
<target ref="id1027"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1032"/>
<target ref="id1043"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1041"/>
<target ref="id1041"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1037"/>
<target ref="id1034"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1035"/>
<target ref="id1028"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1035"/>
<target ref="id1043"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1037"/>
<target ref="id1037"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1029"/>
<target ref="id1038"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1036"/>
<target ref="id1026"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1029"/>
<target ref="id1036"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1039"/>
<target ref="id1039"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1034"/>
<target ref="id1033"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1034"/>
<target ref="id1031"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1038"/>
<target ref="id1037"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1039"/>
<target ref="id1029"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1040"/>
<target ref="id1039"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1041"/>
<target ref="id1040"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1041"/>
<target ref="id1035"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1042"/>
<target ref="id1041"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1043"/>
<target ref="id1042"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process58</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1044" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1045" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1046" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1047" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1048" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1049" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1050" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1051" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1052" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1053" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1054" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1055" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1056" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1057" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1058" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1059" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1060" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1061" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1048"/>
<transition>
<source ref="id1044"/>
<target ref="id1049"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1045"/>
<target ref="id1046"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1045"/>
<target ref="id1050"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1048"/>
<target ref="id1050"/>
</transition>
<transition>
<source ref="id1049"/>
<target ref="id1045"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1050"/>
<target ref="id1061"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1059"/>
<target ref="id1059"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1055"/>
<target ref="id1052"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1053"/>
<target ref="id1046"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1053"/>
<target ref="id1061"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1055"/>
<target ref="id1055"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1047"/>
<target ref="id1056"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1054"/>
<target ref="id1044"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1047"/>
<target ref="id1054"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1057"/>
<target ref="id1057"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1052"/>
<target ref="id1051"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1052"/>
<target ref="id1049"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1056"/>
<target ref="id1055"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1057"/>
<target ref="id1047"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1058"/>
<target ref="id1057"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1059"/>
<target ref="id1058"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1059"/>
<target ref="id1053"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1060"/>
<target ref="id1059"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1061"/>
<target ref="id1060"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process59</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1062" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1063" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1064" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1065" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1066" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1067" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1068" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1069" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1070" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1071" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1072" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1073" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1074" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1075" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1076" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1077" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1078" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1079" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1066"/>
<transition>
<source ref="id1062"/>
<target ref="id1067"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1063"/>
<target ref="id1064"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1063"/>
<target ref="id1068"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1066"/>
<target ref="id1068"/>
</transition>
<transition>
<source ref="id1067"/>
<target ref="id1063"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1068"/>
<target ref="id1079"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1077"/>
<target ref="id1077"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1073"/>
<target ref="id1070"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1071"/>
<target ref="id1064"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1071"/>
<target ref="id1079"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1073"/>
<target ref="id1073"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1065"/>
<target ref="id1074"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1072"/>
<target ref="id1062"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1065"/>
<target ref="id1072"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1075"/>
<target ref="id1075"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1070"/>
<target ref="id1069"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1070"/>
<target ref="id1067"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1074"/>
<target ref="id1073"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1075"/>
<target ref="id1065"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1076"/>
<target ref="id1075"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1077"/>
<target ref="id1076"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1077"/>
<target ref="id1071"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1078"/>
<target ref="id1077"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1079"/>
<target ref="id1078"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process60</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1080" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1081" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1082" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1083" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1084" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1085" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1086" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1087" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1088" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1089" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1090" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1091" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1092" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1093" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1094" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1095" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1096" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1097" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1084"/>
<transition>
<source ref="id1080"/>
<target ref="id1085"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1081"/>
<target ref="id1082"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1081"/>
<target ref="id1086"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1084"/>
<target ref="id1086"/>
</transition>
<transition>
<source ref="id1085"/>
<target ref="id1081"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1086"/>
<target ref="id1097"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1095"/>
<target ref="id1095"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1091"/>
<target ref="id1088"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1089"/>
<target ref="id1082"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1089"/>
<target ref="id1097"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1091"/>
<target ref="id1091"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1083"/>
<target ref="id1092"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1090"/>
<target ref="id1080"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1083"/>
<target ref="id1090"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1093"/>
<target ref="id1093"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1088"/>
<target ref="id1087"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1088"/>
<target ref="id1085"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1092"/>
<target ref="id1091"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1093"/>
<target ref="id1083"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1094"/>
<target ref="id1093"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1095"/>
<target ref="id1094"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1095"/>
<target ref="id1089"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1096"/>
<target ref="id1095"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1097"/>
<target ref="id1096"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process61</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1098" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1099" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1100" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1101" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1102" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1103" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1104" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1105" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1106" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1107" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1108" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1109" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1110" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1111" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1112" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1113" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1114" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1115" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1102"/>
<transition>
<source ref="id1098"/>
<target ref="id1103"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1099"/>
<target ref="id1100"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1099"/>
<target ref="id1104"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1102"/>
<target ref="id1104"/>
</transition>
<transition>
<source ref="id1103"/>
<target ref="id1099"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1104"/>
<target ref="id1115"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1113"/>
<target ref="id1113"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1109"/>
<target ref="id1106"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1107"/>
<target ref="id1100"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1107"/>
<target ref="id1115"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1109"/>
<target ref="id1109"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1101"/>
<target ref="id1110"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1108"/>
<target ref="id1098"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1101"/>
<target ref="id1108"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1111"/>
<target ref="id1111"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1106"/>
<target ref="id1105"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1106"/>
<target ref="id1103"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1110"/>
<target ref="id1109"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1111"/>
<target ref="id1101"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1112"/>
<target ref="id1111"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1113"/>
<target ref="id1112"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1113"/>
<target ref="id1107"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1114"/>
<target ref="id1113"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1115"/>
<target ref="id1114"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process62</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1116" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1117" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1118" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1119" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1120" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1121" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1122" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1123" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1124" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1125" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1126" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1127" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1128" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1129" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1130" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1131" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1132" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1133" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1120"/>
<transition>
<source ref="id1116"/>
<target ref="id1121"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1117"/>
<target ref="id1118"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1117"/>
<target ref="id1122"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1120"/>
<target ref="id1122"/>
</transition>
<transition>
<source ref="id1121"/>
<target ref="id1117"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1122"/>
<target ref="id1133"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1131"/>
<target ref="id1131"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1127"/>
<target ref="id1124"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1125"/>
<target ref="id1118"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1125"/>
<target ref="id1133"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1127"/>
<target ref="id1127"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1119"/>
<target ref="id1128"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1126"/>
<target ref="id1116"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1119"/>
<target ref="id1126"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1129"/>
<target ref="id1129"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1124"/>
<target ref="id1123"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1124"/>
<target ref="id1121"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1128"/>
<target ref="id1127"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1129"/>
<target ref="id1119"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1130"/>
<target ref="id1129"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1131"/>
<target ref="id1130"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1131"/>
<target ref="id1125"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1132"/>
<target ref="id1131"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1133"/>
<target ref="id1132"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process63</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1134" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1135" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1136" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1137" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1138" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1139" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1140" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1141" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1142" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1143" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1144" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1145" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1146" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1147" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1148" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1149" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1150" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1151" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1138"/>
<transition>
<source ref="id1134"/>
<target ref="id1139"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1135"/>
<target ref="id1136"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1135"/>
<target ref="id1140"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1138"/>
<target ref="id1140"/>
</transition>
<transition>
<source ref="id1139"/>
<target ref="id1135"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1140"/>
<target ref="id1151"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1149"/>
<target ref="id1149"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1145"/>
<target ref="id1142"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1143"/>
<target ref="id1136"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1143"/>
<target ref="id1151"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1145"/>
<target ref="id1145"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1137"/>
<target ref="id1146"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1144"/>
<target ref="id1134"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1137"/>
<target ref="id1144"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1147"/>
<target ref="id1147"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1142"/>
<target ref="id1141"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1142"/>
<target ref="id1139"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1146"/>
<target ref="id1145"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1147"/>
<target ref="id1137"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1148"/>
<target ref="id1147"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1149"/>
<target ref="id1148"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1149"/>
<target ref="id1143"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1150"/>
<target ref="id1149"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1151"/>
<target ref="id1150"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process64</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1152" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1153" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1154" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1155" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1156" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1157" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1158" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1159" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1160" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1161" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1162" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1163" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1164" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1165" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1166" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1167" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1168" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1169" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1156"/>
<transition>
<source ref="id1152"/>
<target ref="id1157"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1153"/>
<target ref="id1154"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1153"/>
<target ref="id1158"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1156"/>
<target ref="id1158"/>
</transition>
<transition>
<source ref="id1157"/>
<target ref="id1153"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1158"/>
<target ref="id1169"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1167"/>
<target ref="id1167"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1163"/>
<target ref="id1160"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1161"/>
<target ref="id1154"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1161"/>
<target ref="id1169"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1163"/>
<target ref="id1163"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1155"/>
<target ref="id1164"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1162"/>
<target ref="id1152"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1155"/>
<target ref="id1162"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1165"/>
<target ref="id1165"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1160"/>
<target ref="id1159"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1160"/>
<target ref="id1157"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1164"/>
<target ref="id1163"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1165"/>
<target ref="id1155"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1166"/>
<target ref="id1165"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1167"/>
<target ref="id1166"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1167"/>
<target ref="id1161"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1168"/>
<target ref="id1167"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1169"/>
<target ref="id1168"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process65</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1170" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1171" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1172" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1173" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1174" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1175" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1176" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1177" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1178" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1179" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1180" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1181" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1182" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1183" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1184" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1185" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1186" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1187" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1174"/>
<transition>
<source ref="id1170"/>
<target ref="id1175"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1171"/>
<target ref="id1172"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1171"/>
<target ref="id1176"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1174"/>
<target ref="id1176"/>
</transition>
<transition>
<source ref="id1175"/>
<target ref="id1171"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1176"/>
<target ref="id1187"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1185"/>
<target ref="id1185"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1181"/>
<target ref="id1178"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1179"/>
<target ref="id1172"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1179"/>
<target ref="id1187"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1181"/>
<target ref="id1181"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1173"/>
<target ref="id1182"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1180"/>
<target ref="id1170"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1173"/>
<target ref="id1180"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1183"/>
<target ref="id1183"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1178"/>
<target ref="id1177"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1178"/>
<target ref="id1175"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1182"/>
<target ref="id1181"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1183"/>
<target ref="id1173"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1184"/>
<target ref="id1183"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1185"/>
<target ref="id1184"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1185"/>
<target ref="id1179"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1186"/>
<target ref="id1185"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1187"/>
<target ref="id1186"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process66</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1188" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1189" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1190" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1191" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1192" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1193" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1194" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1195" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1196" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1197" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1198" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1199" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1200" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1201" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1202" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1203" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1204" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1205" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1192"/>
<transition>
<source ref="id1188"/>
<target ref="id1193"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1189"/>
<target ref="id1190"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1189"/>
<target ref="id1194"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1192"/>
<target ref="id1194"/>
</transition>
<transition>
<source ref="id1193"/>
<target ref="id1189"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1194"/>
<target ref="id1205"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1203"/>
<target ref="id1203"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1199"/>
<target ref="id1196"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1197"/>
<target ref="id1190"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1197"/>
<target ref="id1205"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1199"/>
<target ref="id1199"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1191"/>
<target ref="id1200"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1198"/>
<target ref="id1188"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1191"/>
<target ref="id1198"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1201"/>
<target ref="id1201"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1196"/>
<target ref="id1195"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1196"/>
<target ref="id1193"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1200"/>
<target ref="id1199"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1201"/>
<target ref="id1191"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1202"/>
<target ref="id1201"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1203"/>
<target ref="id1202"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1203"/>
<target ref="id1197"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1204"/>
<target ref="id1203"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1205"/>
<target ref="id1204"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process67</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1206" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1207" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1208" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1209" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1210" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1211" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1212" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1213" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1214" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1215" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1216" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1217" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1218" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1219" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1220" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1221" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1222" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1223" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1210"/>
<transition>
<source ref="id1206"/>
<target ref="id1211"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1207"/>
<target ref="id1208"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1207"/>
<target ref="id1212"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1210"/>
<target ref="id1212"/>
</transition>
<transition>
<source ref="id1211"/>
<target ref="id1207"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1212"/>
<target ref="id1223"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1221"/>
<target ref="id1221"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1217"/>
<target ref="id1214"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1215"/>
<target ref="id1208"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1215"/>
<target ref="id1223"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1217"/>
<target ref="id1217"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1209"/>
<target ref="id1218"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1216"/>
<target ref="id1206"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1209"/>
<target ref="id1216"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1219"/>
<target ref="id1219"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1214"/>
<target ref="id1213"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1214"/>
<target ref="id1211"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1218"/>
<target ref="id1217"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1219"/>
<target ref="id1209"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1220"/>
<target ref="id1219"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1221"/>
<target ref="id1220"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1221"/>
<target ref="id1215"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1222"/>
<target ref="id1221"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1223"/>
<target ref="id1222"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process68</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1224" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1225" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1226" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1227" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1228" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1229" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1230" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1231" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1232" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1233" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1234" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1235" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1236" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1237" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1238" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1239" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1240" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1241" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1228"/>
<transition>
<source ref="id1224"/>
<target ref="id1229"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1225"/>
<target ref="id1226"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1225"/>
<target ref="id1230"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1228"/>
<target ref="id1230"/>
</transition>
<transition>
<source ref="id1229"/>
<target ref="id1225"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1230"/>
<target ref="id1241"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1239"/>
<target ref="id1239"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1235"/>
<target ref="id1232"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1233"/>
<target ref="id1226"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1233"/>
<target ref="id1241"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1235"/>
<target ref="id1235"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1227"/>
<target ref="id1236"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1234"/>
<target ref="id1224"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1227"/>
<target ref="id1234"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1237"/>
<target ref="id1237"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1232"/>
<target ref="id1231"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1232"/>
<target ref="id1229"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1236"/>
<target ref="id1235"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1237"/>
<target ref="id1227"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1238"/>
<target ref="id1237"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1239"/>
<target ref="id1238"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1239"/>
<target ref="id1233"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1240"/>
<target ref="id1239"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1241"/>
<target ref="id1240"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process69</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1242" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1243" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1244" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1245" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1246" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1247" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1248" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1249" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1250" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1251" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1252" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1253" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1254" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1255" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1256" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1257" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1258" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1259" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1246"/>
<transition>
<source ref="id1242"/>
<target ref="id1247"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1243"/>
<target ref="id1244"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1243"/>
<target ref="id1248"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1246"/>
<target ref="id1248"/>
</transition>
<transition>
<source ref="id1247"/>
<target ref="id1243"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1248"/>
<target ref="id1259"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1257"/>
<target ref="id1257"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1253"/>
<target ref="id1250"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1251"/>
<target ref="id1244"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1251"/>
<target ref="id1259"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1253"/>
<target ref="id1253"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1245"/>
<target ref="id1254"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1252"/>
<target ref="id1242"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1245"/>
<target ref="id1252"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1255"/>
<target ref="id1255"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1250"/>
<target ref="id1249"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1250"/>
<target ref="id1247"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1254"/>
<target ref="id1253"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1255"/>
<target ref="id1245"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1256"/>
<target ref="id1255"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1257"/>
<target ref="id1256"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1257"/>
<target ref="id1251"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1258"/>
<target ref="id1257"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1259"/>
<target ref="id1258"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process70</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1260" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1261" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1262" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1263" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1264" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1265" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1266" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1267" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1268" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1269" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1270" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1271" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1272" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1273" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1274" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1275" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1276" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1277" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1264"/>
<transition>
<source ref="id1260"/>
<target ref="id1265"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1261"/>
<target ref="id1262"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1261"/>
<target ref="id1266"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1264"/>
<target ref="id1266"/>
</transition>
<transition>
<source ref="id1265"/>
<target ref="id1261"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1266"/>
<target ref="id1277"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1275"/>
<target ref="id1275"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1271"/>
<target ref="id1268"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1269"/>
<target ref="id1262"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1269"/>
<target ref="id1277"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1271"/>
<target ref="id1271"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1263"/>
<target ref="id1272"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1270"/>
<target ref="id1260"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1263"/>
<target ref="id1270"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1273"/>
<target ref="id1273"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1268"/>
<target ref="id1267"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1268"/>
<target ref="id1265"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1272"/>
<target ref="id1271"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1273"/>
<target ref="id1263"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1274"/>
<target ref="id1273"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1275"/>
<target ref="id1274"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1275"/>
<target ref="id1269"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1276"/>
<target ref="id1275"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1277"/>
<target ref="id1276"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process71</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1278" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1279" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1280" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1281" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1282" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1283" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1284" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1285" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1286" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1287" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1288" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1289" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1290" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1291" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1292" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1293" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1294" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1295" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1282"/>
<transition>
<source ref="id1278"/>
<target ref="id1283"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1279"/>
<target ref="id1280"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1279"/>
<target ref="id1284"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1282"/>
<target ref="id1284"/>
</transition>
<transition>
<source ref="id1283"/>
<target ref="id1279"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1284"/>
<target ref="id1295"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1293"/>
<target ref="id1293"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1289"/>
<target ref="id1286"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1287"/>
<target ref="id1280"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1287"/>
<target ref="id1295"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1289"/>
<target ref="id1289"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1281"/>
<target ref="id1290"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1288"/>
<target ref="id1278"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1281"/>
<target ref="id1288"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1291"/>
<target ref="id1291"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1286"/>
<target ref="id1285"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1286"/>
<target ref="id1283"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1290"/>
<target ref="id1289"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1291"/>
<target ref="id1281"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1292"/>
<target ref="id1291"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1293"/>
<target ref="id1292"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1293"/>
<target ref="id1287"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1294"/>
<target ref="id1293"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1295"/>
<target ref="id1294"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process72</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1296" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1297" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1298" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1299" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1300" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1301" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1302" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1303" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1304" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1305" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1306" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1307" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1308" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1309" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1310" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1311" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1312" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1313" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1300"/>
<transition>
<source ref="id1296"/>
<target ref="id1301"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1297"/>
<target ref="id1298"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1297"/>
<target ref="id1302"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1300"/>
<target ref="id1302"/>
</transition>
<transition>
<source ref="id1301"/>
<target ref="id1297"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1302"/>
<target ref="id1313"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1311"/>
<target ref="id1311"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1307"/>
<target ref="id1304"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1305"/>
<target ref="id1298"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1305"/>
<target ref="id1313"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1307"/>
<target ref="id1307"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1299"/>
<target ref="id1308"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1306"/>
<target ref="id1296"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1299"/>
<target ref="id1306"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1309"/>
<target ref="id1309"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1304"/>
<target ref="id1303"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1304"/>
<target ref="id1301"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1308"/>
<target ref="id1307"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1309"/>
<target ref="id1299"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1310"/>
<target ref="id1309"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1311"/>
<target ref="id1310"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1311"/>
<target ref="id1305"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1312"/>
<target ref="id1311"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1313"/>
<target ref="id1312"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process73</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1314" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1315" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1316" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1317" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1318" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1319" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1320" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1321" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1322" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1323" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1324" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1325" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1326" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1327" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1328" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1329" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1330" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1331" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1318"/>
<transition>
<source ref="id1314"/>
<target ref="id1319"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1315"/>
<target ref="id1316"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1315"/>
<target ref="id1320"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1318"/>
<target ref="id1320"/>
</transition>
<transition>
<source ref="id1319"/>
<target ref="id1315"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1320"/>
<target ref="id1331"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1329"/>
<target ref="id1329"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1325"/>
<target ref="id1322"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1323"/>
<target ref="id1316"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1323"/>
<target ref="id1331"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1325"/>
<target ref="id1325"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1317"/>
<target ref="id1326"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1324"/>
<target ref="id1314"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1317"/>
<target ref="id1324"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1327"/>
<target ref="id1327"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1322"/>
<target ref="id1321"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1322"/>
<target ref="id1319"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1326"/>
<target ref="id1325"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1327"/>
<target ref="id1317"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1328"/>
<target ref="id1327"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1329"/>
<target ref="id1328"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1329"/>
<target ref="id1323"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1330"/>
<target ref="id1329"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1331"/>
<target ref="id1330"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process74</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1332" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1333" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1334" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1335" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1336" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1337" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1338" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1339" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1340" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1341" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1342" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1343" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1344" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1345" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1346" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1347" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1348" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1349" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1336"/>
<transition>
<source ref="id1332"/>
<target ref="id1337"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1333"/>
<target ref="id1334"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1333"/>
<target ref="id1338"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1336"/>
<target ref="id1338"/>
</transition>
<transition>
<source ref="id1337"/>
<target ref="id1333"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1338"/>
<target ref="id1349"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1347"/>
<target ref="id1347"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1343"/>
<target ref="id1340"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1341"/>
<target ref="id1334"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1341"/>
<target ref="id1349"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1343"/>
<target ref="id1343"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1335"/>
<target ref="id1344"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1342"/>
<target ref="id1332"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1335"/>
<target ref="id1342"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1345"/>
<target ref="id1345"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1340"/>
<target ref="id1339"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1340"/>
<target ref="id1337"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1344"/>
<target ref="id1343"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1345"/>
<target ref="id1335"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1346"/>
<target ref="id1345"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1347"/>
<target ref="id1346"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1347"/>
<target ref="id1341"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1348"/>
<target ref="id1347"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1349"/>
<target ref="id1348"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process75</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1350" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1351" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1352" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1353" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1354" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1355" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1356" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1357" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1358" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1359" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1360" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1361" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1362" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1363" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1364" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1365" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1366" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1367" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1354"/>
<transition>
<source ref="id1350"/>
<target ref="id1355"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1351"/>
<target ref="id1352"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1351"/>
<target ref="id1356"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1354"/>
<target ref="id1356"/>
</transition>
<transition>
<source ref="id1355"/>
<target ref="id1351"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1356"/>
<target ref="id1367"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1365"/>
<target ref="id1365"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1361"/>
<target ref="id1358"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1359"/>
<target ref="id1352"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1359"/>
<target ref="id1367"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1361"/>
<target ref="id1361"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1353"/>
<target ref="id1362"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1360"/>
<target ref="id1350"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1353"/>
<target ref="id1360"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1363"/>
<target ref="id1363"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1358"/>
<target ref="id1357"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1358"/>
<target ref="id1355"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1362"/>
<target ref="id1361"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1363"/>
<target ref="id1353"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1364"/>
<target ref="id1363"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1365"/>
<target ref="id1364"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1365"/>
<target ref="id1359"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1366"/>
<target ref="id1365"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1367"/>
<target ref="id1366"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process76</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1368" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1369" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1370" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1371" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1372" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1373" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1374" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1375" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1376" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1377" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1378" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1379" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1380" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1381" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1382" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1383" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1384" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1385" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1372"/>
<transition>
<source ref="id1368"/>
<target ref="id1373"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1369"/>
<target ref="id1370"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1369"/>
<target ref="id1374"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1372"/>
<target ref="id1374"/>
</transition>
<transition>
<source ref="id1373"/>
<target ref="id1369"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1374"/>
<target ref="id1385"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1383"/>
<target ref="id1383"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1379"/>
<target ref="id1376"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1377"/>
<target ref="id1370"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1377"/>
<target ref="id1385"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1379"/>
<target ref="id1379"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1371"/>
<target ref="id1380"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1378"/>
<target ref="id1368"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1371"/>
<target ref="id1378"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1381"/>
<target ref="id1381"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1376"/>
<target ref="id1375"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1376"/>
<target ref="id1373"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1380"/>
<target ref="id1379"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1381"/>
<target ref="id1371"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1382"/>
<target ref="id1381"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1383"/>
<target ref="id1382"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1383"/>
<target ref="id1377"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1384"/>
<target ref="id1383"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1385"/>
<target ref="id1384"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process77</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1386" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1387" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1388" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1389" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1390" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1391" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1392" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1393" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1394" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1395" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1396" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1397" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1398" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1399" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1400" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1401" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1402" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1403" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1390"/>
<transition>
<source ref="id1386"/>
<target ref="id1391"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1387"/>
<target ref="id1388"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1387"/>
<target ref="id1392"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1390"/>
<target ref="id1392"/>
</transition>
<transition>
<source ref="id1391"/>
<target ref="id1387"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1392"/>
<target ref="id1403"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1401"/>
<target ref="id1401"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1397"/>
<target ref="id1394"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1395"/>
<target ref="id1388"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1395"/>
<target ref="id1403"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1397"/>
<target ref="id1397"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1389"/>
<target ref="id1398"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1396"/>
<target ref="id1386"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1389"/>
<target ref="id1396"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1399"/>
<target ref="id1399"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1394"/>
<target ref="id1393"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1394"/>
<target ref="id1391"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1398"/>
<target ref="id1397"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1399"/>
<target ref="id1389"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1400"/>
<target ref="id1399"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1401"/>
<target ref="id1400"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1401"/>
<target ref="id1395"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1402"/>
<target ref="id1401"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1403"/>
<target ref="id1402"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process78</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1404" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1405" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1406" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1407" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1408" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1409" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1410" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1411" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1412" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1413" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1414" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1415" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1416" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1417" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1418" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1419" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1420" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1421" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1408"/>
<transition>
<source ref="id1404"/>
<target ref="id1409"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1405"/>
<target ref="id1406"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1405"/>
<target ref="id1410"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1408"/>
<target ref="id1410"/>
</transition>
<transition>
<source ref="id1409"/>
<target ref="id1405"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1410"/>
<target ref="id1421"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1419"/>
<target ref="id1419"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1415"/>
<target ref="id1412"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1413"/>
<target ref="id1406"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1413"/>
<target ref="id1421"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1415"/>
<target ref="id1415"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1407"/>
<target ref="id1416"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1414"/>
<target ref="id1404"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1407"/>
<target ref="id1414"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1417"/>
<target ref="id1417"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1412"/>
<target ref="id1411"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1412"/>
<target ref="id1409"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1416"/>
<target ref="id1415"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1417"/>
<target ref="id1407"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1418"/>
<target ref="id1417"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1419"/>
<target ref="id1418"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1419"/>
<target ref="id1413"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1420"/>
<target ref="id1419"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1421"/>
<target ref="id1420"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process79</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1422" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1423" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1424" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1425" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1426" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1427" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1428" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1429" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1430" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1431" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1432" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1433" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1434" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1435" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1436" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1437" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1438" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1439" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1426"/>
<transition>
<source ref="id1422"/>
<target ref="id1427"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1423"/>
<target ref="id1424"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1423"/>
<target ref="id1428"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1426"/>
<target ref="id1428"/>
</transition>
<transition>
<source ref="id1427"/>
<target ref="id1423"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1428"/>
<target ref="id1439"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1437"/>
<target ref="id1437"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1433"/>
<target ref="id1430"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1431"/>
<target ref="id1424"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1431"/>
<target ref="id1439"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1433"/>
<target ref="id1433"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1425"/>
<target ref="id1434"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1432"/>
<target ref="id1422"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1425"/>
<target ref="id1432"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1435"/>
<target ref="id1435"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1430"/>
<target ref="id1429"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1430"/>
<target ref="id1427"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1434"/>
<target ref="id1433"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1435"/>
<target ref="id1425"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1436"/>
<target ref="id1435"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1437"/>
<target ref="id1436"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1437"/>
<target ref="id1431"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1438"/>
<target ref="id1437"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1439"/>
<target ref="id1438"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process80</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1440" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1441" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1442" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1443" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1444" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1445" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1446" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1447" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1448" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1449" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1450" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1451" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1452" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1453" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1454" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1455" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1456" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1457" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1444"/>
<transition>
<source ref="id1440"/>
<target ref="id1445"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1441"/>
<target ref="id1442"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1441"/>
<target ref="id1446"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1444"/>
<target ref="id1446"/>
</transition>
<transition>
<source ref="id1445"/>
<target ref="id1441"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1446"/>
<target ref="id1457"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1455"/>
<target ref="id1455"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1451"/>
<target ref="id1448"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1449"/>
<target ref="id1442"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1449"/>
<target ref="id1457"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1451"/>
<target ref="id1451"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1443"/>
<target ref="id1452"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1450"/>
<target ref="id1440"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1443"/>
<target ref="id1450"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1453"/>
<target ref="id1453"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1448"/>
<target ref="id1447"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1448"/>
<target ref="id1445"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1452"/>
<target ref="id1451"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1453"/>
<target ref="id1443"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1454"/>
<target ref="id1453"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1455"/>
<target ref="id1454"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1455"/>
<target ref="id1449"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1456"/>
<target ref="id1455"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1457"/>
<target ref="id1456"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process81</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1458" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1459" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1460" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1461" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1462" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1463" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1464" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1465" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1466" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1467" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1468" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1469" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1470" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1471" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1472" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1473" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1474" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1475" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1462"/>
<transition>
<source ref="id1458"/>
<target ref="id1463"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1459"/>
<target ref="id1460"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1459"/>
<target ref="id1464"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1462"/>
<target ref="id1464"/>
</transition>
<transition>
<source ref="id1463"/>
<target ref="id1459"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1464"/>
<target ref="id1475"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1473"/>
<target ref="id1473"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1469"/>
<target ref="id1466"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1467"/>
<target ref="id1460"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1467"/>
<target ref="id1475"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1469"/>
<target ref="id1469"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1461"/>
<target ref="id1470"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1468"/>
<target ref="id1458"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1461"/>
<target ref="id1468"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1471"/>
<target ref="id1471"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1466"/>
<target ref="id1465"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1466"/>
<target ref="id1463"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1470"/>
<target ref="id1469"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1471"/>
<target ref="id1461"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1472"/>
<target ref="id1471"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1473"/>
<target ref="id1472"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1473"/>
<target ref="id1467"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1474"/>
<target ref="id1473"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1475"/>
<target ref="id1474"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process82</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1476" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1477" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1478" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1479" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1480" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1481" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1482" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1483" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1484" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1485" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1486" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1487" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1488" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1489" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1490" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1491" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1492" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1493" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1480"/>
<transition>
<source ref="id1476"/>
<target ref="id1481"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1477"/>
<target ref="id1478"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1477"/>
<target ref="id1482"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1480"/>
<target ref="id1482"/>
</transition>
<transition>
<source ref="id1481"/>
<target ref="id1477"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1482"/>
<target ref="id1493"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1491"/>
<target ref="id1491"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1487"/>
<target ref="id1484"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1485"/>
<target ref="id1478"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1485"/>
<target ref="id1493"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1487"/>
<target ref="id1487"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1479"/>
<target ref="id1488"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1486"/>
<target ref="id1476"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1479"/>
<target ref="id1486"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1489"/>
<target ref="id1489"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1484"/>
<target ref="id1483"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1484"/>
<target ref="id1481"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1488"/>
<target ref="id1487"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1489"/>
<target ref="id1479"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1490"/>
<target ref="id1489"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1491"/>
<target ref="id1490"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1491"/>
<target ref="id1485"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1492"/>
<target ref="id1491"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1493"/>
<target ref="id1492"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process83</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1494" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1495" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1496" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1497" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1498" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1499" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1500" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1501" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1502" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1503" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1504" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1505" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1506" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1507" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1508" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1509" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1510" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1511" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1498"/>
<transition>
<source ref="id1494"/>
<target ref="id1499"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1495"/>
<target ref="id1496"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1495"/>
<target ref="id1500"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1498"/>
<target ref="id1500"/>
</transition>
<transition>
<source ref="id1499"/>
<target ref="id1495"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1500"/>
<target ref="id1511"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1509"/>
<target ref="id1509"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1505"/>
<target ref="id1502"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1503"/>
<target ref="id1496"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1503"/>
<target ref="id1511"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1505"/>
<target ref="id1505"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1497"/>
<target ref="id1506"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1504"/>
<target ref="id1494"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1497"/>
<target ref="id1504"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1507"/>
<target ref="id1507"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1502"/>
<target ref="id1501"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1502"/>
<target ref="id1499"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1506"/>
<target ref="id1505"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1507"/>
<target ref="id1497"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1508"/>
<target ref="id1507"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1509"/>
<target ref="id1508"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1509"/>
<target ref="id1503"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1510"/>
<target ref="id1509"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1511"/>
<target ref="id1510"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process84</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1512" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1513" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1514" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1515" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1516" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1517" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1518" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1519" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1520" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1521" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1522" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1523" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1524" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1525" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1526" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1527" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1528" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1529" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1516"/>
<transition>
<source ref="id1512"/>
<target ref="id1517"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1513"/>
<target ref="id1514"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1513"/>
<target ref="id1518"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1516"/>
<target ref="id1518"/>
</transition>
<transition>
<source ref="id1517"/>
<target ref="id1513"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1518"/>
<target ref="id1529"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1527"/>
<target ref="id1527"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1523"/>
<target ref="id1520"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1521"/>
<target ref="id1514"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1521"/>
<target ref="id1529"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1523"/>
<target ref="id1523"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1515"/>
<target ref="id1524"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1522"/>
<target ref="id1512"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1515"/>
<target ref="id1522"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1525"/>
<target ref="id1525"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1520"/>
<target ref="id1519"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1520"/>
<target ref="id1517"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1524"/>
<target ref="id1523"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1525"/>
<target ref="id1515"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1526"/>
<target ref="id1525"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1527"/>
<target ref="id1526"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1527"/>
<target ref="id1521"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1528"/>
<target ref="id1527"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1529"/>
<target ref="id1528"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process85</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1530" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1531" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1532" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1533" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1534" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1535" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1536" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1537" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1538" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1539" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1540" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1541" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1542" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1543" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1544" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1545" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1546" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1547" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1534"/>
<transition>
<source ref="id1530"/>
<target ref="id1535"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1531"/>
<target ref="id1532"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1531"/>
<target ref="id1536"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1534"/>
<target ref="id1536"/>
</transition>
<transition>
<source ref="id1535"/>
<target ref="id1531"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1536"/>
<target ref="id1547"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1545"/>
<target ref="id1545"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1541"/>
<target ref="id1538"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1539"/>
<target ref="id1532"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1539"/>
<target ref="id1547"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1541"/>
<target ref="id1541"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1533"/>
<target ref="id1542"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1540"/>
<target ref="id1530"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1533"/>
<target ref="id1540"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1543"/>
<target ref="id1543"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1538"/>
<target ref="id1537"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1538"/>
<target ref="id1535"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1542"/>
<target ref="id1541"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1543"/>
<target ref="id1533"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1544"/>
<target ref="id1543"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1545"/>
<target ref="id1544"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1545"/>
<target ref="id1539"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1546"/>
<target ref="id1545"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1547"/>
<target ref="id1546"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process86</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1548" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1549" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1550" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1551" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1552" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1553" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1554" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1555" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1556" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1557" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1558" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1559" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1560" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1561" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1562" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1563" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1564" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1565" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1552"/>
<transition>
<source ref="id1548"/>
<target ref="id1553"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1549"/>
<target ref="id1550"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1549"/>
<target ref="id1554"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1552"/>
<target ref="id1554"/>
</transition>
<transition>
<source ref="id1553"/>
<target ref="id1549"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1554"/>
<target ref="id1565"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1563"/>
<target ref="id1563"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1559"/>
<target ref="id1556"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1557"/>
<target ref="id1550"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1557"/>
<target ref="id1565"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1559"/>
<target ref="id1559"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1551"/>
<target ref="id1560"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1558"/>
<target ref="id1548"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1551"/>
<target ref="id1558"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1561"/>
<target ref="id1561"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1556"/>
<target ref="id1555"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1556"/>
<target ref="id1553"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1560"/>
<target ref="id1559"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1561"/>
<target ref="id1551"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1562"/>
<target ref="id1561"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1563"/>
<target ref="id1562"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1563"/>
<target ref="id1557"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1564"/>
<target ref="id1563"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1565"/>
<target ref="id1564"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process87</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1566" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1567" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1568" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1569" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1570" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1571" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1572" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1573" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1574" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1575" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1576" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1577" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1578" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1579" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1580" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1581" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1582" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1583" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1570"/>
<transition>
<source ref="id1566"/>
<target ref="id1571"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1567"/>
<target ref="id1568"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1567"/>
<target ref="id1572"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1570"/>
<target ref="id1572"/>
</transition>
<transition>
<source ref="id1571"/>
<target ref="id1567"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1572"/>
<target ref="id1583"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1581"/>
<target ref="id1581"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1577"/>
<target ref="id1574"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1575"/>
<target ref="id1568"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1575"/>
<target ref="id1583"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1577"/>
<target ref="id1577"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1569"/>
<target ref="id1578"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1576"/>
<target ref="id1566"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1569"/>
<target ref="id1576"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1579"/>
<target ref="id1579"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1574"/>
<target ref="id1573"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1574"/>
<target ref="id1571"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1578"/>
<target ref="id1577"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1579"/>
<target ref="id1569"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1580"/>
<target ref="id1579"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1581"/>
<target ref="id1580"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1581"/>
<target ref="id1575"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1582"/>
<target ref="id1581"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1583"/>
<target ref="id1582"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process88</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1584" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1585" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1586" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1587" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1588" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1589" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1590" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1591" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1592" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1593" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1594" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1595" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1596" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1597" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1598" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1599" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1600" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1601" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1588"/>
<transition>
<source ref="id1584"/>
<target ref="id1589"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1585"/>
<target ref="id1586"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1585"/>
<target ref="id1590"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1588"/>
<target ref="id1590"/>
</transition>
<transition>
<source ref="id1589"/>
<target ref="id1585"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1590"/>
<target ref="id1601"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1599"/>
<target ref="id1599"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1595"/>
<target ref="id1592"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1593"/>
<target ref="id1586"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1593"/>
<target ref="id1601"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1595"/>
<target ref="id1595"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1587"/>
<target ref="id1596"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1594"/>
<target ref="id1584"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1587"/>
<target ref="id1594"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1597"/>
<target ref="id1597"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1592"/>
<target ref="id1591"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1592"/>
<target ref="id1589"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1596"/>
<target ref="id1595"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1597"/>
<target ref="id1587"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1598"/>
<target ref="id1597"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1599"/>
<target ref="id1598"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1599"/>
<target ref="id1593"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1600"/>
<target ref="id1599"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1601"/>
<target ref="id1600"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process89</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1602" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1603" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1604" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1605" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1606" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1607" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1608" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1609" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1610" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1611" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1612" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1613" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1614" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1615" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1616" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1617" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1618" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1619" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1606"/>
<transition>
<source ref="id1602"/>
<target ref="id1607"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1603"/>
<target ref="id1604"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1603"/>
<target ref="id1608"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1606"/>
<target ref="id1608"/>
</transition>
<transition>
<source ref="id1607"/>
<target ref="id1603"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1608"/>
<target ref="id1619"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1617"/>
<target ref="id1617"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1613"/>
<target ref="id1610"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1611"/>
<target ref="id1604"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1611"/>
<target ref="id1619"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1613"/>
<target ref="id1613"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1605"/>
<target ref="id1614"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1612"/>
<target ref="id1602"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1605"/>
<target ref="id1612"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1615"/>
<target ref="id1615"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1610"/>
<target ref="id1609"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1610"/>
<target ref="id1607"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1614"/>
<target ref="id1613"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1615"/>
<target ref="id1605"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1616"/>
<target ref="id1615"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1617"/>
<target ref="id1616"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1617"/>
<target ref="id1611"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1618"/>
<target ref="id1617"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1619"/>
<target ref="id1618"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process90</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1620" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1621" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1622" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1623" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1624" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1625" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1626" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1627" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1628" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1629" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1630" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1631" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1632" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1633" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1634" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1635" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1636" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1637" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1624"/>
<transition>
<source ref="id1620"/>
<target ref="id1625"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1621"/>
<target ref="id1622"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1621"/>
<target ref="id1626"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1624"/>
<target ref="id1626"/>
</transition>
<transition>
<source ref="id1625"/>
<target ref="id1621"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1626"/>
<target ref="id1637"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1635"/>
<target ref="id1635"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1631"/>
<target ref="id1628"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1629"/>
<target ref="id1622"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1629"/>
<target ref="id1637"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1631"/>
<target ref="id1631"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1623"/>
<target ref="id1632"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1630"/>
<target ref="id1620"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1623"/>
<target ref="id1630"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1633"/>
<target ref="id1633"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1628"/>
<target ref="id1627"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1628"/>
<target ref="id1625"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1632"/>
<target ref="id1631"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1633"/>
<target ref="id1623"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1634"/>
<target ref="id1633"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1635"/>
<target ref="id1634"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1635"/>
<target ref="id1629"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1636"/>
<target ref="id1635"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1637"/>
<target ref="id1636"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process91</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1638" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1639" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1640" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1641" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1642" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1643" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1644" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1645" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1646" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1647" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1648" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1649" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1650" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1651" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1652" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1653" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1654" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1655" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1642"/>
<transition>
<source ref="id1638"/>
<target ref="id1643"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1639"/>
<target ref="id1640"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1639"/>
<target ref="id1644"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1642"/>
<target ref="id1644"/>
</transition>
<transition>
<source ref="id1643"/>
<target ref="id1639"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1644"/>
<target ref="id1655"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1653"/>
<target ref="id1653"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1649"/>
<target ref="id1646"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1647"/>
<target ref="id1640"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1647"/>
<target ref="id1655"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1649"/>
<target ref="id1649"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1641"/>
<target ref="id1650"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1648"/>
<target ref="id1638"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1641"/>
<target ref="id1648"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1651"/>
<target ref="id1651"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1646"/>
<target ref="id1645"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1646"/>
<target ref="id1643"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1650"/>
<target ref="id1649"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1651"/>
<target ref="id1641"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1652"/>
<target ref="id1651"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1653"/>
<target ref="id1652"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1653"/>
<target ref="id1647"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1654"/>
<target ref="id1653"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1655"/>
<target ref="id1654"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process92</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1656" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1657" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1658" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1659" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1660" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1661" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1662" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1663" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1664" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1665" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1666" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1667" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1668" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1669" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1670" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1671" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1672" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1673" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1660"/>
<transition>
<source ref="id1656"/>
<target ref="id1661"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1657"/>
<target ref="id1658"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1657"/>
<target ref="id1662"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1660"/>
<target ref="id1662"/>
</transition>
<transition>
<source ref="id1661"/>
<target ref="id1657"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1662"/>
<target ref="id1673"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1671"/>
<target ref="id1671"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1667"/>
<target ref="id1664"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1665"/>
<target ref="id1658"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1665"/>
<target ref="id1673"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1667"/>
<target ref="id1667"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1659"/>
<target ref="id1668"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1666"/>
<target ref="id1656"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1659"/>
<target ref="id1666"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1669"/>
<target ref="id1669"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1664"/>
<target ref="id1663"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1664"/>
<target ref="id1661"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1668"/>
<target ref="id1667"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1669"/>
<target ref="id1659"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1670"/>
<target ref="id1669"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1671"/>
<target ref="id1670"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1671"/>
<target ref="id1665"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1672"/>
<target ref="id1671"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1673"/>
<target ref="id1672"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process93</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1674" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1675" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1676" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1677" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1678" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1679" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1680" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1681" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1682" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1683" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1684" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1685" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1686" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1687" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1688" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1689" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1690" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1691" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1678"/>
<transition>
<source ref="id1674"/>
<target ref="id1679"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1675"/>
<target ref="id1676"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1675"/>
<target ref="id1680"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1678"/>
<target ref="id1680"/>
</transition>
<transition>
<source ref="id1679"/>
<target ref="id1675"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1680"/>
<target ref="id1691"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1689"/>
<target ref="id1689"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1685"/>
<target ref="id1682"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1683"/>
<target ref="id1676"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1683"/>
<target ref="id1691"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1685"/>
<target ref="id1685"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1677"/>
<target ref="id1686"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1684"/>
<target ref="id1674"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1677"/>
<target ref="id1684"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1687"/>
<target ref="id1687"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1682"/>
<target ref="id1681"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1682"/>
<target ref="id1679"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1686"/>
<target ref="id1685"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1687"/>
<target ref="id1677"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1688"/>
<target ref="id1687"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1689"/>
<target ref="id1688"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1689"/>
<target ref="id1683"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1690"/>
<target ref="id1689"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1691"/>
<target ref="id1690"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process94</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1692" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1693" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1694" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1695" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1696" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1697" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1698" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1699" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1700" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1701" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1702" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1703" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1704" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1705" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1706" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1707" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1708" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1709" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1696"/>
<transition>
<source ref="id1692"/>
<target ref="id1697"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1693"/>
<target ref="id1694"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1693"/>
<target ref="id1698"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1696"/>
<target ref="id1698"/>
</transition>
<transition>
<source ref="id1697"/>
<target ref="id1693"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1698"/>
<target ref="id1709"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1707"/>
<target ref="id1707"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1703"/>
<target ref="id1700"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1701"/>
<target ref="id1694"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1701"/>
<target ref="id1709"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1703"/>
<target ref="id1703"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1695"/>
<target ref="id1704"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1702"/>
<target ref="id1692"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1695"/>
<target ref="id1702"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1705"/>
<target ref="id1705"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1700"/>
<target ref="id1699"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1700"/>
<target ref="id1697"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1704"/>
<target ref="id1703"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1705"/>
<target ref="id1695"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1706"/>
<target ref="id1705"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1707"/>
<target ref="id1706"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1707"/>
<target ref="id1701"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1708"/>
<target ref="id1707"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1709"/>
<target ref="id1708"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process95</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1710" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1711" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1712" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1713" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1714" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1715" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1716" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1717" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1718" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1719" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1720" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1721" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1722" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1723" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1724" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1725" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1726" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1727" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1714"/>
<transition>
<source ref="id1710"/>
<target ref="id1715"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1711"/>
<target ref="id1712"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1711"/>
<target ref="id1716"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1714"/>
<target ref="id1716"/>
</transition>
<transition>
<source ref="id1715"/>
<target ref="id1711"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1716"/>
<target ref="id1727"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1725"/>
<target ref="id1725"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1721"/>
<target ref="id1718"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1719"/>
<target ref="id1712"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1719"/>
<target ref="id1727"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1721"/>
<target ref="id1721"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1713"/>
<target ref="id1722"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1720"/>
<target ref="id1710"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1713"/>
<target ref="id1720"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1723"/>
<target ref="id1723"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1718"/>
<target ref="id1717"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1718"/>
<target ref="id1715"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1722"/>
<target ref="id1721"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1723"/>
<target ref="id1713"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1724"/>
<target ref="id1723"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1725"/>
<target ref="id1724"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1725"/>
<target ref="id1719"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1726"/>
<target ref="id1725"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1727"/>
<target ref="id1726"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process96</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1728" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1729" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1730" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1731" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1732" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1733" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1734" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1735" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1736" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1737" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1738" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1739" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1740" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1741" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1742" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1743" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1744" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1745" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1732"/>
<transition>
<source ref="id1728"/>
<target ref="id1733"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1729"/>
<target ref="id1730"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1729"/>
<target ref="id1734"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1732"/>
<target ref="id1734"/>
</transition>
<transition>
<source ref="id1733"/>
<target ref="id1729"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1734"/>
<target ref="id1745"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1743"/>
<target ref="id1743"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1739"/>
<target ref="id1736"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1737"/>
<target ref="id1730"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1737"/>
<target ref="id1745"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1739"/>
<target ref="id1739"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1731"/>
<target ref="id1740"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1738"/>
<target ref="id1728"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1731"/>
<target ref="id1738"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1741"/>
<target ref="id1741"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1736"/>
<target ref="id1735"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1736"/>
<target ref="id1733"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1740"/>
<target ref="id1739"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1741"/>
<target ref="id1731"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1742"/>
<target ref="id1741"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1743"/>
<target ref="id1742"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1743"/>
<target ref="id1737"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1744"/>
<target ref="id1743"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1745"/>
<target ref="id1744"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process97</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1746" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1747" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1748" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1749" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1750" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1751" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1752" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1753" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1754" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1755" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1756" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1757" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1758" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1759" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1760" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1761" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1762" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1763" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1750"/>
<transition>
<source ref="id1746"/>
<target ref="id1751"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1747"/>
<target ref="id1748"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1747"/>
<target ref="id1752"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1750"/>
<target ref="id1752"/>
</transition>
<transition>
<source ref="id1751"/>
<target ref="id1747"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1752"/>
<target ref="id1763"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1761"/>
<target ref="id1761"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1757"/>
<target ref="id1754"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1755"/>
<target ref="id1748"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1755"/>
<target ref="id1763"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1757"/>
<target ref="id1757"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1749"/>
<target ref="id1758"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1756"/>
<target ref="id1746"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1749"/>
<target ref="id1756"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1759"/>
<target ref="id1759"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1754"/>
<target ref="id1753"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1754"/>
<target ref="id1751"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1758"/>
<target ref="id1757"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1759"/>
<target ref="id1749"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1760"/>
<target ref="id1759"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1761"/>
<target ref="id1760"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1761"/>
<target ref="id1755"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1762"/>
<target ref="id1761"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1763"/>
<target ref="id1762"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process98</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1764" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1765" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1766" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1767" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1768" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1769" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1770" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1771" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1772" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1773" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1774" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1775" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1776" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1777" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1778" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1779" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1780" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1781" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1768"/>
<transition>
<source ref="id1764"/>
<target ref="id1769"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1765"/>
<target ref="id1766"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1765"/>
<target ref="id1770"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1768"/>
<target ref="id1770"/>
</transition>
<transition>
<source ref="id1769"/>
<target ref="id1765"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1770"/>
<target ref="id1781"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1779"/>
<target ref="id1779"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1775"/>
<target ref="id1772"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1773"/>
<target ref="id1766"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1773"/>
<target ref="id1781"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1775"/>
<target ref="id1775"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1767"/>
<target ref="id1776"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1774"/>
<target ref="id1764"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1767"/>
<target ref="id1774"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1777"/>
<target ref="id1777"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1772"/>
<target ref="id1771"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1772"/>
<target ref="id1769"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1776"/>
<target ref="id1775"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1777"/>
<target ref="id1767"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1778"/>
<target ref="id1777"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1779"/>
<target ref="id1778"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1779"/>
<target ref="id1773"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1780"/>
<target ref="id1779"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1781"/>
<target ref="id1780"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process99</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1782" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1783" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1784" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1785" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1786" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1787" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1788" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1789" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1790" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1791" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1792" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1793" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1794" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1795" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1796" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1797" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1798" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1799" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1786"/>
<transition>
<source ref="id1782"/>
<target ref="id1787"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1783"/>
<target ref="id1784"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1783"/>
<target ref="id1788"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1786"/>
<target ref="id1788"/>
</transition>
<transition>
<source ref="id1787"/>
<target ref="id1783"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1788"/>
<target ref="id1799"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1797"/>
<target ref="id1797"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1793"/>
<target ref="id1790"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1791"/>
<target ref="id1784"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1791"/>
<target ref="id1799"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1793"/>
<target ref="id1793"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1785"/>
<target ref="id1794"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1792"/>
<target ref="id1782"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1785"/>
<target ref="id1792"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1795"/>
<target ref="id1795"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1790"/>
<target ref="id1789"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1790"/>
<target ref="id1787"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1794"/>
<target ref="id1793"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1795"/>
<target ref="id1785"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1796"/>
<target ref="id1795"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1797"/>
<target ref="id1796"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1797"/>
<target ref="id1791"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1798"/>
<target ref="id1797"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1799"/>
<target ref="id1798"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process100</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1800" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1801" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1802" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1803" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1804" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1805" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1806" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1807" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1808" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1809" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1810" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1811" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1812" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1813" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1814" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1815" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1816" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1817" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1804"/>
<transition>
<source ref="id1800"/>
<target ref="id1805"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1801"/>
<target ref="id1802"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1801"/>
<target ref="id1806"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1804"/>
<target ref="id1806"/>
</transition>
<transition>
<source ref="id1805"/>
<target ref="id1801"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1806"/>
<target ref="id1817"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1815"/>
<target ref="id1815"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1811"/>
<target ref="id1808"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1809"/>
<target ref="id1802"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1809"/>
<target ref="id1817"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1811"/>
<target ref="id1811"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1803"/>
<target ref="id1812"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1810"/>
<target ref="id1800"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1803"/>
<target ref="id1810"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1813"/>
<target ref="id1813"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1808"/>
<target ref="id1807"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1808"/>
<target ref="id1805"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1812"/>
<target ref="id1811"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1813"/>
<target ref="id1803"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1814"/>
<target ref="id1813"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1815"/>
<target ref="id1814"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1815"/>
<target ref="id1809"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1816"/>
<target ref="id1815"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1817"/>
<target ref="id1816"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process101</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1818" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1819" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1820" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1821" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1822" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1823" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1824" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1825" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1826" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1827" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1828" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1829" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1830" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1831" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1832" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1833" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1834" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1835" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1822"/>
<transition>
<source ref="id1818"/>
<target ref="id1823"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1819"/>
<target ref="id1820"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1819"/>
<target ref="id1824"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1822"/>
<target ref="id1824"/>
</transition>
<transition>
<source ref="id1823"/>
<target ref="id1819"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1824"/>
<target ref="id1835"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1833"/>
<target ref="id1833"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1829"/>
<target ref="id1826"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1827"/>
<target ref="id1820"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1827"/>
<target ref="id1835"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1829"/>
<target ref="id1829"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1821"/>
<target ref="id1830"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1828"/>
<target ref="id1818"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1821"/>
<target ref="id1828"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1831"/>
<target ref="id1831"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1826"/>
<target ref="id1825"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1826"/>
<target ref="id1823"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1830"/>
<target ref="id1829"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1831"/>
<target ref="id1821"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1832"/>
<target ref="id1831"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1833"/>
<target ref="id1832"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1833"/>
<target ref="id1827"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1834"/>
<target ref="id1833"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1835"/>
<target ref="id1834"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process102</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1836" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1837" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1838" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1839" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1840" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1841" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1842" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1843" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1844" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1845" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1846" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1847" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1848" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1849" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1850" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1851" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1852" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1853" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1840"/>
<transition>
<source ref="id1836"/>
<target ref="id1841"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1837"/>
<target ref="id1838"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1837"/>
<target ref="id1842"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1840"/>
<target ref="id1842"/>
</transition>
<transition>
<source ref="id1841"/>
<target ref="id1837"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1842"/>
<target ref="id1853"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1851"/>
<target ref="id1851"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1847"/>
<target ref="id1844"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1845"/>
<target ref="id1838"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1845"/>
<target ref="id1853"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1847"/>
<target ref="id1847"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1839"/>
<target ref="id1848"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1846"/>
<target ref="id1836"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1839"/>
<target ref="id1846"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1849"/>
<target ref="id1849"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1844"/>
<target ref="id1843"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1844"/>
<target ref="id1841"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1848"/>
<target ref="id1847"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1849"/>
<target ref="id1839"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1850"/>
<target ref="id1849"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1851"/>
<target ref="id1850"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1851"/>
<target ref="id1845"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1852"/>
<target ref="id1851"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1853"/>
<target ref="id1852"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process103</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1854" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1855" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1856" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1857" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1858" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1859" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1860" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1861" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1862" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1863" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1864" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1865" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1866" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1867" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1868" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1869" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1870" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1871" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1858"/>
<transition>
<source ref="id1854"/>
<target ref="id1859"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1855"/>
<target ref="id1856"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1855"/>
<target ref="id1860"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1858"/>
<target ref="id1860"/>
</transition>
<transition>
<source ref="id1859"/>
<target ref="id1855"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1860"/>
<target ref="id1871"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1869"/>
<target ref="id1869"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1865"/>
<target ref="id1862"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1863"/>
<target ref="id1856"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1863"/>
<target ref="id1871"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1865"/>
<target ref="id1865"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1857"/>
<target ref="id1866"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1864"/>
<target ref="id1854"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1857"/>
<target ref="id1864"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1867"/>
<target ref="id1867"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1862"/>
<target ref="id1861"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1862"/>
<target ref="id1859"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1866"/>
<target ref="id1865"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1867"/>
<target ref="id1857"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1868"/>
<target ref="id1867"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1869"/>
<target ref="id1868"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1869"/>
<target ref="id1863"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1870"/>
<target ref="id1869"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1871"/>
<target ref="id1870"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process104</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1872" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1873" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1874" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1875" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1876" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1877" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1878" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1879" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1880" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1881" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1882" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1883" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1884" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1885" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1886" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1887" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1888" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1889" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1876"/>
<transition>
<source ref="id1872"/>
<target ref="id1877"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1873"/>
<target ref="id1874"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1873"/>
<target ref="id1878"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1876"/>
<target ref="id1878"/>
</transition>
<transition>
<source ref="id1877"/>
<target ref="id1873"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1878"/>
<target ref="id1889"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1887"/>
<target ref="id1887"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1883"/>
<target ref="id1880"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1881"/>
<target ref="id1874"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1881"/>
<target ref="id1889"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1883"/>
<target ref="id1883"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1875"/>
<target ref="id1884"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1882"/>
<target ref="id1872"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1875"/>
<target ref="id1882"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1885"/>
<target ref="id1885"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1880"/>
<target ref="id1879"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1880"/>
<target ref="id1877"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1884"/>
<target ref="id1883"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1885"/>
<target ref="id1875"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1886"/>
<target ref="id1885"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1887"/>
<target ref="id1886"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1887"/>
<target ref="id1881"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1888"/>
<target ref="id1887"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1889"/>
<target ref="id1888"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process105</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1890" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1891" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1892" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1893" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1894" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1895" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1896" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1897" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1898" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1899" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1900" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1901" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1902" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1903" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1904" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1905" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1906" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1907" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1894"/>
<transition>
<source ref="id1890"/>
<target ref="id1895"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1891"/>
<target ref="id1892"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1891"/>
<target ref="id1896"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1894"/>
<target ref="id1896"/>
</transition>
<transition>
<source ref="id1895"/>
<target ref="id1891"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1896"/>
<target ref="id1907"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1905"/>
<target ref="id1905"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1901"/>
<target ref="id1898"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1899"/>
<target ref="id1892"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1899"/>
<target ref="id1907"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1901"/>
<target ref="id1901"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1893"/>
<target ref="id1902"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1900"/>
<target ref="id1890"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1893"/>
<target ref="id1900"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1903"/>
<target ref="id1903"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1898"/>
<target ref="id1897"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1898"/>
<target ref="id1895"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1902"/>
<target ref="id1901"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1903"/>
<target ref="id1893"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1904"/>
<target ref="id1903"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1905"/>
<target ref="id1904"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1905"/>
<target ref="id1899"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1906"/>
<target ref="id1905"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1907"/>
<target ref="id1906"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process106</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1908" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1909" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1910" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1911" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1912" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1913" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1914" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1915" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1916" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1917" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1918" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1919" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1920" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1921" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1922" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1923" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1924" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1925" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1912"/>
<transition>
<source ref="id1908"/>
<target ref="id1913"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1909"/>
<target ref="id1910"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1909"/>
<target ref="id1914"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1912"/>
<target ref="id1914"/>
</transition>
<transition>
<source ref="id1913"/>
<target ref="id1909"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1914"/>
<target ref="id1925"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1923"/>
<target ref="id1923"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1919"/>
<target ref="id1916"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1917"/>
<target ref="id1910"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1917"/>
<target ref="id1925"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1919"/>
<target ref="id1919"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1911"/>
<target ref="id1920"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1918"/>
<target ref="id1908"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1911"/>
<target ref="id1918"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1921"/>
<target ref="id1921"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1916"/>
<target ref="id1915"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1916"/>
<target ref="id1913"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1920"/>
<target ref="id1919"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1921"/>
<target ref="id1911"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1922"/>
<target ref="id1921"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1923"/>
<target ref="id1922"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1923"/>
<target ref="id1917"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1924"/>
<target ref="id1923"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1925"/>
<target ref="id1924"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process107</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1926" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1927" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1928" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1929" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1930" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1931" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1932" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1933" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1934" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1935" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1936" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1937" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1938" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1939" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1940" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1941" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1942" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1943" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1930"/>
<transition>
<source ref="id1926"/>
<target ref="id1931"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1927"/>
<target ref="id1928"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1927"/>
<target ref="id1932"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1930"/>
<target ref="id1932"/>
</transition>
<transition>
<source ref="id1931"/>
<target ref="id1927"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1932"/>
<target ref="id1943"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1941"/>
<target ref="id1941"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1937"/>
<target ref="id1934"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1935"/>
<target ref="id1928"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1935"/>
<target ref="id1943"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1937"/>
<target ref="id1937"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1929"/>
<target ref="id1938"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1936"/>
<target ref="id1926"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1929"/>
<target ref="id1936"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1939"/>
<target ref="id1939"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1934"/>
<target ref="id1933"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1934"/>
<target ref="id1931"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1938"/>
<target ref="id1937"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1939"/>
<target ref="id1929"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1940"/>
<target ref="id1939"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1941"/>
<target ref="id1940"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1941"/>
<target ref="id1935"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1942"/>
<target ref="id1941"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1943"/>
<target ref="id1942"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process108</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1944" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1945" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1946" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1947" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1948" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1949" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1950" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1951" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1952" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1953" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1954" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1955" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1956" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1957" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1958" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1959" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1960" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1961" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1948"/>
<transition>
<source ref="id1944"/>
<target ref="id1949"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1945"/>
<target ref="id1946"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1945"/>
<target ref="id1950"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1948"/>
<target ref="id1950"/>
</transition>
<transition>
<source ref="id1949"/>
<target ref="id1945"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1950"/>
<target ref="id1961"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1959"/>
<target ref="id1959"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1955"/>
<target ref="id1952"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1953"/>
<target ref="id1946"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1953"/>
<target ref="id1961"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1955"/>
<target ref="id1955"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1947"/>
<target ref="id1956"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1954"/>
<target ref="id1944"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1947"/>
<target ref="id1954"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1957"/>
<target ref="id1957"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1952"/>
<target ref="id1951"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1952"/>
<target ref="id1949"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1956"/>
<target ref="id1955"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1957"/>
<target ref="id1947"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1958"/>
<target ref="id1957"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1959"/>
<target ref="id1958"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1959"/>
<target ref="id1953"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1960"/>
<target ref="id1959"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1961"/>
<target ref="id1960"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process109</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1962" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1963" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1964" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1965" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1966" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1967" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1968" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1969" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1970" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1971" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1972" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1973" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1974" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1975" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1976" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1977" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1978" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1979" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1966"/>
<transition>
<source ref="id1962"/>
<target ref="id1967"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1963"/>
<target ref="id1964"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1963"/>
<target ref="id1968"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1966"/>
<target ref="id1968"/>
</transition>
<transition>
<source ref="id1967"/>
<target ref="id1963"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1968"/>
<target ref="id1979"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1977"/>
<target ref="id1977"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1973"/>
<target ref="id1970"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1971"/>
<target ref="id1964"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1971"/>
<target ref="id1979"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1973"/>
<target ref="id1973"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1965"/>
<target ref="id1974"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1972"/>
<target ref="id1962"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1965"/>
<target ref="id1972"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1975"/>
<target ref="id1975"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1970"/>
<target ref="id1969"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1970"/>
<target ref="id1967"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1974"/>
<target ref="id1973"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1975"/>
<target ref="id1965"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1976"/>
<target ref="id1975"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1977"/>
<target ref="id1976"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1977"/>
<target ref="id1971"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1978"/>
<target ref="id1977"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1979"/>
<target ref="id1978"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process110</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1980" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1981" x="-2560" y="-200">
<urgent/>
</location>
<location id="id1982" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id1983" x="-1928" y="-200">
<urgent/>
</location>
<location id="id1984" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id1985" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id1986" x="-2560" y="-288">
<urgent/>
</location>
<location id="id1987" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id1988" x="-2336" y="-40">
<urgent/>
</location>
<location id="id1989" x="-2264" y="-360">
<urgent/>
</location>
<location id="id1990" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id1991" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id1992" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id1993" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id1994" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id1995" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id1996" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id1997" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id1984"/>
<transition>
<source ref="id1980"/>
<target ref="id1985"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1981"/>
<target ref="id1982"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1981"/>
<target ref="id1986"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id1984"/>
<target ref="id1986"/>
</transition>
<transition>
<source ref="id1985"/>
<target ref="id1981"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id1986"/>
<target ref="id1997"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id1995"/>
<target ref="id1995"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id1991"/>
<target ref="id1988"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id1989"/>
<target ref="id1982"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id1989"/>
<target ref="id1997"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id1991"/>
<target ref="id1991"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id1983"/>
<target ref="id1992"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id1990"/>
<target ref="id1980"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id1983"/>
<target ref="id1990"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id1993"/>
<target ref="id1993"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id1988"/>
<target ref="id1987"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id1988"/>
<target ref="id1985"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id1992"/>
<target ref="id1991"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id1993"/>
<target ref="id1983"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id1994"/>
<target ref="id1993"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id1995"/>
<target ref="id1994"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id1995"/>
<target ref="id1989"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id1996"/>
<target ref="id1995"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id1997"/>
<target ref="id1996"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process111</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id1998" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id1999" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2000" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2001" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2002" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2003" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2004" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2005" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2006" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2007" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2008" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2009" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2010" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2011" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2012" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2013" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2014" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2015" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2002"/>
<transition>
<source ref="id1998"/>
<target ref="id2003"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id1999"/>
<target ref="id2000"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id1999"/>
<target ref="id2004"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2002"/>
<target ref="id2004"/>
</transition>
<transition>
<source ref="id2003"/>
<target ref="id1999"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2004"/>
<target ref="id2015"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2013"/>
<target ref="id2013"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2009"/>
<target ref="id2006"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2007"/>
<target ref="id2000"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2007"/>
<target ref="id2015"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2009"/>
<target ref="id2009"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2001"/>
<target ref="id2010"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2008"/>
<target ref="id1998"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2001"/>
<target ref="id2008"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2011"/>
<target ref="id2011"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2006"/>
<target ref="id2005"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2006"/>
<target ref="id2003"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2010"/>
<target ref="id2009"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2011"/>
<target ref="id2001"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2012"/>
<target ref="id2011"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2013"/>
<target ref="id2012"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2013"/>
<target ref="id2007"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2014"/>
<target ref="id2013"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2015"/>
<target ref="id2014"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process112</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2016" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2017" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2018" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2019" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2020" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2021" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2022" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2023" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2024" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2025" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2026" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2027" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2028" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2029" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2030" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2031" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2032" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2033" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2020"/>
<transition>
<source ref="id2016"/>
<target ref="id2021"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2017"/>
<target ref="id2018"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2017"/>
<target ref="id2022"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2020"/>
<target ref="id2022"/>
</transition>
<transition>
<source ref="id2021"/>
<target ref="id2017"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2022"/>
<target ref="id2033"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2031"/>
<target ref="id2031"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2027"/>
<target ref="id2024"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2025"/>
<target ref="id2018"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2025"/>
<target ref="id2033"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2027"/>
<target ref="id2027"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2019"/>
<target ref="id2028"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2026"/>
<target ref="id2016"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2019"/>
<target ref="id2026"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2029"/>
<target ref="id2029"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2024"/>
<target ref="id2023"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2024"/>
<target ref="id2021"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2028"/>
<target ref="id2027"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2029"/>
<target ref="id2019"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2030"/>
<target ref="id2029"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2031"/>
<target ref="id2030"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2031"/>
<target ref="id2025"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2032"/>
<target ref="id2031"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2033"/>
<target ref="id2032"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process113</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2034" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2035" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2036" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2037" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2038" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2039" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2040" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2041" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2042" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2043" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2044" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2045" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2046" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2047" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2048" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2049" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2050" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2051" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2038"/>
<transition>
<source ref="id2034"/>
<target ref="id2039"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2035"/>
<target ref="id2036"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2035"/>
<target ref="id2040"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2038"/>
<target ref="id2040"/>
</transition>
<transition>
<source ref="id2039"/>
<target ref="id2035"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2040"/>
<target ref="id2051"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2049"/>
<target ref="id2049"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2045"/>
<target ref="id2042"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2043"/>
<target ref="id2036"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2043"/>
<target ref="id2051"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2045"/>
<target ref="id2045"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2037"/>
<target ref="id2046"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2044"/>
<target ref="id2034"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2037"/>
<target ref="id2044"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2047"/>
<target ref="id2047"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2042"/>
<target ref="id2041"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2042"/>
<target ref="id2039"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2046"/>
<target ref="id2045"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2047"/>
<target ref="id2037"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2048"/>
<target ref="id2047"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2049"/>
<target ref="id2048"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2049"/>
<target ref="id2043"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2050"/>
<target ref="id2049"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2051"/>
<target ref="id2050"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process114</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2052" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2053" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2054" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2055" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2056" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2057" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2058" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2059" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2060" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2061" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2062" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2063" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2064" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2065" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2066" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2067" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2068" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2069" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2056"/>
<transition>
<source ref="id2052"/>
<target ref="id2057"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2053"/>
<target ref="id2054"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2053"/>
<target ref="id2058"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2056"/>
<target ref="id2058"/>
</transition>
<transition>
<source ref="id2057"/>
<target ref="id2053"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2058"/>
<target ref="id2069"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2067"/>
<target ref="id2067"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2063"/>
<target ref="id2060"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2061"/>
<target ref="id2054"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2061"/>
<target ref="id2069"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2063"/>
<target ref="id2063"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2055"/>
<target ref="id2064"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2062"/>
<target ref="id2052"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2055"/>
<target ref="id2062"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2065"/>
<target ref="id2065"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2060"/>
<target ref="id2059"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2060"/>
<target ref="id2057"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2064"/>
<target ref="id2063"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2065"/>
<target ref="id2055"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2066"/>
<target ref="id2065"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2067"/>
<target ref="id2066"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2067"/>
<target ref="id2061"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2068"/>
<target ref="id2067"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2069"/>
<target ref="id2068"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process115</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2070" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2071" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2072" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2073" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2074" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2075" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2076" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2077" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2078" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2079" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2080" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2081" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2082" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2083" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2084" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2085" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2086" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2087" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2074"/>
<transition>
<source ref="id2070"/>
<target ref="id2075"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2071"/>
<target ref="id2072"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2071"/>
<target ref="id2076"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2074"/>
<target ref="id2076"/>
</transition>
<transition>
<source ref="id2075"/>
<target ref="id2071"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2076"/>
<target ref="id2087"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2085"/>
<target ref="id2085"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2081"/>
<target ref="id2078"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2079"/>
<target ref="id2072"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2079"/>
<target ref="id2087"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2081"/>
<target ref="id2081"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2073"/>
<target ref="id2082"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2080"/>
<target ref="id2070"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2073"/>
<target ref="id2080"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2083"/>
<target ref="id2083"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2078"/>
<target ref="id2077"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2078"/>
<target ref="id2075"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2082"/>
<target ref="id2081"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2083"/>
<target ref="id2073"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2084"/>
<target ref="id2083"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2085"/>
<target ref="id2084"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2085"/>
<target ref="id2079"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2086"/>
<target ref="id2085"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2087"/>
<target ref="id2086"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process116</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2088" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2089" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2090" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2091" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2092" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2093" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2094" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2095" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2096" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2097" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2098" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2099" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2100" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2101" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2102" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2103" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2104" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2105" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2092"/>
<transition>
<source ref="id2088"/>
<target ref="id2093"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2089"/>
<target ref="id2090"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2089"/>
<target ref="id2094"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2092"/>
<target ref="id2094"/>
</transition>
<transition>
<source ref="id2093"/>
<target ref="id2089"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2094"/>
<target ref="id2105"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2103"/>
<target ref="id2103"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2099"/>
<target ref="id2096"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2097"/>
<target ref="id2090"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2097"/>
<target ref="id2105"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2099"/>
<target ref="id2099"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2091"/>
<target ref="id2100"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2098"/>
<target ref="id2088"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2091"/>
<target ref="id2098"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2101"/>
<target ref="id2101"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2096"/>
<target ref="id2095"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2096"/>
<target ref="id2093"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2100"/>
<target ref="id2099"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2101"/>
<target ref="id2091"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2102"/>
<target ref="id2101"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2103"/>
<target ref="id2102"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2103"/>
<target ref="id2097"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2104"/>
<target ref="id2103"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2105"/>
<target ref="id2104"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process117</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2106" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2107" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2108" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2109" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2110" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2111" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2112" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2113" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2114" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2115" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2116" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2117" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2118" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2119" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2120" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2121" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2122" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2123" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2110"/>
<transition>
<source ref="id2106"/>
<target ref="id2111"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2107"/>
<target ref="id2108"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2107"/>
<target ref="id2112"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2110"/>
<target ref="id2112"/>
</transition>
<transition>
<source ref="id2111"/>
<target ref="id2107"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2112"/>
<target ref="id2123"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2121"/>
<target ref="id2121"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2117"/>
<target ref="id2114"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2115"/>
<target ref="id2108"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2115"/>
<target ref="id2123"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2117"/>
<target ref="id2117"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2109"/>
<target ref="id2118"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2116"/>
<target ref="id2106"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2109"/>
<target ref="id2116"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2119"/>
<target ref="id2119"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2114"/>
<target ref="id2113"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2114"/>
<target ref="id2111"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2118"/>
<target ref="id2117"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2119"/>
<target ref="id2109"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2120"/>
<target ref="id2119"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2121"/>
<target ref="id2120"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2121"/>
<target ref="id2115"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2122"/>
<target ref="id2121"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2123"/>
<target ref="id2122"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process118</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2124" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2125" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2126" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2127" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2128" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2129" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2130" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2131" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2132" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2133" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2134" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2135" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2136" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2137" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2138" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2139" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2140" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2141" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2128"/>
<transition>
<source ref="id2124"/>
<target ref="id2129"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2125"/>
<target ref="id2126"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2125"/>
<target ref="id2130"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2128"/>
<target ref="id2130"/>
</transition>
<transition>
<source ref="id2129"/>
<target ref="id2125"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2130"/>
<target ref="id2141"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2139"/>
<target ref="id2139"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2135"/>
<target ref="id2132"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2133"/>
<target ref="id2126"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2133"/>
<target ref="id2141"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2135"/>
<target ref="id2135"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2127"/>
<target ref="id2136"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2134"/>
<target ref="id2124"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2127"/>
<target ref="id2134"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2137"/>
<target ref="id2137"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2132"/>
<target ref="id2131"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2132"/>
<target ref="id2129"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2136"/>
<target ref="id2135"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2137"/>
<target ref="id2127"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2138"/>
<target ref="id2137"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2139"/>
<target ref="id2138"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2139"/>
<target ref="id2133"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2140"/>
<target ref="id2139"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2141"/>
<target ref="id2140"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process119</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2142" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2143" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2144" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2145" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2146" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2147" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2148" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2149" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2150" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2151" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2152" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2153" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2154" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2155" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2156" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2157" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2158" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2159" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2146"/>
<transition>
<source ref="id2142"/>
<target ref="id2147"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2143"/>
<target ref="id2144"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2143"/>
<target ref="id2148"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2146"/>
<target ref="id2148"/>
</transition>
<transition>
<source ref="id2147"/>
<target ref="id2143"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2148"/>
<target ref="id2159"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2157"/>
<target ref="id2157"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2153"/>
<target ref="id2150"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2151"/>
<target ref="id2144"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2151"/>
<target ref="id2159"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2153"/>
<target ref="id2153"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2145"/>
<target ref="id2154"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2152"/>
<target ref="id2142"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2145"/>
<target ref="id2152"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2155"/>
<target ref="id2155"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2150"/>
<target ref="id2149"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2150"/>
<target ref="id2147"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2154"/>
<target ref="id2153"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2155"/>
<target ref="id2145"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2156"/>
<target ref="id2155"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2157"/>
<target ref="id2156"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2157"/>
<target ref="id2151"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2158"/>
<target ref="id2157"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2159"/>
<target ref="id2158"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process120</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2160" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2161" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2162" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2163" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2164" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2165" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2166" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2167" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2168" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2169" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2170" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2171" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2172" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2173" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2174" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2175" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2176" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2177" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2164"/>
<transition>
<source ref="id2160"/>
<target ref="id2165"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2161"/>
<target ref="id2162"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2161"/>
<target ref="id2166"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2164"/>
<target ref="id2166"/>
</transition>
<transition>
<source ref="id2165"/>
<target ref="id2161"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2166"/>
<target ref="id2177"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2175"/>
<target ref="id2175"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2171"/>
<target ref="id2168"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2169"/>
<target ref="id2162"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2169"/>
<target ref="id2177"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2171"/>
<target ref="id2171"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2163"/>
<target ref="id2172"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2170"/>
<target ref="id2160"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2163"/>
<target ref="id2170"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2173"/>
<target ref="id2173"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2168"/>
<target ref="id2167"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2168"/>
<target ref="id2165"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2172"/>
<target ref="id2171"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2173"/>
<target ref="id2163"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2174"/>
<target ref="id2173"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2175"/>
<target ref="id2174"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2175"/>
<target ref="id2169"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2176"/>
<target ref="id2175"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2177"/>
<target ref="id2176"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process121</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2178" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2179" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2180" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2181" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2182" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2183" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2184" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2185" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2186" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2187" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2188" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2189" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2190" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2191" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2192" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2193" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2194" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2195" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2182"/>
<transition>
<source ref="id2178"/>
<target ref="id2183"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2179"/>
<target ref="id2180"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2179"/>
<target ref="id2184"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2182"/>
<target ref="id2184"/>
</transition>
<transition>
<source ref="id2183"/>
<target ref="id2179"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2184"/>
<target ref="id2195"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2193"/>
<target ref="id2193"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2189"/>
<target ref="id2186"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2187"/>
<target ref="id2180"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2187"/>
<target ref="id2195"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2189"/>
<target ref="id2189"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2181"/>
<target ref="id2190"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2188"/>
<target ref="id2178"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2181"/>
<target ref="id2188"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2191"/>
<target ref="id2191"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2186"/>
<target ref="id2185"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2186"/>
<target ref="id2183"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2190"/>
<target ref="id2189"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2191"/>
<target ref="id2181"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2192"/>
<target ref="id2191"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2193"/>
<target ref="id2192"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2193"/>
<target ref="id2187"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2194"/>
<target ref="id2193"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2195"/>
<target ref="id2194"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process122</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2196" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2197" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2198" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2199" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2200" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2201" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2202" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2203" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2204" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2205" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2206" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2207" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2208" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2209" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2210" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2211" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2212" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2213" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2200"/>
<transition>
<source ref="id2196"/>
<target ref="id2201"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2197"/>
<target ref="id2198"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2197"/>
<target ref="id2202"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2200"/>
<target ref="id2202"/>
</transition>
<transition>
<source ref="id2201"/>
<target ref="id2197"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2202"/>
<target ref="id2213"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2211"/>
<target ref="id2211"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2207"/>
<target ref="id2204"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2205"/>
<target ref="id2198"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2205"/>
<target ref="id2213"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2207"/>
<target ref="id2207"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2199"/>
<target ref="id2208"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2206"/>
<target ref="id2196"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2199"/>
<target ref="id2206"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2209"/>
<target ref="id2209"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2204"/>
<target ref="id2203"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2204"/>
<target ref="id2201"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2208"/>
<target ref="id2207"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2209"/>
<target ref="id2199"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2210"/>
<target ref="id2209"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2211"/>
<target ref="id2210"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2211"/>
<target ref="id2205"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2212"/>
<target ref="id2211"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2213"/>
<target ref="id2212"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process123</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2214" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2215" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2216" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2217" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2218" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2219" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2220" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2221" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2222" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2223" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2224" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2225" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2226" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2227" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2228" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2229" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2230" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2231" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2218"/>
<transition>
<source ref="id2214"/>
<target ref="id2219"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2215"/>
<target ref="id2216"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2215"/>
<target ref="id2220"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2218"/>
<target ref="id2220"/>
</transition>
<transition>
<source ref="id2219"/>
<target ref="id2215"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2220"/>
<target ref="id2231"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2229"/>
<target ref="id2229"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2225"/>
<target ref="id2222"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2223"/>
<target ref="id2216"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2223"/>
<target ref="id2231"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2225"/>
<target ref="id2225"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2217"/>
<target ref="id2226"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2224"/>
<target ref="id2214"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2217"/>
<target ref="id2224"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2227"/>
<target ref="id2227"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2222"/>
<target ref="id2221"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2222"/>
<target ref="id2219"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2226"/>
<target ref="id2225"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2227"/>
<target ref="id2217"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2228"/>
<target ref="id2227"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2229"/>
<target ref="id2228"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2229"/>
<target ref="id2223"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2230"/>
<target ref="id2229"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2231"/>
<target ref="id2230"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process124</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2232" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2233" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2234" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2235" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2236" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2237" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2238" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2239" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2240" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2241" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2242" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2243" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2244" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2245" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2246" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2247" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2248" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2249" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2236"/>
<transition>
<source ref="id2232"/>
<target ref="id2237"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2233"/>
<target ref="id2234"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2233"/>
<target ref="id2238"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2236"/>
<target ref="id2238"/>
</transition>
<transition>
<source ref="id2237"/>
<target ref="id2233"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2238"/>
<target ref="id2249"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2247"/>
<target ref="id2247"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2243"/>
<target ref="id2240"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2241"/>
<target ref="id2234"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2241"/>
<target ref="id2249"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2243"/>
<target ref="id2243"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2235"/>
<target ref="id2244"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2242"/>
<target ref="id2232"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2235"/>
<target ref="id2242"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2245"/>
<target ref="id2245"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2240"/>
<target ref="id2239"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2240"/>
<target ref="id2237"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2244"/>
<target ref="id2243"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2245"/>
<target ref="id2235"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2246"/>
<target ref="id2245"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2247"/>
<target ref="id2246"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2247"/>
<target ref="id2241"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2248"/>
<target ref="id2247"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2249"/>
<target ref="id2248"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process125</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2250" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2251" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2252" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2253" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2254" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2255" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2256" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2257" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2258" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2259" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2260" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2261" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2262" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2263" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2264" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2265" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2266" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2267" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2254"/>
<transition>
<source ref="id2250"/>
<target ref="id2255"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2251"/>
<target ref="id2252"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2251"/>
<target ref="id2256"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2254"/>
<target ref="id2256"/>
</transition>
<transition>
<source ref="id2255"/>
<target ref="id2251"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2256"/>
<target ref="id2267"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2265"/>
<target ref="id2265"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2261"/>
<target ref="id2258"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2259"/>
<target ref="id2252"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2259"/>
<target ref="id2267"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2261"/>
<target ref="id2261"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2253"/>
<target ref="id2262"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2260"/>
<target ref="id2250"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2253"/>
<target ref="id2260"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2263"/>
<target ref="id2263"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2258"/>
<target ref="id2257"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2258"/>
<target ref="id2255"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2262"/>
<target ref="id2261"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2263"/>
<target ref="id2253"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2264"/>
<target ref="id2263"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2265"/>
<target ref="id2264"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2265"/>
<target ref="id2259"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2266"/>
<target ref="id2265"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2267"/>
<target ref="id2266"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process126</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2268" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2269" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2270" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2271" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2272" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2273" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2274" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2275" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2276" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2277" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2278" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2279" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2280" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2281" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2282" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2283" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2284" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2285" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2272"/>
<transition>
<source ref="id2268"/>
<target ref="id2273"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2269"/>
<target ref="id2270"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2269"/>
<target ref="id2274"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2272"/>
<target ref="id2274"/>
</transition>
<transition>
<source ref="id2273"/>
<target ref="id2269"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2274"/>
<target ref="id2285"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2283"/>
<target ref="id2283"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2279"/>
<target ref="id2276"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2277"/>
<target ref="id2270"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2277"/>
<target ref="id2285"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2279"/>
<target ref="id2279"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2271"/>
<target ref="id2280"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2278"/>
<target ref="id2268"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2271"/>
<target ref="id2278"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2281"/>
<target ref="id2281"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2276"/>
<target ref="id2275"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2276"/>
<target ref="id2273"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2280"/>
<target ref="id2279"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2281"/>
<target ref="id2271"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2282"/>
<target ref="id2281"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2283"/>
<target ref="id2282"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2283"/>
<target ref="id2277"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2284"/>
<target ref="id2283"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2285"/>
<target ref="id2284"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process127</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2286" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2287" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2288" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2289" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2290" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2291" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2292" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2293" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2294" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2295" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2296" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2297" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2298" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2299" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2300" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2301" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2302" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2303" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2290"/>
<transition>
<source ref="id2286"/>
<target ref="id2291"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2287"/>
<target ref="id2288"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2287"/>
<target ref="id2292"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2290"/>
<target ref="id2292"/>
</transition>
<transition>
<source ref="id2291"/>
<target ref="id2287"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2292"/>
<target ref="id2303"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2301"/>
<target ref="id2301"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2297"/>
<target ref="id2294"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2295"/>
<target ref="id2288"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2295"/>
<target ref="id2303"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2297"/>
<target ref="id2297"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2289"/>
<target ref="id2298"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2296"/>
<target ref="id2286"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2289"/>
<target ref="id2296"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2299"/>
<target ref="id2299"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2294"/>
<target ref="id2293"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2294"/>
<target ref="id2291"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2298"/>
<target ref="id2297"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2299"/>
<target ref="id2289"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2300"/>
<target ref="id2299"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2301"/>
<target ref="id2300"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2301"/>
<target ref="id2295"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2302"/>
<target ref="id2301"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2303"/>
<target ref="id2302"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process128</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2304" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2305" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2306" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2307" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2308" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2309" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2310" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2311" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2312" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2313" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2314" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2315" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2316" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2317" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2318" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2319" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2320" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2321" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2308"/>
<transition>
<source ref="id2304"/>
<target ref="id2309"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2305"/>
<target ref="id2306"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2305"/>
<target ref="id2310"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2308"/>
<target ref="id2310"/>
</transition>
<transition>
<source ref="id2309"/>
<target ref="id2305"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2310"/>
<target ref="id2321"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2319"/>
<target ref="id2319"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2315"/>
<target ref="id2312"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2313"/>
<target ref="id2306"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2313"/>
<target ref="id2321"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2315"/>
<target ref="id2315"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2307"/>
<target ref="id2316"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2314"/>
<target ref="id2304"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2307"/>
<target ref="id2314"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2317"/>
<target ref="id2317"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2312"/>
<target ref="id2311"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2312"/>
<target ref="id2309"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2316"/>
<target ref="id2315"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2317"/>
<target ref="id2307"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2318"/>
<target ref="id2317"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2319"/>
<target ref="id2318"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2319"/>
<target ref="id2313"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2320"/>
<target ref="id2319"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2321"/>
<target ref="id2320"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process129</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2322" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2323" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2324" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2325" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2326" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2327" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2328" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2329" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2330" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2331" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2332" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2333" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2334" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2335" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2336" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2337" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2338" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2339" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2326"/>
<transition>
<source ref="id2322"/>
<target ref="id2327"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2323"/>
<target ref="id2324"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2323"/>
<target ref="id2328"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2326"/>
<target ref="id2328"/>
</transition>
<transition>
<source ref="id2327"/>
<target ref="id2323"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2328"/>
<target ref="id2339"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2337"/>
<target ref="id2337"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2333"/>
<target ref="id2330"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2331"/>
<target ref="id2324"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2331"/>
<target ref="id2339"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2333"/>
<target ref="id2333"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2325"/>
<target ref="id2334"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2332"/>
<target ref="id2322"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2325"/>
<target ref="id2332"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2335"/>
<target ref="id2335"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2330"/>
<target ref="id2329"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2330"/>
<target ref="id2327"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2334"/>
<target ref="id2333"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2335"/>
<target ref="id2325"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2336"/>
<target ref="id2335"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2337"/>
<target ref="id2336"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2337"/>
<target ref="id2331"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2338"/>
<target ref="id2337"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2339"/>
<target ref="id2338"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process130</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2340" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2341" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2342" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2343" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2344" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2345" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2346" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2347" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2348" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2349" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2350" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2351" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2352" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2353" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2354" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2355" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2356" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2357" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2344"/>
<transition>
<source ref="id2340"/>
<target ref="id2345"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2341"/>
<target ref="id2342"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2341"/>
<target ref="id2346"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2344"/>
<target ref="id2346"/>
</transition>
<transition>
<source ref="id2345"/>
<target ref="id2341"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2346"/>
<target ref="id2357"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2355"/>
<target ref="id2355"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2351"/>
<target ref="id2348"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2349"/>
<target ref="id2342"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2349"/>
<target ref="id2357"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2351"/>
<target ref="id2351"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2343"/>
<target ref="id2352"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2350"/>
<target ref="id2340"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2343"/>
<target ref="id2350"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2353"/>
<target ref="id2353"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2348"/>
<target ref="id2347"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2348"/>
<target ref="id2345"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2352"/>
<target ref="id2351"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2353"/>
<target ref="id2343"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2354"/>
<target ref="id2353"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2355"/>
<target ref="id2354"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2355"/>
<target ref="id2349"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2356"/>
<target ref="id2355"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2357"/>
<target ref="id2356"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process131</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2358" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2359" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2360" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2361" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2362" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2363" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2364" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2365" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2366" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2367" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2368" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2369" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2370" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2371" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2372" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2373" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2374" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2375" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2362"/>
<transition>
<source ref="id2358"/>
<target ref="id2363"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2359"/>
<target ref="id2360"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2359"/>
<target ref="id2364"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2362"/>
<target ref="id2364"/>
</transition>
<transition>
<source ref="id2363"/>
<target ref="id2359"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2364"/>
<target ref="id2375"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2373"/>
<target ref="id2373"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2369"/>
<target ref="id2366"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2367"/>
<target ref="id2360"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2367"/>
<target ref="id2375"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2369"/>
<target ref="id2369"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2361"/>
<target ref="id2370"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2368"/>
<target ref="id2358"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2361"/>
<target ref="id2368"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2371"/>
<target ref="id2371"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2366"/>
<target ref="id2365"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2366"/>
<target ref="id2363"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2370"/>
<target ref="id2369"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2371"/>
<target ref="id2361"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2372"/>
<target ref="id2371"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2373"/>
<target ref="id2372"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2373"/>
<target ref="id2367"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2374"/>
<target ref="id2373"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2375"/>
<target ref="id2374"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process132</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2376" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2377" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2378" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2379" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2380" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2381" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2382" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2383" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2384" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2385" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2386" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2387" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2388" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2389" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2390" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2391" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2392" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2393" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2380"/>
<transition>
<source ref="id2376"/>
<target ref="id2381"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2377"/>
<target ref="id2378"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2377"/>
<target ref="id2382"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2380"/>
<target ref="id2382"/>
</transition>
<transition>
<source ref="id2381"/>
<target ref="id2377"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2382"/>
<target ref="id2393"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2391"/>
<target ref="id2391"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2387"/>
<target ref="id2384"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2385"/>
<target ref="id2378"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2385"/>
<target ref="id2393"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2387"/>
<target ref="id2387"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2379"/>
<target ref="id2388"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2386"/>
<target ref="id2376"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2379"/>
<target ref="id2386"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2389"/>
<target ref="id2389"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2384"/>
<target ref="id2383"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2384"/>
<target ref="id2381"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2388"/>
<target ref="id2387"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2389"/>
<target ref="id2379"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2390"/>
<target ref="id2389"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2391"/>
<target ref="id2390"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2391"/>
<target ref="id2385"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2392"/>
<target ref="id2391"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2393"/>
<target ref="id2392"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process133</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2394" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2395" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2396" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2397" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2398" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2399" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2400" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2401" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2402" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2403" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2404" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2405" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2406" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2407" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2408" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2409" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2410" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2411" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2398"/>
<transition>
<source ref="id2394"/>
<target ref="id2399"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2395"/>
<target ref="id2396"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2395"/>
<target ref="id2400"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2398"/>
<target ref="id2400"/>
</transition>
<transition>
<source ref="id2399"/>
<target ref="id2395"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2400"/>
<target ref="id2411"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2409"/>
<target ref="id2409"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2405"/>
<target ref="id2402"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2403"/>
<target ref="id2396"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2403"/>
<target ref="id2411"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2405"/>
<target ref="id2405"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2397"/>
<target ref="id2406"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2404"/>
<target ref="id2394"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2397"/>
<target ref="id2404"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2407"/>
<target ref="id2407"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2402"/>
<target ref="id2401"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2402"/>
<target ref="id2399"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2406"/>
<target ref="id2405"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2407"/>
<target ref="id2397"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2408"/>
<target ref="id2407"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2409"/>
<target ref="id2408"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2409"/>
<target ref="id2403"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2410"/>
<target ref="id2409"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2411"/>
<target ref="id2410"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process134</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2412" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2413" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2414" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2415" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2416" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2417" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2418" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2419" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2420" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2421" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2422" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2423" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2424" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2425" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2426" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2427" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2428" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2429" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2416"/>
<transition>
<source ref="id2412"/>
<target ref="id2417"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2413"/>
<target ref="id2414"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2413"/>
<target ref="id2418"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2416"/>
<target ref="id2418"/>
</transition>
<transition>
<source ref="id2417"/>
<target ref="id2413"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2418"/>
<target ref="id2429"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2427"/>
<target ref="id2427"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2423"/>
<target ref="id2420"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2421"/>
<target ref="id2414"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2421"/>
<target ref="id2429"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2423"/>
<target ref="id2423"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2415"/>
<target ref="id2424"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2422"/>
<target ref="id2412"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2415"/>
<target ref="id2422"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2425"/>
<target ref="id2425"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2420"/>
<target ref="id2419"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2420"/>
<target ref="id2417"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2424"/>
<target ref="id2423"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2425"/>
<target ref="id2415"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2426"/>
<target ref="id2425"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2427"/>
<target ref="id2426"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2427"/>
<target ref="id2421"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2428"/>
<target ref="id2427"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2429"/>
<target ref="id2428"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process135</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2430" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2431" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2432" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2433" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2434" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2435" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2436" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2437" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2438" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2439" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2440" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2441" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2442" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2443" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2444" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2445" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2446" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2447" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2434"/>
<transition>
<source ref="id2430"/>
<target ref="id2435"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2431"/>
<target ref="id2432"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2431"/>
<target ref="id2436"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2434"/>
<target ref="id2436"/>
</transition>
<transition>
<source ref="id2435"/>
<target ref="id2431"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2436"/>
<target ref="id2447"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2445"/>
<target ref="id2445"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2441"/>
<target ref="id2438"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2439"/>
<target ref="id2432"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2439"/>
<target ref="id2447"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2441"/>
<target ref="id2441"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2433"/>
<target ref="id2442"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2440"/>
<target ref="id2430"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2433"/>
<target ref="id2440"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2443"/>
<target ref="id2443"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2438"/>
<target ref="id2437"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2438"/>
<target ref="id2435"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2442"/>
<target ref="id2441"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2443"/>
<target ref="id2433"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2444"/>
<target ref="id2443"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2445"/>
<target ref="id2444"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2445"/>
<target ref="id2439"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2446"/>
<target ref="id2445"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2447"/>
<target ref="id2446"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process136</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2448" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2449" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2450" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2451" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2452" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2453" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2454" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2455" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2456" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2457" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2458" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2459" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2460" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2461" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2462" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2463" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2464" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2465" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2452"/>
<transition>
<source ref="id2448"/>
<target ref="id2453"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2449"/>
<target ref="id2450"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2449"/>
<target ref="id2454"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2452"/>
<target ref="id2454"/>
</transition>
<transition>
<source ref="id2453"/>
<target ref="id2449"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2454"/>
<target ref="id2465"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2463"/>
<target ref="id2463"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2459"/>
<target ref="id2456"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2457"/>
<target ref="id2450"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2457"/>
<target ref="id2465"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2459"/>
<target ref="id2459"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2451"/>
<target ref="id2460"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2458"/>
<target ref="id2448"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2451"/>
<target ref="id2458"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2461"/>
<target ref="id2461"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2456"/>
<target ref="id2455"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2456"/>
<target ref="id2453"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2460"/>
<target ref="id2459"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2461"/>
<target ref="id2451"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2462"/>
<target ref="id2461"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2463"/>
<target ref="id2462"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2463"/>
<target ref="id2457"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2464"/>
<target ref="id2463"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2465"/>
<target ref="id2464"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process137</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2466" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2467" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2468" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2469" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2470" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2471" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2472" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2473" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2474" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2475" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2476" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2477" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2478" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2479" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2480" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2481" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2482" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2483" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2470"/>
<transition>
<source ref="id2466"/>
<target ref="id2471"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2467"/>
<target ref="id2468"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2467"/>
<target ref="id2472"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2470"/>
<target ref="id2472"/>
</transition>
<transition>
<source ref="id2471"/>
<target ref="id2467"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2472"/>
<target ref="id2483"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2481"/>
<target ref="id2481"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2477"/>
<target ref="id2474"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2475"/>
<target ref="id2468"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2475"/>
<target ref="id2483"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2477"/>
<target ref="id2477"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2469"/>
<target ref="id2478"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2476"/>
<target ref="id2466"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2469"/>
<target ref="id2476"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2479"/>
<target ref="id2479"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2474"/>
<target ref="id2473"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2474"/>
<target ref="id2471"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2478"/>
<target ref="id2477"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2479"/>
<target ref="id2469"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2480"/>
<target ref="id2479"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2481"/>
<target ref="id2480"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2481"/>
<target ref="id2475"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2482"/>
<target ref="id2481"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2483"/>
<target ref="id2482"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process138</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2484" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2485" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2486" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2487" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2488" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2489" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2490" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2491" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2492" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2493" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2494" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2495" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2496" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2497" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2498" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2499" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2500" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2501" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2488"/>
<transition>
<source ref="id2484"/>
<target ref="id2489"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2485"/>
<target ref="id2486"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2485"/>
<target ref="id2490"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2488"/>
<target ref="id2490"/>
</transition>
<transition>
<source ref="id2489"/>
<target ref="id2485"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2490"/>
<target ref="id2501"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2499"/>
<target ref="id2499"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2495"/>
<target ref="id2492"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2493"/>
<target ref="id2486"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2493"/>
<target ref="id2501"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2495"/>
<target ref="id2495"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2487"/>
<target ref="id2496"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2494"/>
<target ref="id2484"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2487"/>
<target ref="id2494"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2497"/>
<target ref="id2497"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2492"/>
<target ref="id2491"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2492"/>
<target ref="id2489"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2496"/>
<target ref="id2495"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2497"/>
<target ref="id2487"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2498"/>
<target ref="id2497"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2499"/>
<target ref="id2498"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2499"/>
<target ref="id2493"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2500"/>
<target ref="id2499"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2501"/>
<target ref="id2500"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process139</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2502" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2503" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2504" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2505" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2506" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2507" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2508" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2509" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2510" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2511" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2512" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2513" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2514" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2515" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2516" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2517" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2518" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2519" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2506"/>
<transition>
<source ref="id2502"/>
<target ref="id2507"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2503"/>
<target ref="id2504"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2503"/>
<target ref="id2508"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2506"/>
<target ref="id2508"/>
</transition>
<transition>
<source ref="id2507"/>
<target ref="id2503"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2508"/>
<target ref="id2519"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2517"/>
<target ref="id2517"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2513"/>
<target ref="id2510"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2511"/>
<target ref="id2504"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2511"/>
<target ref="id2519"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2513"/>
<target ref="id2513"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2505"/>
<target ref="id2514"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2512"/>
<target ref="id2502"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2505"/>
<target ref="id2512"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2515"/>
<target ref="id2515"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2510"/>
<target ref="id2509"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2510"/>
<target ref="id2507"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2514"/>
<target ref="id2513"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2515"/>
<target ref="id2505"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2516"/>
<target ref="id2515"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2517"/>
<target ref="id2516"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2517"/>
<target ref="id2511"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2518"/>
<target ref="id2517"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2519"/>
<target ref="id2518"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process140</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2520" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2521" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2522" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2523" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2524" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2525" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2526" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2527" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2528" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2529" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2530" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2531" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2532" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2533" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2534" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2535" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2536" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2537" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2524"/>
<transition>
<source ref="id2520"/>
<target ref="id2525"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2521"/>
<target ref="id2522"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2521"/>
<target ref="id2526"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2524"/>
<target ref="id2526"/>
</transition>
<transition>
<source ref="id2525"/>
<target ref="id2521"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2526"/>
<target ref="id2537"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2535"/>
<target ref="id2535"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2531"/>
<target ref="id2528"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2529"/>
<target ref="id2522"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2529"/>
<target ref="id2537"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2531"/>
<target ref="id2531"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2523"/>
<target ref="id2532"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2530"/>
<target ref="id2520"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2523"/>
<target ref="id2530"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2533"/>
<target ref="id2533"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2528"/>
<target ref="id2527"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2528"/>
<target ref="id2525"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2532"/>
<target ref="id2531"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2533"/>
<target ref="id2523"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2534"/>
<target ref="id2533"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2535"/>
<target ref="id2534"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2535"/>
<target ref="id2529"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2536"/>
<target ref="id2535"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2537"/>
<target ref="id2536"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process141</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2538" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2539" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2540" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2541" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2542" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2543" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2544" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2545" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2546" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2547" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2548" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2549" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2550" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2551" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2552" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2553" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2554" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2555" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2542"/>
<transition>
<source ref="id2538"/>
<target ref="id2543"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2539"/>
<target ref="id2540"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2539"/>
<target ref="id2544"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2542"/>
<target ref="id2544"/>
</transition>
<transition>
<source ref="id2543"/>
<target ref="id2539"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2544"/>
<target ref="id2555"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2553"/>
<target ref="id2553"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2549"/>
<target ref="id2546"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2547"/>
<target ref="id2540"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2547"/>
<target ref="id2555"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2549"/>
<target ref="id2549"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2541"/>
<target ref="id2550"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2548"/>
<target ref="id2538"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2541"/>
<target ref="id2548"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2551"/>
<target ref="id2551"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2546"/>
<target ref="id2545"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2546"/>
<target ref="id2543"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2550"/>
<target ref="id2549"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2551"/>
<target ref="id2541"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2552"/>
<target ref="id2551"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2553"/>
<target ref="id2552"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2553"/>
<target ref="id2547"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2554"/>
<target ref="id2553"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2555"/>
<target ref="id2554"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process142</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2556" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2557" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2558" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2559" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2560" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2561" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2562" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2563" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2564" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2565" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2566" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2567" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2568" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2569" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2570" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2571" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2572" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2573" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2560"/>
<transition>
<source ref="id2556"/>
<target ref="id2561"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2557"/>
<target ref="id2558"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2557"/>
<target ref="id2562"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2560"/>
<target ref="id2562"/>
</transition>
<transition>
<source ref="id2561"/>
<target ref="id2557"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2562"/>
<target ref="id2573"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2571"/>
<target ref="id2571"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2567"/>
<target ref="id2564"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2565"/>
<target ref="id2558"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2565"/>
<target ref="id2573"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2567"/>
<target ref="id2567"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2559"/>
<target ref="id2568"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2566"/>
<target ref="id2556"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2559"/>
<target ref="id2566"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2569"/>
<target ref="id2569"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2564"/>
<target ref="id2563"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2564"/>
<target ref="id2561"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2568"/>
<target ref="id2567"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2569"/>
<target ref="id2559"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2570"/>
<target ref="id2569"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2571"/>
<target ref="id2570"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2571"/>
<target ref="id2565"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2572"/>
<target ref="id2571"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2573"/>
<target ref="id2572"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process143</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2574" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2575" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2576" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2577" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2578" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2579" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2580" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2581" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2582" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2583" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2584" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2585" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2586" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2587" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2588" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2589" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2590" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2591" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2578"/>
<transition>
<source ref="id2574"/>
<target ref="id2579"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2575"/>
<target ref="id2576"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2575"/>
<target ref="id2580"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2578"/>
<target ref="id2580"/>
</transition>
<transition>
<source ref="id2579"/>
<target ref="id2575"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2580"/>
<target ref="id2591"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2589"/>
<target ref="id2589"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2585"/>
<target ref="id2582"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2583"/>
<target ref="id2576"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2583"/>
<target ref="id2591"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2585"/>
<target ref="id2585"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2577"/>
<target ref="id2586"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2584"/>
<target ref="id2574"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2577"/>
<target ref="id2584"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2587"/>
<target ref="id2587"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2582"/>
<target ref="id2581"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2582"/>
<target ref="id2579"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2586"/>
<target ref="id2585"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2587"/>
<target ref="id2577"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2588"/>
<target ref="id2587"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2589"/>
<target ref="id2588"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2589"/>
<target ref="id2583"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2590"/>
<target ref="id2589"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2591"/>
<target ref="id2590"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process144</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2592" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2593" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2594" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2595" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2596" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2597" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2598" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2599" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2600" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2601" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2602" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2603" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2604" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2605" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2606" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2607" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2608" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2609" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2596"/>
<transition>
<source ref="id2592"/>
<target ref="id2597"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2593"/>
<target ref="id2594"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2593"/>
<target ref="id2598"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2596"/>
<target ref="id2598"/>
</transition>
<transition>
<source ref="id2597"/>
<target ref="id2593"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2598"/>
<target ref="id2609"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2607"/>
<target ref="id2607"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2603"/>
<target ref="id2600"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2601"/>
<target ref="id2594"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2601"/>
<target ref="id2609"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2603"/>
<target ref="id2603"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2595"/>
<target ref="id2604"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2602"/>
<target ref="id2592"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2595"/>
<target ref="id2602"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2605"/>
<target ref="id2605"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2600"/>
<target ref="id2599"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2600"/>
<target ref="id2597"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2604"/>
<target ref="id2603"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2605"/>
<target ref="id2595"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2606"/>
<target ref="id2605"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2607"/>
<target ref="id2606"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2607"/>
<target ref="id2601"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2608"/>
<target ref="id2607"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2609"/>
<target ref="id2608"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process145</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2610" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2611" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2612" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2613" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2614" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2615" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2616" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2617" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2618" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2619" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2620" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2621" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2622" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2623" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2624" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2625" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2626" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2627" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2614"/>
<transition>
<source ref="id2610"/>
<target ref="id2615"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2611"/>
<target ref="id2612"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2611"/>
<target ref="id2616"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2614"/>
<target ref="id2616"/>
</transition>
<transition>
<source ref="id2615"/>
<target ref="id2611"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2616"/>
<target ref="id2627"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2625"/>
<target ref="id2625"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2621"/>
<target ref="id2618"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2619"/>
<target ref="id2612"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2619"/>
<target ref="id2627"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2621"/>
<target ref="id2621"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2613"/>
<target ref="id2622"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2620"/>
<target ref="id2610"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2613"/>
<target ref="id2620"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2623"/>
<target ref="id2623"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2618"/>
<target ref="id2617"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2618"/>
<target ref="id2615"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2622"/>
<target ref="id2621"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2623"/>
<target ref="id2613"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2624"/>
<target ref="id2623"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2625"/>
<target ref="id2624"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2625"/>
<target ref="id2619"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2626"/>
<target ref="id2625"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2627"/>
<target ref="id2626"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process146</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2628" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2629" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2630" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2631" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2632" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2633" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2634" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2635" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2636" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2637" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2638" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2639" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2640" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2641" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2642" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2643" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2644" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2645" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2632"/>
<transition>
<source ref="id2628"/>
<target ref="id2633"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2629"/>
<target ref="id2630"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2629"/>
<target ref="id2634"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2632"/>
<target ref="id2634"/>
</transition>
<transition>
<source ref="id2633"/>
<target ref="id2629"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2634"/>
<target ref="id2645"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2643"/>
<target ref="id2643"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2639"/>
<target ref="id2636"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2637"/>
<target ref="id2630"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2637"/>
<target ref="id2645"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2639"/>
<target ref="id2639"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2631"/>
<target ref="id2640"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2638"/>
<target ref="id2628"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2631"/>
<target ref="id2638"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2641"/>
<target ref="id2641"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2636"/>
<target ref="id2635"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2636"/>
<target ref="id2633"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2640"/>
<target ref="id2639"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2641"/>
<target ref="id2631"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2642"/>
<target ref="id2641"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2643"/>
<target ref="id2642"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2643"/>
<target ref="id2637"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2644"/>
<target ref="id2643"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2645"/>
<target ref="id2644"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process147</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2646" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2647" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2648" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2649" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2650" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2651" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2652" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2653" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2654" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2655" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2656" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2657" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2658" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2659" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2660" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2661" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2662" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2663" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2650"/>
<transition>
<source ref="id2646"/>
<target ref="id2651"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2647"/>
<target ref="id2648"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2647"/>
<target ref="id2652"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2650"/>
<target ref="id2652"/>
</transition>
<transition>
<source ref="id2651"/>
<target ref="id2647"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2652"/>
<target ref="id2663"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2661"/>
<target ref="id2661"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2657"/>
<target ref="id2654"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2655"/>
<target ref="id2648"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2655"/>
<target ref="id2663"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2657"/>
<target ref="id2657"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2649"/>
<target ref="id2658"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2656"/>
<target ref="id2646"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2649"/>
<target ref="id2656"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2659"/>
<target ref="id2659"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2654"/>
<target ref="id2653"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2654"/>
<target ref="id2651"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2658"/>
<target ref="id2657"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2659"/>
<target ref="id2649"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2660"/>
<target ref="id2659"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2661"/>
<target ref="id2660"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2661"/>
<target ref="id2655"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2662"/>
<target ref="id2661"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2663"/>
<target ref="id2662"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process148</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2664" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2665" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2666" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2667" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2668" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2669" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2670" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2671" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2672" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2673" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2674" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2675" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2676" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2677" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2678" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2679" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2680" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2681" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2668"/>
<transition>
<source ref="id2664"/>
<target ref="id2669"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2665"/>
<target ref="id2666"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2665"/>
<target ref="id2670"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2668"/>
<target ref="id2670"/>
</transition>
<transition>
<source ref="id2669"/>
<target ref="id2665"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2670"/>
<target ref="id2681"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2679"/>
<target ref="id2679"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2675"/>
<target ref="id2672"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2673"/>
<target ref="id2666"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2673"/>
<target ref="id2681"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2675"/>
<target ref="id2675"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2667"/>
<target ref="id2676"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2674"/>
<target ref="id2664"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2667"/>
<target ref="id2674"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2677"/>
<target ref="id2677"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2672"/>
<target ref="id2671"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2672"/>
<target ref="id2669"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2676"/>
<target ref="id2675"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2677"/>
<target ref="id2667"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2678"/>
<target ref="id2677"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2679"/>
<target ref="id2678"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2679"/>
<target ref="id2673"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2680"/>
<target ref="id2679"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2681"/>
<target ref="id2680"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process149</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2682" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2683" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2684" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2685" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2686" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2687" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2688" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2689" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2690" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2691" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2692" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2693" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2694" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2695" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2696" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2697" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2698" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2699" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2686"/>
<transition>
<source ref="id2682"/>
<target ref="id2687"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2683"/>
<target ref="id2684"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2683"/>
<target ref="id2688"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2686"/>
<target ref="id2688"/>
</transition>
<transition>
<source ref="id2687"/>
<target ref="id2683"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2688"/>
<target ref="id2699"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2697"/>
<target ref="id2697"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2693"/>
<target ref="id2690"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2691"/>
<target ref="id2684"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2691"/>
<target ref="id2699"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2693"/>
<target ref="id2693"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2685"/>
<target ref="id2694"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2692"/>
<target ref="id2682"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2685"/>
<target ref="id2692"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2695"/>
<target ref="id2695"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2690"/>
<target ref="id2689"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2690"/>
<target ref="id2687"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2694"/>
<target ref="id2693"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2695"/>
<target ref="id2685"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2696"/>
<target ref="id2695"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2697"/>
<target ref="id2696"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2697"/>
<target ref="id2691"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2698"/>
<target ref="id2697"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2699"/>
<target ref="id2698"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process150</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2700" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2701" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2702" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2703" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2704" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2705" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2706" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2707" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2708" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2709" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2710" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2711" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2712" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2713" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2714" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2715" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2716" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2717" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2704"/>
<transition>
<source ref="id2700"/>
<target ref="id2705"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2701"/>
<target ref="id2702"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2701"/>
<target ref="id2706"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2704"/>
<target ref="id2706"/>
</transition>
<transition>
<source ref="id2705"/>
<target ref="id2701"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2706"/>
<target ref="id2717"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2715"/>
<target ref="id2715"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2711"/>
<target ref="id2708"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2709"/>
<target ref="id2702"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2709"/>
<target ref="id2717"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2711"/>
<target ref="id2711"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2703"/>
<target ref="id2712"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2710"/>
<target ref="id2700"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2703"/>
<target ref="id2710"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2713"/>
<target ref="id2713"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2708"/>
<target ref="id2707"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2708"/>
<target ref="id2705"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2712"/>
<target ref="id2711"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2713"/>
<target ref="id2703"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2714"/>
<target ref="id2713"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2715"/>
<target ref="id2714"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2715"/>
<target ref="id2709"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2716"/>
<target ref="id2715"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2717"/>
<target ref="id2716"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process151</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2718" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2719" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2720" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2721" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2722" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2723" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2724" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2725" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2726" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2727" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2728" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2729" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2730" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2731" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2732" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2733" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2734" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2735" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2722"/>
<transition>
<source ref="id2718"/>
<target ref="id2723"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2719"/>
<target ref="id2720"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2719"/>
<target ref="id2724"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2722"/>
<target ref="id2724"/>
</transition>
<transition>
<source ref="id2723"/>
<target ref="id2719"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2724"/>
<target ref="id2735"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2733"/>
<target ref="id2733"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2729"/>
<target ref="id2726"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2727"/>
<target ref="id2720"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2727"/>
<target ref="id2735"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2729"/>
<target ref="id2729"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2721"/>
<target ref="id2730"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2728"/>
<target ref="id2718"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2721"/>
<target ref="id2728"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2731"/>
<target ref="id2731"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2726"/>
<target ref="id2725"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2726"/>
<target ref="id2723"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2730"/>
<target ref="id2729"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2731"/>
<target ref="id2721"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2732"/>
<target ref="id2731"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2733"/>
<target ref="id2732"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2733"/>
<target ref="id2727"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2734"/>
<target ref="id2733"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2735"/>
<target ref="id2734"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process152</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2736" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2737" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2738" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2739" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2740" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2741" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2742" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2743" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2744" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2745" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2746" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2747" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2748" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2749" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2750" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2751" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2752" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2753" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2740"/>
<transition>
<source ref="id2736"/>
<target ref="id2741"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2737"/>
<target ref="id2738"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2737"/>
<target ref="id2742"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2740"/>
<target ref="id2742"/>
</transition>
<transition>
<source ref="id2741"/>
<target ref="id2737"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2742"/>
<target ref="id2753"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2751"/>
<target ref="id2751"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2747"/>
<target ref="id2744"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2745"/>
<target ref="id2738"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2745"/>
<target ref="id2753"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2747"/>
<target ref="id2747"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2739"/>
<target ref="id2748"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2746"/>
<target ref="id2736"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2739"/>
<target ref="id2746"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2749"/>
<target ref="id2749"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2744"/>
<target ref="id2743"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2744"/>
<target ref="id2741"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2748"/>
<target ref="id2747"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2749"/>
<target ref="id2739"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2750"/>
<target ref="id2749"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2751"/>
<target ref="id2750"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2751"/>
<target ref="id2745"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2752"/>
<target ref="id2751"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2753"/>
<target ref="id2752"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process153</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2754" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2755" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2756" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2757" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2758" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2759" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2760" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2761" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2762" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2763" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2764" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2765" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2766" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2767" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2768" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2769" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2770" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2771" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2758"/>
<transition>
<source ref="id2754"/>
<target ref="id2759"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2755"/>
<target ref="id2756"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2755"/>
<target ref="id2760"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2758"/>
<target ref="id2760"/>
</transition>
<transition>
<source ref="id2759"/>
<target ref="id2755"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2760"/>
<target ref="id2771"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2769"/>
<target ref="id2769"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2765"/>
<target ref="id2762"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2763"/>
<target ref="id2756"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2763"/>
<target ref="id2771"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2765"/>
<target ref="id2765"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2757"/>
<target ref="id2766"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2764"/>
<target ref="id2754"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2757"/>
<target ref="id2764"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2767"/>
<target ref="id2767"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2762"/>
<target ref="id2761"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2762"/>
<target ref="id2759"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2766"/>
<target ref="id2765"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2767"/>
<target ref="id2757"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2768"/>
<target ref="id2767"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2769"/>
<target ref="id2768"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2769"/>
<target ref="id2763"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2770"/>
<target ref="id2769"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2771"/>
<target ref="id2770"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process154</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2772" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2773" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2774" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2775" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2776" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2777" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2778" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2779" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2780" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2781" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2782" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2783" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2784" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2785" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2786" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2787" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2788" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2789" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2776"/>
<transition>
<source ref="id2772"/>
<target ref="id2777"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2773"/>
<target ref="id2774"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2773"/>
<target ref="id2778"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2776"/>
<target ref="id2778"/>
</transition>
<transition>
<source ref="id2777"/>
<target ref="id2773"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2778"/>
<target ref="id2789"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2787"/>
<target ref="id2787"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2783"/>
<target ref="id2780"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2781"/>
<target ref="id2774"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2781"/>
<target ref="id2789"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2783"/>
<target ref="id2783"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2775"/>
<target ref="id2784"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2782"/>
<target ref="id2772"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2775"/>
<target ref="id2782"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2785"/>
<target ref="id2785"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2780"/>
<target ref="id2779"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2780"/>
<target ref="id2777"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2784"/>
<target ref="id2783"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2785"/>
<target ref="id2775"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2786"/>
<target ref="id2785"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2787"/>
<target ref="id2786"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2787"/>
<target ref="id2781"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2788"/>
<target ref="id2787"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2789"/>
<target ref="id2788"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process155</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2790" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2791" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2792" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2793" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2794" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2795" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2796" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2797" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2798" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2799" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2800" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2801" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2802" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2803" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2804" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2805" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2806" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2807" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2794"/>
<transition>
<source ref="id2790"/>
<target ref="id2795"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2791"/>
<target ref="id2792"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2791"/>
<target ref="id2796"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2794"/>
<target ref="id2796"/>
</transition>
<transition>
<source ref="id2795"/>
<target ref="id2791"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2796"/>
<target ref="id2807"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2805"/>
<target ref="id2805"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2801"/>
<target ref="id2798"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2799"/>
<target ref="id2792"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2799"/>
<target ref="id2807"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2801"/>
<target ref="id2801"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2793"/>
<target ref="id2802"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2800"/>
<target ref="id2790"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2793"/>
<target ref="id2800"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2803"/>
<target ref="id2803"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2798"/>
<target ref="id2797"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2798"/>
<target ref="id2795"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2802"/>
<target ref="id2801"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2803"/>
<target ref="id2793"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2804"/>
<target ref="id2803"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2805"/>
<target ref="id2804"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2805"/>
<target ref="id2799"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2806"/>
<target ref="id2805"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2807"/>
<target ref="id2806"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process156</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2808" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2809" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2810" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2811" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2812" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2813" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2814" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2815" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2816" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2817" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2818" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2819" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2820" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2821" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2822" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2823" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2824" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2825" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2812"/>
<transition>
<source ref="id2808"/>
<target ref="id2813"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2809"/>
<target ref="id2810"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2809"/>
<target ref="id2814"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2812"/>
<target ref="id2814"/>
</transition>
<transition>
<source ref="id2813"/>
<target ref="id2809"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2814"/>
<target ref="id2825"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2823"/>
<target ref="id2823"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2819"/>
<target ref="id2816"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2817"/>
<target ref="id2810"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2817"/>
<target ref="id2825"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2819"/>
<target ref="id2819"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2811"/>
<target ref="id2820"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2818"/>
<target ref="id2808"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2811"/>
<target ref="id2818"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2821"/>
<target ref="id2821"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2816"/>
<target ref="id2815"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2816"/>
<target ref="id2813"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2820"/>
<target ref="id2819"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2821"/>
<target ref="id2811"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2822"/>
<target ref="id2821"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2823"/>
<target ref="id2822"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2823"/>
<target ref="id2817"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2824"/>
<target ref="id2823"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2825"/>
<target ref="id2824"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process157</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2826" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2827" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2828" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2829" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2830" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2831" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2832" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2833" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2834" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2835" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2836" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2837" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2838" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2839" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2840" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2841" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2842" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2843" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2830"/>
<transition>
<source ref="id2826"/>
<target ref="id2831"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2827"/>
<target ref="id2828"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2827"/>
<target ref="id2832"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2830"/>
<target ref="id2832"/>
</transition>
<transition>
<source ref="id2831"/>
<target ref="id2827"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2832"/>
<target ref="id2843"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2841"/>
<target ref="id2841"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2837"/>
<target ref="id2834"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2835"/>
<target ref="id2828"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2835"/>
<target ref="id2843"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2837"/>
<target ref="id2837"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2829"/>
<target ref="id2838"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2836"/>
<target ref="id2826"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2829"/>
<target ref="id2836"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2839"/>
<target ref="id2839"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2834"/>
<target ref="id2833"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2834"/>
<target ref="id2831"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2838"/>
<target ref="id2837"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2839"/>
<target ref="id2829"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2840"/>
<target ref="id2839"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2841"/>
<target ref="id2840"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2841"/>
<target ref="id2835"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2842"/>
<target ref="id2841"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2843"/>
<target ref="id2842"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process158</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2844" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2845" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2846" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2847" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2848" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2849" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2850" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2851" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2852" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2853" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2854" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2855" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2856" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2857" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2858" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2859" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2860" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2861" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2848"/>
<transition>
<source ref="id2844"/>
<target ref="id2849"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2845"/>
<target ref="id2846"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2845"/>
<target ref="id2850"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2848"/>
<target ref="id2850"/>
</transition>
<transition>
<source ref="id2849"/>
<target ref="id2845"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2850"/>
<target ref="id2861"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2859"/>
<target ref="id2859"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2855"/>
<target ref="id2852"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2853"/>
<target ref="id2846"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2853"/>
<target ref="id2861"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2855"/>
<target ref="id2855"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2847"/>
<target ref="id2856"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2854"/>
<target ref="id2844"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2847"/>
<target ref="id2854"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2857"/>
<target ref="id2857"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2852"/>
<target ref="id2851"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2852"/>
<target ref="id2849"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2856"/>
<target ref="id2855"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2857"/>
<target ref="id2847"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2858"/>
<target ref="id2857"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2859"/>
<target ref="id2858"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2859"/>
<target ref="id2853"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2860"/>
<target ref="id2859"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2861"/>
<target ref="id2860"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process159</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2862" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2863" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2864" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2865" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2866" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2867" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2868" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2869" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2870" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2871" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2872" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2873" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2874" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2875" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2876" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2877" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2878" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2879" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2866"/>
<transition>
<source ref="id2862"/>
<target ref="id2867"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2863"/>
<target ref="id2864"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2863"/>
<target ref="id2868"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2866"/>
<target ref="id2868"/>
</transition>
<transition>
<source ref="id2867"/>
<target ref="id2863"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2868"/>
<target ref="id2879"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2877"/>
<target ref="id2877"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2873"/>
<target ref="id2870"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2871"/>
<target ref="id2864"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2871"/>
<target ref="id2879"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2873"/>
<target ref="id2873"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2865"/>
<target ref="id2874"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2872"/>
<target ref="id2862"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2865"/>
<target ref="id2872"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2875"/>
<target ref="id2875"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2870"/>
<target ref="id2869"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2870"/>
<target ref="id2867"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2874"/>
<target ref="id2873"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2875"/>
<target ref="id2865"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2876"/>
<target ref="id2875"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2877"/>
<target ref="id2876"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2877"/>
<target ref="id2871"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2878"/>
<target ref="id2877"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2879"/>
<target ref="id2878"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process160</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2880" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2881" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2882" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2883" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2884" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2885" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2886" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2887" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2888" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2889" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2890" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2891" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2892" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2893" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2894" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2895" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2896" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2897" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2884"/>
<transition>
<source ref="id2880"/>
<target ref="id2885"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2881"/>
<target ref="id2882"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2881"/>
<target ref="id2886"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2884"/>
<target ref="id2886"/>
</transition>
<transition>
<source ref="id2885"/>
<target ref="id2881"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2886"/>
<target ref="id2897"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2895"/>
<target ref="id2895"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2891"/>
<target ref="id2888"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2889"/>
<target ref="id2882"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2889"/>
<target ref="id2897"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2891"/>
<target ref="id2891"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2883"/>
<target ref="id2892"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2890"/>
<target ref="id2880"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2883"/>
<target ref="id2890"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2893"/>
<target ref="id2893"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2888"/>
<target ref="id2887"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2888"/>
<target ref="id2885"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2892"/>
<target ref="id2891"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2893"/>
<target ref="id2883"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2894"/>
<target ref="id2893"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2895"/>
<target ref="id2894"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2895"/>
<target ref="id2889"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2896"/>
<target ref="id2895"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2897"/>
<target ref="id2896"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process161</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2898" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2899" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2900" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2901" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2902" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2903" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2904" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2905" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2906" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2907" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2908" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2909" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2910" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2911" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2912" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2913" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2914" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2915" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2902"/>
<transition>
<source ref="id2898"/>
<target ref="id2903"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2899"/>
<target ref="id2900"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2899"/>
<target ref="id2904"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2902"/>
<target ref="id2904"/>
</transition>
<transition>
<source ref="id2903"/>
<target ref="id2899"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2904"/>
<target ref="id2915"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2913"/>
<target ref="id2913"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2909"/>
<target ref="id2906"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2907"/>
<target ref="id2900"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2907"/>
<target ref="id2915"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2909"/>
<target ref="id2909"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2901"/>
<target ref="id2910"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2908"/>
<target ref="id2898"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2901"/>
<target ref="id2908"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2911"/>
<target ref="id2911"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2906"/>
<target ref="id2905"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2906"/>
<target ref="id2903"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2910"/>
<target ref="id2909"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2911"/>
<target ref="id2901"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2912"/>
<target ref="id2911"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2913"/>
<target ref="id2912"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2913"/>
<target ref="id2907"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2914"/>
<target ref="id2913"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2915"/>
<target ref="id2914"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process162</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2916" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2917" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2918" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2919" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2920" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2921" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2922" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2923" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2924" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2925" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2926" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2927" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2928" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2929" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2930" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2931" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2932" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2933" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2920"/>
<transition>
<source ref="id2916"/>
<target ref="id2921"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2917"/>
<target ref="id2918"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2917"/>
<target ref="id2922"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2920"/>
<target ref="id2922"/>
</transition>
<transition>
<source ref="id2921"/>
<target ref="id2917"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2922"/>
<target ref="id2933"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2931"/>
<target ref="id2931"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2927"/>
<target ref="id2924"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2925"/>
<target ref="id2918"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2925"/>
<target ref="id2933"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2927"/>
<target ref="id2927"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2919"/>
<target ref="id2928"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2926"/>
<target ref="id2916"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2919"/>
<target ref="id2926"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2929"/>
<target ref="id2929"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2924"/>
<target ref="id2923"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2924"/>
<target ref="id2921"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2928"/>
<target ref="id2927"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2929"/>
<target ref="id2919"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2930"/>
<target ref="id2929"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2931"/>
<target ref="id2930"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2931"/>
<target ref="id2925"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2932"/>
<target ref="id2931"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2933"/>
<target ref="id2932"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process163</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2934" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2935" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2936" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2937" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2938" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2939" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2940" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2941" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2942" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2943" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2944" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2945" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2946" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2947" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2948" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2949" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2950" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2951" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2938"/>
<transition>
<source ref="id2934"/>
<target ref="id2939"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2935"/>
<target ref="id2936"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2935"/>
<target ref="id2940"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2938"/>
<target ref="id2940"/>
</transition>
<transition>
<source ref="id2939"/>
<target ref="id2935"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2940"/>
<target ref="id2951"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2949"/>
<target ref="id2949"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2945"/>
<target ref="id2942"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2943"/>
<target ref="id2936"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2943"/>
<target ref="id2951"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2945"/>
<target ref="id2945"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2937"/>
<target ref="id2946"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2944"/>
<target ref="id2934"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2937"/>
<target ref="id2944"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2947"/>
<target ref="id2947"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2942"/>
<target ref="id2941"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2942"/>
<target ref="id2939"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2946"/>
<target ref="id2945"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2947"/>
<target ref="id2937"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2948"/>
<target ref="id2947"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2949"/>
<target ref="id2948"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2949"/>
<target ref="id2943"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2950"/>
<target ref="id2949"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2951"/>
<target ref="id2950"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process164</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2952" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2953" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2954" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2955" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2956" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2957" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2958" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2959" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2960" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2961" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2962" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2963" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2964" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2965" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2966" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2967" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2968" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2969" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2956"/>
<transition>
<source ref="id2952"/>
<target ref="id2957"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2953"/>
<target ref="id2954"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2953"/>
<target ref="id2958"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2956"/>
<target ref="id2958"/>
</transition>
<transition>
<source ref="id2957"/>
<target ref="id2953"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2958"/>
<target ref="id2969"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2967"/>
<target ref="id2967"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2963"/>
<target ref="id2960"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2961"/>
<target ref="id2954"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2961"/>
<target ref="id2969"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2963"/>
<target ref="id2963"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2955"/>
<target ref="id2964"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2962"/>
<target ref="id2952"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2955"/>
<target ref="id2962"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2965"/>
<target ref="id2965"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2960"/>
<target ref="id2959"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2960"/>
<target ref="id2957"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2964"/>
<target ref="id2963"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2965"/>
<target ref="id2955"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2966"/>
<target ref="id2965"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2967"/>
<target ref="id2966"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2967"/>
<target ref="id2961"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2968"/>
<target ref="id2967"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2969"/>
<target ref="id2968"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process165</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2970" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2971" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2972" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2973" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2974" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2975" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2976" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2977" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2978" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2979" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2980" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2981" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id2982" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id2983" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id2984" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id2985" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id2986" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id2987" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2974"/>
<transition>
<source ref="id2970"/>
<target ref="id2975"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2971"/>
<target ref="id2972"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2971"/>
<target ref="id2976"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2974"/>
<target ref="id2976"/>
</transition>
<transition>
<source ref="id2975"/>
<target ref="id2971"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2976"/>
<target ref="id2987"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id2985"/>
<target ref="id2985"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2981"/>
<target ref="id2978"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2979"/>
<target ref="id2972"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2979"/>
<target ref="id2987"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2981"/>
<target ref="id2981"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2973"/>
<target ref="id2982"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2980"/>
<target ref="id2970"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2973"/>
<target ref="id2980"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id2983"/>
<target ref="id2983"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2978"/>
<target ref="id2977"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2978"/>
<target ref="id2975"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id2982"/>
<target ref="id2981"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id2983"/>
<target ref="id2973"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id2984"/>
<target ref="id2983"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id2985"/>
<target ref="id2984"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id2985"/>
<target ref="id2979"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id2986"/>
<target ref="id2985"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id2987"/>
<target ref="id2986"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process166</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id2988" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id2989" x="-2560" y="-200">
<urgent/>
</location>
<location id="id2990" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id2991" x="-1928" y="-200">
<urgent/>
</location>
<location id="id2992" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id2993" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id2994" x="-2560" y="-288">
<urgent/>
</location>
<location id="id2995" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id2996" x="-2336" y="-40">
<urgent/>
</location>
<location id="id2997" x="-2264" y="-360">
<urgent/>
</location>
<location id="id2998" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id2999" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3000" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3001" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3002" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3003" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3004" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3005" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id2992"/>
<transition>
<source ref="id2988"/>
<target ref="id2993"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id2989"/>
<target ref="id2990"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id2989"/>
<target ref="id2994"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id2992"/>
<target ref="id2994"/>
</transition>
<transition>
<source ref="id2993"/>
<target ref="id2989"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id2994"/>
<target ref="id3005"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3003"/>
<target ref="id3003"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id2999"/>
<target ref="id2996"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id2997"/>
<target ref="id2990"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id2997"/>
<target ref="id3005"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id2999"/>
<target ref="id2999"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id2991"/>
<target ref="id3000"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id2998"/>
<target ref="id2988"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id2991"/>
<target ref="id2998"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3001"/>
<target ref="id3001"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id2996"/>
<target ref="id2995"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id2996"/>
<target ref="id2993"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3000"/>
<target ref="id2999"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3001"/>
<target ref="id2991"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3002"/>
<target ref="id3001"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3003"/>
<target ref="id3002"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3003"/>
<target ref="id2997"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3004"/>
<target ref="id3003"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3005"/>
<target ref="id3004"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process167</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3006" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3007" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3008" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3009" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3010" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3011" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3012" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3013" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3014" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3015" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3016" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3017" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3018" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3019" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3020" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3021" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3022" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3023" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3010"/>
<transition>
<source ref="id3006"/>
<target ref="id3011"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3007"/>
<target ref="id3008"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3007"/>
<target ref="id3012"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3010"/>
<target ref="id3012"/>
</transition>
<transition>
<source ref="id3011"/>
<target ref="id3007"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3012"/>
<target ref="id3023"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3021"/>
<target ref="id3021"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3017"/>
<target ref="id3014"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3015"/>
<target ref="id3008"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3015"/>
<target ref="id3023"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3017"/>
<target ref="id3017"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3009"/>
<target ref="id3018"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3016"/>
<target ref="id3006"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3009"/>
<target ref="id3016"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3019"/>
<target ref="id3019"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3014"/>
<target ref="id3013"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3014"/>
<target ref="id3011"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3018"/>
<target ref="id3017"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3019"/>
<target ref="id3009"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3020"/>
<target ref="id3019"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3021"/>
<target ref="id3020"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3021"/>
<target ref="id3015"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3022"/>
<target ref="id3021"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3023"/>
<target ref="id3022"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process168</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3024" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3025" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3026" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3027" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3028" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3029" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3030" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3031" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3032" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3033" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3034" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3035" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3036" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3037" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3038" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3039" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3040" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3041" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3028"/>
<transition>
<source ref="id3024"/>
<target ref="id3029"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3025"/>
<target ref="id3026"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3025"/>
<target ref="id3030"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3028"/>
<target ref="id3030"/>
</transition>
<transition>
<source ref="id3029"/>
<target ref="id3025"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3030"/>
<target ref="id3041"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3039"/>
<target ref="id3039"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3035"/>
<target ref="id3032"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3033"/>
<target ref="id3026"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3033"/>
<target ref="id3041"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3035"/>
<target ref="id3035"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3027"/>
<target ref="id3036"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3034"/>
<target ref="id3024"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3027"/>
<target ref="id3034"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3037"/>
<target ref="id3037"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3032"/>
<target ref="id3031"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3032"/>
<target ref="id3029"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3036"/>
<target ref="id3035"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3037"/>
<target ref="id3027"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3038"/>
<target ref="id3037"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3039"/>
<target ref="id3038"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3039"/>
<target ref="id3033"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3040"/>
<target ref="id3039"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3041"/>
<target ref="id3040"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process169</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3042" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3043" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3044" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3045" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3046" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3047" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3048" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3049" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3050" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3051" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3052" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3053" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3054" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3055" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3056" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3057" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3058" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3059" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3046"/>
<transition>
<source ref="id3042"/>
<target ref="id3047"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3043"/>
<target ref="id3044"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3043"/>
<target ref="id3048"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3046"/>
<target ref="id3048"/>
</transition>
<transition>
<source ref="id3047"/>
<target ref="id3043"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3048"/>
<target ref="id3059"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3057"/>
<target ref="id3057"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3053"/>
<target ref="id3050"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3051"/>
<target ref="id3044"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3051"/>
<target ref="id3059"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3053"/>
<target ref="id3053"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3045"/>
<target ref="id3054"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3052"/>
<target ref="id3042"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3045"/>
<target ref="id3052"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3055"/>
<target ref="id3055"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3050"/>
<target ref="id3049"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3050"/>
<target ref="id3047"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3054"/>
<target ref="id3053"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3055"/>
<target ref="id3045"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3056"/>
<target ref="id3055"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3057"/>
<target ref="id3056"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3057"/>
<target ref="id3051"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3058"/>
<target ref="id3057"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3059"/>
<target ref="id3058"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process170</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3060" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3061" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3062" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3063" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3064" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3065" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3066" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3067" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3068" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3069" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3070" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3071" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3072" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3073" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3074" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3075" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3076" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3077" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3064"/>
<transition>
<source ref="id3060"/>
<target ref="id3065"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3061"/>
<target ref="id3062"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3061"/>
<target ref="id3066"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3064"/>
<target ref="id3066"/>
</transition>
<transition>
<source ref="id3065"/>
<target ref="id3061"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3066"/>
<target ref="id3077"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3075"/>
<target ref="id3075"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3071"/>
<target ref="id3068"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3069"/>
<target ref="id3062"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3069"/>
<target ref="id3077"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3071"/>
<target ref="id3071"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3063"/>
<target ref="id3072"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3070"/>
<target ref="id3060"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3063"/>
<target ref="id3070"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3073"/>
<target ref="id3073"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3068"/>
<target ref="id3067"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3068"/>
<target ref="id3065"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3072"/>
<target ref="id3071"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3073"/>
<target ref="id3063"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3074"/>
<target ref="id3073"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3075"/>
<target ref="id3074"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3075"/>
<target ref="id3069"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3076"/>
<target ref="id3075"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3077"/>
<target ref="id3076"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process171</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3078" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3079" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3080" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3081" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3082" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3083" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3084" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3085" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3086" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3087" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3088" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3089" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3090" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3091" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3092" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3093" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3094" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3095" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3082"/>
<transition>
<source ref="id3078"/>
<target ref="id3083"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3079"/>
<target ref="id3080"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3079"/>
<target ref="id3084"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3082"/>
<target ref="id3084"/>
</transition>
<transition>
<source ref="id3083"/>
<target ref="id3079"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3084"/>
<target ref="id3095"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3093"/>
<target ref="id3093"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3089"/>
<target ref="id3086"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3087"/>
<target ref="id3080"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3087"/>
<target ref="id3095"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3089"/>
<target ref="id3089"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3081"/>
<target ref="id3090"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3088"/>
<target ref="id3078"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3081"/>
<target ref="id3088"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3091"/>
<target ref="id3091"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3086"/>
<target ref="id3085"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3086"/>
<target ref="id3083"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3090"/>
<target ref="id3089"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3091"/>
<target ref="id3081"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3092"/>
<target ref="id3091"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3093"/>
<target ref="id3092"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3093"/>
<target ref="id3087"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3094"/>
<target ref="id3093"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3095"/>
<target ref="id3094"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process172</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3096" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3097" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3098" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3099" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3100" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3101" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3102" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3103" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3104" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3105" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3106" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3107" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3108" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3109" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3110" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3111" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3112" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3113" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3100"/>
<transition>
<source ref="id3096"/>
<target ref="id3101"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3097"/>
<target ref="id3098"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3097"/>
<target ref="id3102"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3100"/>
<target ref="id3102"/>
</transition>
<transition>
<source ref="id3101"/>
<target ref="id3097"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3102"/>
<target ref="id3113"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3111"/>
<target ref="id3111"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3107"/>
<target ref="id3104"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3105"/>
<target ref="id3098"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3105"/>
<target ref="id3113"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3107"/>
<target ref="id3107"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3099"/>
<target ref="id3108"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3106"/>
<target ref="id3096"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3099"/>
<target ref="id3106"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3109"/>
<target ref="id3109"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3104"/>
<target ref="id3103"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3104"/>
<target ref="id3101"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3108"/>
<target ref="id3107"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3109"/>
<target ref="id3099"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3110"/>
<target ref="id3109"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3111"/>
<target ref="id3110"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3111"/>
<target ref="id3105"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3112"/>
<target ref="id3111"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3113"/>
<target ref="id3112"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process173</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3114" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3115" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3116" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3117" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3118" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3119" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3120" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3121" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3122" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3123" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3124" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3125" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3126" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3127" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3128" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3129" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3130" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3131" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3118"/>
<transition>
<source ref="id3114"/>
<target ref="id3119"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3115"/>
<target ref="id3116"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3115"/>
<target ref="id3120"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3118"/>
<target ref="id3120"/>
</transition>
<transition>
<source ref="id3119"/>
<target ref="id3115"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3120"/>
<target ref="id3131"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3129"/>
<target ref="id3129"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3125"/>
<target ref="id3122"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3123"/>
<target ref="id3116"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3123"/>
<target ref="id3131"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3125"/>
<target ref="id3125"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3117"/>
<target ref="id3126"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3124"/>
<target ref="id3114"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3117"/>
<target ref="id3124"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3127"/>
<target ref="id3127"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3122"/>
<target ref="id3121"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3122"/>
<target ref="id3119"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3126"/>
<target ref="id3125"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3127"/>
<target ref="id3117"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3128"/>
<target ref="id3127"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3129"/>
<target ref="id3128"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3129"/>
<target ref="id3123"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3130"/>
<target ref="id3129"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3131"/>
<target ref="id3130"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process174</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3132" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3133" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3134" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3135" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3136" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3137" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3138" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3139" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3140" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3141" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3142" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3143" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3144" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3145" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3146" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3147" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3148" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3149" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3136"/>
<transition>
<source ref="id3132"/>
<target ref="id3137"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3133"/>
<target ref="id3134"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3133"/>
<target ref="id3138"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3136"/>
<target ref="id3138"/>
</transition>
<transition>
<source ref="id3137"/>
<target ref="id3133"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3138"/>
<target ref="id3149"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3147"/>
<target ref="id3147"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3143"/>
<target ref="id3140"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3141"/>
<target ref="id3134"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3141"/>
<target ref="id3149"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3143"/>
<target ref="id3143"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3135"/>
<target ref="id3144"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3142"/>
<target ref="id3132"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3135"/>
<target ref="id3142"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3145"/>
<target ref="id3145"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3140"/>
<target ref="id3139"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3140"/>
<target ref="id3137"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3144"/>
<target ref="id3143"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3145"/>
<target ref="id3135"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3146"/>
<target ref="id3145"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3147"/>
<target ref="id3146"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3147"/>
<target ref="id3141"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3148"/>
<target ref="id3147"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3149"/>
<target ref="id3148"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process175</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3150" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3151" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3152" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3153" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3154" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3155" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3156" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3157" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3158" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3159" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3160" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3161" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3162" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3163" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3164" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3165" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3166" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3167" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3154"/>
<transition>
<source ref="id3150"/>
<target ref="id3155"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3151"/>
<target ref="id3152"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3151"/>
<target ref="id3156"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3154"/>
<target ref="id3156"/>
</transition>
<transition>
<source ref="id3155"/>
<target ref="id3151"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3156"/>
<target ref="id3167"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3165"/>
<target ref="id3165"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3161"/>
<target ref="id3158"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3159"/>
<target ref="id3152"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3159"/>
<target ref="id3167"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3161"/>
<target ref="id3161"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3153"/>
<target ref="id3162"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3160"/>
<target ref="id3150"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3153"/>
<target ref="id3160"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3163"/>
<target ref="id3163"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3158"/>
<target ref="id3157"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3158"/>
<target ref="id3155"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3162"/>
<target ref="id3161"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3163"/>
<target ref="id3153"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3164"/>
<target ref="id3163"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3165"/>
<target ref="id3164"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3165"/>
<target ref="id3159"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3166"/>
<target ref="id3165"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3167"/>
<target ref="id3166"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process176</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3168" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3169" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3170" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3171" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3172" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3173" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3174" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3175" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3176" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3177" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3178" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3179" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3180" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3181" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3182" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3183" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3184" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3185" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3172"/>
<transition>
<source ref="id3168"/>
<target ref="id3173"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3169"/>
<target ref="id3170"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3169"/>
<target ref="id3174"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3172"/>
<target ref="id3174"/>
</transition>
<transition>
<source ref="id3173"/>
<target ref="id3169"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3174"/>
<target ref="id3185"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3183"/>
<target ref="id3183"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3179"/>
<target ref="id3176"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3177"/>
<target ref="id3170"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3177"/>
<target ref="id3185"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3179"/>
<target ref="id3179"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3171"/>
<target ref="id3180"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3178"/>
<target ref="id3168"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3171"/>
<target ref="id3178"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3181"/>
<target ref="id3181"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3176"/>
<target ref="id3175"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3176"/>
<target ref="id3173"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3180"/>
<target ref="id3179"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3181"/>
<target ref="id3171"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3182"/>
<target ref="id3181"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3183"/>
<target ref="id3182"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3183"/>
<target ref="id3177"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3184"/>
<target ref="id3183"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3185"/>
<target ref="id3184"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process177</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3186" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3187" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3188" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3189" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3190" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3191" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3192" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3193" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3194" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3195" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3196" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3197" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3198" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3199" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3200" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3201" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3202" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3203" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3190"/>
<transition>
<source ref="id3186"/>
<target ref="id3191"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3187"/>
<target ref="id3188"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3187"/>
<target ref="id3192"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3190"/>
<target ref="id3192"/>
</transition>
<transition>
<source ref="id3191"/>
<target ref="id3187"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3192"/>
<target ref="id3203"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3201"/>
<target ref="id3201"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3197"/>
<target ref="id3194"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3195"/>
<target ref="id3188"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3195"/>
<target ref="id3203"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3197"/>
<target ref="id3197"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3189"/>
<target ref="id3198"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3196"/>
<target ref="id3186"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3189"/>
<target ref="id3196"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3199"/>
<target ref="id3199"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3194"/>
<target ref="id3193"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3194"/>
<target ref="id3191"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3198"/>
<target ref="id3197"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3199"/>
<target ref="id3189"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3200"/>
<target ref="id3199"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3201"/>
<target ref="id3200"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3201"/>
<target ref="id3195"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3202"/>
<target ref="id3201"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3203"/>
<target ref="id3202"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process178</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3204" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3205" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3206" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3207" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3208" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3209" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3210" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3211" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3212" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3213" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3214" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3215" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3216" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3217" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3218" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3219" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3220" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3221" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3208"/>
<transition>
<source ref="id3204"/>
<target ref="id3209"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3205"/>
<target ref="id3206"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3205"/>
<target ref="id3210"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3208"/>
<target ref="id3210"/>
</transition>
<transition>
<source ref="id3209"/>
<target ref="id3205"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3210"/>
<target ref="id3221"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3219"/>
<target ref="id3219"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3215"/>
<target ref="id3212"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3213"/>
<target ref="id3206"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3213"/>
<target ref="id3221"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3215"/>
<target ref="id3215"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3207"/>
<target ref="id3216"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3214"/>
<target ref="id3204"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3207"/>
<target ref="id3214"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3217"/>
<target ref="id3217"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3212"/>
<target ref="id3211"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3212"/>
<target ref="id3209"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3216"/>
<target ref="id3215"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3217"/>
<target ref="id3207"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3218"/>
<target ref="id3217"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3219"/>
<target ref="id3218"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3219"/>
<target ref="id3213"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3220"/>
<target ref="id3219"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3221"/>
<target ref="id3220"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process179</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3222" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3223" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3224" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3225" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3226" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3227" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3228" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3229" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3230" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3231" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3232" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3233" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3234" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3235" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3236" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3237" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3238" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3239" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3226"/>
<transition>
<source ref="id3222"/>
<target ref="id3227"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3223"/>
<target ref="id3224"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3223"/>
<target ref="id3228"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3226"/>
<target ref="id3228"/>
</transition>
<transition>
<source ref="id3227"/>
<target ref="id3223"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3228"/>
<target ref="id3239"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3237"/>
<target ref="id3237"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3233"/>
<target ref="id3230"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3231"/>
<target ref="id3224"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3231"/>
<target ref="id3239"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3233"/>
<target ref="id3233"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3225"/>
<target ref="id3234"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3232"/>
<target ref="id3222"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3225"/>
<target ref="id3232"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3235"/>
<target ref="id3235"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3230"/>
<target ref="id3229"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3230"/>
<target ref="id3227"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3234"/>
<target ref="id3233"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3235"/>
<target ref="id3225"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3236"/>
<target ref="id3235"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3237"/>
<target ref="id3236"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3237"/>
<target ref="id3231"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3238"/>
<target ref="id3237"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3239"/>
<target ref="id3238"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process180</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3240" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3241" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3242" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3243" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3244" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3245" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3246" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3247" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3248" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3249" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3250" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3251" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3252" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3253" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3254" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3255" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3256" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3257" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3244"/>
<transition>
<source ref="id3240"/>
<target ref="id3245"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3241"/>
<target ref="id3242"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3241"/>
<target ref="id3246"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3244"/>
<target ref="id3246"/>
</transition>
<transition>
<source ref="id3245"/>
<target ref="id3241"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3246"/>
<target ref="id3257"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3255"/>
<target ref="id3255"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3251"/>
<target ref="id3248"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3249"/>
<target ref="id3242"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3249"/>
<target ref="id3257"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3251"/>
<target ref="id3251"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3243"/>
<target ref="id3252"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3250"/>
<target ref="id3240"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3243"/>
<target ref="id3250"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3253"/>
<target ref="id3253"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3248"/>
<target ref="id3247"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3248"/>
<target ref="id3245"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3252"/>
<target ref="id3251"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3253"/>
<target ref="id3243"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3254"/>
<target ref="id3253"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3255"/>
<target ref="id3254"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3255"/>
<target ref="id3249"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3256"/>
<target ref="id3255"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3257"/>
<target ref="id3256"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process181</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3258" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3259" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3260" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3261" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3262" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3263" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3264" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3265" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3266" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3267" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3268" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3269" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3270" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3271" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3272" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3273" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3274" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3275" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3262"/>
<transition>
<source ref="id3258"/>
<target ref="id3263"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3259"/>
<target ref="id3260"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3259"/>
<target ref="id3264"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3262"/>
<target ref="id3264"/>
</transition>
<transition>
<source ref="id3263"/>
<target ref="id3259"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3264"/>
<target ref="id3275"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3273"/>
<target ref="id3273"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3269"/>
<target ref="id3266"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3267"/>
<target ref="id3260"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3267"/>
<target ref="id3275"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3269"/>
<target ref="id3269"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3261"/>
<target ref="id3270"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3268"/>
<target ref="id3258"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3261"/>
<target ref="id3268"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3271"/>
<target ref="id3271"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3266"/>
<target ref="id3265"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3266"/>
<target ref="id3263"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3270"/>
<target ref="id3269"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3271"/>
<target ref="id3261"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3272"/>
<target ref="id3271"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3273"/>
<target ref="id3272"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3273"/>
<target ref="id3267"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3274"/>
<target ref="id3273"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3275"/>
<target ref="id3274"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process182</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3276" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3277" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3278" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3279" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3280" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3281" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3282" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3283" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3284" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3285" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3286" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3287" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3288" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3289" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3290" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3291" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3292" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3293" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3280"/>
<transition>
<source ref="id3276"/>
<target ref="id3281"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3277"/>
<target ref="id3278"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3277"/>
<target ref="id3282"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3280"/>
<target ref="id3282"/>
</transition>
<transition>
<source ref="id3281"/>
<target ref="id3277"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3282"/>
<target ref="id3293"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3291"/>
<target ref="id3291"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3287"/>
<target ref="id3284"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3285"/>
<target ref="id3278"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3285"/>
<target ref="id3293"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3287"/>
<target ref="id3287"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3279"/>
<target ref="id3288"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3286"/>
<target ref="id3276"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3279"/>
<target ref="id3286"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3289"/>
<target ref="id3289"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3284"/>
<target ref="id3283"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3284"/>
<target ref="id3281"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3288"/>
<target ref="id3287"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3289"/>
<target ref="id3279"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3290"/>
<target ref="id3289"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3291"/>
<target ref="id3290"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3291"/>
<target ref="id3285"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3292"/>
<target ref="id3291"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3293"/>
<target ref="id3292"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process183</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3294" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3295" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3296" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3297" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3298" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3299" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3300" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3301" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3302" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3303" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3304" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3305" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3306" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3307" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3308" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3309" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3310" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3311" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3298"/>
<transition>
<source ref="id3294"/>
<target ref="id3299"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3295"/>
<target ref="id3296"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3295"/>
<target ref="id3300"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3298"/>
<target ref="id3300"/>
</transition>
<transition>
<source ref="id3299"/>
<target ref="id3295"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3300"/>
<target ref="id3311"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3309"/>
<target ref="id3309"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3305"/>
<target ref="id3302"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3303"/>
<target ref="id3296"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3303"/>
<target ref="id3311"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3305"/>
<target ref="id3305"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3297"/>
<target ref="id3306"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3304"/>
<target ref="id3294"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3297"/>
<target ref="id3304"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3307"/>
<target ref="id3307"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3302"/>
<target ref="id3301"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3302"/>
<target ref="id3299"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3306"/>
<target ref="id3305"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3307"/>
<target ref="id3297"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3308"/>
<target ref="id3307"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3309"/>
<target ref="id3308"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3309"/>
<target ref="id3303"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3310"/>
<target ref="id3309"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3311"/>
<target ref="id3310"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process184</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3312" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3313" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3314" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3315" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3316" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3317" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3318" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3319" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3320" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3321" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3322" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3323" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3324" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3325" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3326" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3327" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3328" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3329" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3316"/>
<transition>
<source ref="id3312"/>
<target ref="id3317"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3313"/>
<target ref="id3314"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3313"/>
<target ref="id3318"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3316"/>
<target ref="id3318"/>
</transition>
<transition>
<source ref="id3317"/>
<target ref="id3313"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3318"/>
<target ref="id3329"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3327"/>
<target ref="id3327"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3323"/>
<target ref="id3320"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3321"/>
<target ref="id3314"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3321"/>
<target ref="id3329"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3323"/>
<target ref="id3323"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3315"/>
<target ref="id3324"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3322"/>
<target ref="id3312"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3315"/>
<target ref="id3322"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3325"/>
<target ref="id3325"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3320"/>
<target ref="id3319"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3320"/>
<target ref="id3317"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3324"/>
<target ref="id3323"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3325"/>
<target ref="id3315"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3326"/>
<target ref="id3325"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3327"/>
<target ref="id3326"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3327"/>
<target ref="id3321"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3328"/>
<target ref="id3327"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3329"/>
<target ref="id3328"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process185</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3330" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3331" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3332" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3333" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3334" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3335" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3336" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3337" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3338" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3339" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3340" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3341" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3342" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3343" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3344" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3345" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3346" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3347" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3334"/>
<transition>
<source ref="id3330"/>
<target ref="id3335"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3331"/>
<target ref="id3332"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3331"/>
<target ref="id3336"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3334"/>
<target ref="id3336"/>
</transition>
<transition>
<source ref="id3335"/>
<target ref="id3331"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3336"/>
<target ref="id3347"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3345"/>
<target ref="id3345"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3341"/>
<target ref="id3338"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3339"/>
<target ref="id3332"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3339"/>
<target ref="id3347"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3341"/>
<target ref="id3341"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3333"/>
<target ref="id3342"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3340"/>
<target ref="id3330"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3333"/>
<target ref="id3340"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3343"/>
<target ref="id3343"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3338"/>
<target ref="id3337"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3338"/>
<target ref="id3335"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3342"/>
<target ref="id3341"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3343"/>
<target ref="id3333"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3344"/>
<target ref="id3343"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3345"/>
<target ref="id3344"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3345"/>
<target ref="id3339"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3346"/>
<target ref="id3345"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3347"/>
<target ref="id3346"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process186</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3348" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3349" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3350" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3351" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3352" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3353" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3354" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3355" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3356" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3357" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3358" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3359" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3360" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3361" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3362" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3363" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3364" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3365" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3352"/>
<transition>
<source ref="id3348"/>
<target ref="id3353"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3349"/>
<target ref="id3350"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3349"/>
<target ref="id3354"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3352"/>
<target ref="id3354"/>
</transition>
<transition>
<source ref="id3353"/>
<target ref="id3349"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3354"/>
<target ref="id3365"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3363"/>
<target ref="id3363"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3359"/>
<target ref="id3356"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3357"/>
<target ref="id3350"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3357"/>
<target ref="id3365"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3359"/>
<target ref="id3359"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3351"/>
<target ref="id3360"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3358"/>
<target ref="id3348"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3351"/>
<target ref="id3358"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3361"/>
<target ref="id3361"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3356"/>
<target ref="id3355"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3356"/>
<target ref="id3353"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3360"/>
<target ref="id3359"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3361"/>
<target ref="id3351"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3362"/>
<target ref="id3361"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3363"/>
<target ref="id3362"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3363"/>
<target ref="id3357"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3364"/>
<target ref="id3363"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3365"/>
<target ref="id3364"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process187</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3366" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3367" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3368" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3369" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3370" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3371" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3372" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3373" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3374" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3375" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3376" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3377" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3378" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3379" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3380" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3381" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3382" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3383" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3370"/>
<transition>
<source ref="id3366"/>
<target ref="id3371"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3367"/>
<target ref="id3368"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3367"/>
<target ref="id3372"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3370"/>
<target ref="id3372"/>
</transition>
<transition>
<source ref="id3371"/>
<target ref="id3367"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3372"/>
<target ref="id3383"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3381"/>
<target ref="id3381"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3377"/>
<target ref="id3374"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3375"/>
<target ref="id3368"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3375"/>
<target ref="id3383"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3377"/>
<target ref="id3377"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3369"/>
<target ref="id3378"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3376"/>
<target ref="id3366"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3369"/>
<target ref="id3376"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3379"/>
<target ref="id3379"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3374"/>
<target ref="id3373"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3374"/>
<target ref="id3371"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3378"/>
<target ref="id3377"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3379"/>
<target ref="id3369"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3380"/>
<target ref="id3379"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3381"/>
<target ref="id3380"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3381"/>
<target ref="id3375"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3382"/>
<target ref="id3381"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3383"/>
<target ref="id3382"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process188</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3384" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3385" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3386" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3387" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3388" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3389" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3390" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3391" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3392" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3393" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3394" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3395" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3396" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3397" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3398" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3399" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3400" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3401" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3388"/>
<transition>
<source ref="id3384"/>
<target ref="id3389"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3385"/>
<target ref="id3386"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3385"/>
<target ref="id3390"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3388"/>
<target ref="id3390"/>
</transition>
<transition>
<source ref="id3389"/>
<target ref="id3385"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3390"/>
<target ref="id3401"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3399"/>
<target ref="id3399"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3395"/>
<target ref="id3392"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3393"/>
<target ref="id3386"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3393"/>
<target ref="id3401"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3395"/>
<target ref="id3395"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3387"/>
<target ref="id3396"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3394"/>
<target ref="id3384"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3387"/>
<target ref="id3394"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3397"/>
<target ref="id3397"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3392"/>
<target ref="id3391"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3392"/>
<target ref="id3389"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3396"/>
<target ref="id3395"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3397"/>
<target ref="id3387"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3398"/>
<target ref="id3397"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3399"/>
<target ref="id3398"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3399"/>
<target ref="id3393"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3400"/>
<target ref="id3399"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3401"/>
<target ref="id3400"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process189</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3402" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3403" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3404" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3405" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3406" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3407" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3408" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3409" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3410" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3411" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3412" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3413" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3414" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3415" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3416" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3417" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3418" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3419" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3406"/>
<transition>
<source ref="id3402"/>
<target ref="id3407"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3403"/>
<target ref="id3404"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3403"/>
<target ref="id3408"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3406"/>
<target ref="id3408"/>
</transition>
<transition>
<source ref="id3407"/>
<target ref="id3403"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3408"/>
<target ref="id3419"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3417"/>
<target ref="id3417"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3413"/>
<target ref="id3410"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3411"/>
<target ref="id3404"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3411"/>
<target ref="id3419"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3413"/>
<target ref="id3413"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3405"/>
<target ref="id3414"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3412"/>
<target ref="id3402"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3405"/>
<target ref="id3412"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3415"/>
<target ref="id3415"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3410"/>
<target ref="id3409"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3410"/>
<target ref="id3407"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3414"/>
<target ref="id3413"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3415"/>
<target ref="id3405"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3416"/>
<target ref="id3415"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3417"/>
<target ref="id3416"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3417"/>
<target ref="id3411"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3418"/>
<target ref="id3417"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3419"/>
<target ref="id3418"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process190</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3420" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3421" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3422" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3423" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3424" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3425" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3426" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3427" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3428" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3429" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3430" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3431" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3432" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3433" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3434" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3435" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3436" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3437" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3424"/>
<transition>
<source ref="id3420"/>
<target ref="id3425"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3421"/>
<target ref="id3422"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3421"/>
<target ref="id3426"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3424"/>
<target ref="id3426"/>
</transition>
<transition>
<source ref="id3425"/>
<target ref="id3421"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3426"/>
<target ref="id3437"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3435"/>
<target ref="id3435"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3431"/>
<target ref="id3428"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3429"/>
<target ref="id3422"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3429"/>
<target ref="id3437"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3431"/>
<target ref="id3431"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3423"/>
<target ref="id3432"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3430"/>
<target ref="id3420"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3423"/>
<target ref="id3430"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3433"/>
<target ref="id3433"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3428"/>
<target ref="id3427"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3428"/>
<target ref="id3425"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3432"/>
<target ref="id3431"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3433"/>
<target ref="id3423"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3434"/>
<target ref="id3433"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3435"/>
<target ref="id3434"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3435"/>
<target ref="id3429"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3436"/>
<target ref="id3435"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3437"/>
<target ref="id3436"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process191</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3438" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3439" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3440" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3441" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3442" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3443" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3444" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3445" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3446" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3447" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3448" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3449" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3450" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3451" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3452" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3453" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3454" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3455" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3442"/>
<transition>
<source ref="id3438"/>
<target ref="id3443"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3439"/>
<target ref="id3440"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3439"/>
<target ref="id3444"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3442"/>
<target ref="id3444"/>
</transition>
<transition>
<source ref="id3443"/>
<target ref="id3439"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3444"/>
<target ref="id3455"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3453"/>
<target ref="id3453"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3449"/>
<target ref="id3446"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3447"/>
<target ref="id3440"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3447"/>
<target ref="id3455"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3449"/>
<target ref="id3449"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3441"/>
<target ref="id3450"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3448"/>
<target ref="id3438"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3441"/>
<target ref="id3448"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3451"/>
<target ref="id3451"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3446"/>
<target ref="id3445"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3446"/>
<target ref="id3443"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3450"/>
<target ref="id3449"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3451"/>
<target ref="id3441"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3452"/>
<target ref="id3451"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3453"/>
<target ref="id3452"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3453"/>
<target ref="id3447"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3454"/>
<target ref="id3453"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3455"/>
<target ref="id3454"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process192</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3456" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3457" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3458" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3459" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3460" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3461" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3462" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3463" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3464" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3465" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3466" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3467" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3468" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3469" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3470" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3471" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3472" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3473" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3460"/>
<transition>
<source ref="id3456"/>
<target ref="id3461"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3457"/>
<target ref="id3458"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3457"/>
<target ref="id3462"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3460"/>
<target ref="id3462"/>
</transition>
<transition>
<source ref="id3461"/>
<target ref="id3457"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3462"/>
<target ref="id3473"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3471"/>
<target ref="id3471"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3467"/>
<target ref="id3464"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3465"/>
<target ref="id3458"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3465"/>
<target ref="id3473"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3467"/>
<target ref="id3467"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3459"/>
<target ref="id3468"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3466"/>
<target ref="id3456"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3459"/>
<target ref="id3466"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3469"/>
<target ref="id3469"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3464"/>
<target ref="id3463"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3464"/>
<target ref="id3461"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3468"/>
<target ref="id3467"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3469"/>
<target ref="id3459"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3470"/>
<target ref="id3469"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3471"/>
<target ref="id3470"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3471"/>
<target ref="id3465"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3472"/>
<target ref="id3471"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3473"/>
<target ref="id3472"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process193</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3474" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3475" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3476" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3477" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3478" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3479" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3480" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3481" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3482" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3483" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3484" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3485" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3486" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3487" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3488" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3489" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3490" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3491" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3478"/>
<transition>
<source ref="id3474"/>
<target ref="id3479"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3475"/>
<target ref="id3476"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3475"/>
<target ref="id3480"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3478"/>
<target ref="id3480"/>
</transition>
<transition>
<source ref="id3479"/>
<target ref="id3475"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3480"/>
<target ref="id3491"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3489"/>
<target ref="id3489"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3485"/>
<target ref="id3482"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3483"/>
<target ref="id3476"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3483"/>
<target ref="id3491"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3485"/>
<target ref="id3485"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3477"/>
<target ref="id3486"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3484"/>
<target ref="id3474"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3477"/>
<target ref="id3484"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3487"/>
<target ref="id3487"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3482"/>
<target ref="id3481"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3482"/>
<target ref="id3479"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3486"/>
<target ref="id3485"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3487"/>
<target ref="id3477"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3488"/>
<target ref="id3487"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3489"/>
<target ref="id3488"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3489"/>
<target ref="id3483"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3490"/>
<target ref="id3489"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3491"/>
<target ref="id3490"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process194</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3492" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3493" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3494" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3495" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3496" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3497" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3498" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3499" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3500" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3501" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3502" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3503" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3504" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3505" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3506" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3507" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3508" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3509" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3496"/>
<transition>
<source ref="id3492"/>
<target ref="id3497"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3493"/>
<target ref="id3494"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3493"/>
<target ref="id3498"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3496"/>
<target ref="id3498"/>
</transition>
<transition>
<source ref="id3497"/>
<target ref="id3493"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3498"/>
<target ref="id3509"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3507"/>
<target ref="id3507"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3503"/>
<target ref="id3500"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3501"/>
<target ref="id3494"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3501"/>
<target ref="id3509"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3503"/>
<target ref="id3503"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3495"/>
<target ref="id3504"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3502"/>
<target ref="id3492"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3495"/>
<target ref="id3502"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3505"/>
<target ref="id3505"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3500"/>
<target ref="id3499"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3500"/>
<target ref="id3497"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3504"/>
<target ref="id3503"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3505"/>
<target ref="id3495"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3506"/>
<target ref="id3505"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3507"/>
<target ref="id3506"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3507"/>
<target ref="id3501"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3508"/>
<target ref="id3507"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3509"/>
<target ref="id3508"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process195</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3510" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3511" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3512" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3513" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3514" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3515" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3516" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3517" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3518" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3519" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3520" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3521" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3522" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3523" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3524" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3525" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3526" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3527" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3514"/>
<transition>
<source ref="id3510"/>
<target ref="id3515"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3511"/>
<target ref="id3512"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3511"/>
<target ref="id3516"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3514"/>
<target ref="id3516"/>
</transition>
<transition>
<source ref="id3515"/>
<target ref="id3511"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3516"/>
<target ref="id3527"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3525"/>
<target ref="id3525"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3521"/>
<target ref="id3518"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3519"/>
<target ref="id3512"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3519"/>
<target ref="id3527"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3521"/>
<target ref="id3521"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3513"/>
<target ref="id3522"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3520"/>
<target ref="id3510"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3513"/>
<target ref="id3520"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3523"/>
<target ref="id3523"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3518"/>
<target ref="id3517"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3518"/>
<target ref="id3515"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3522"/>
<target ref="id3521"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3523"/>
<target ref="id3513"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3524"/>
<target ref="id3523"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3525"/>
<target ref="id3524"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3525"/>
<target ref="id3519"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3526"/>
<target ref="id3525"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3527"/>
<target ref="id3526"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process196</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3528" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3529" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3530" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3531" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3532" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3533" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3534" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3535" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3536" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3537" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3538" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3539" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3540" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3541" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3542" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3543" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3544" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3545" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3532"/>
<transition>
<source ref="id3528"/>
<target ref="id3533"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3529"/>
<target ref="id3530"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3529"/>
<target ref="id3534"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3532"/>
<target ref="id3534"/>
</transition>
<transition>
<source ref="id3533"/>
<target ref="id3529"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3534"/>
<target ref="id3545"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3543"/>
<target ref="id3543"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3539"/>
<target ref="id3536"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3537"/>
<target ref="id3530"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3537"/>
<target ref="id3545"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3539"/>
<target ref="id3539"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3531"/>
<target ref="id3540"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3538"/>
<target ref="id3528"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3531"/>
<target ref="id3538"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3541"/>
<target ref="id3541"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3536"/>
<target ref="id3535"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3536"/>
<target ref="id3533"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3540"/>
<target ref="id3539"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3541"/>
<target ref="id3531"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3542"/>
<target ref="id3541"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3543"/>
<target ref="id3542"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3543"/>
<target ref="id3537"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3544"/>
<target ref="id3543"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3545"/>
<target ref="id3544"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process197</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3546" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3547" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3548" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3549" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3550" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3551" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3552" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3553" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3554" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3555" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3556" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3557" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3558" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3559" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3560" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3561" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3562" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3563" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3550"/>
<transition>
<source ref="id3546"/>
<target ref="id3551"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3547"/>
<target ref="id3548"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3547"/>
<target ref="id3552"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3550"/>
<target ref="id3552"/>
</transition>
<transition>
<source ref="id3551"/>
<target ref="id3547"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3552"/>
<target ref="id3563"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3561"/>
<target ref="id3561"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3557"/>
<target ref="id3554"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3555"/>
<target ref="id3548"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3555"/>
<target ref="id3563"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3557"/>
<target ref="id3557"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3549"/>
<target ref="id3558"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3556"/>
<target ref="id3546"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3549"/>
<target ref="id3556"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3559"/>
<target ref="id3559"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3554"/>
<target ref="id3553"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3554"/>
<target ref="id3551"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3558"/>
<target ref="id3557"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3559"/>
<target ref="id3549"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3560"/>
<target ref="id3559"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3561"/>
<target ref="id3560"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3561"/>
<target ref="id3555"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3562"/>
<target ref="id3561"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3563"/>
<target ref="id3562"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process198</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3564" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3565" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3566" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3567" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3568" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3569" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3570" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3571" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3572" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3573" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3574" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3575" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3576" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3577" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3578" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3579" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3580" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3581" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3568"/>
<transition>
<source ref="id3564"/>
<target ref="id3569"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3565"/>
<target ref="id3566"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3565"/>
<target ref="id3570"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3568"/>
<target ref="id3570"/>
</transition>
<transition>
<source ref="id3569"/>
<target ref="id3565"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3570"/>
<target ref="id3581"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3579"/>
<target ref="id3579"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3575"/>
<target ref="id3572"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3573"/>
<target ref="id3566"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3573"/>
<target ref="id3581"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3575"/>
<target ref="id3575"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3567"/>
<target ref="id3576"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3574"/>
<target ref="id3564"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3567"/>
<target ref="id3574"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3577"/>
<target ref="id3577"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3572"/>
<target ref="id3571"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3572"/>
<target ref="id3569"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3576"/>
<target ref="id3575"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3577"/>
<target ref="id3567"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3578"/>
<target ref="id3577"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3579"/>
<target ref="id3578"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3579"/>
<target ref="id3573"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3580"/>
<target ref="id3579"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3581"/>
<target ref="id3580"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process199</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3582" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3583" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3584" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3585" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3586" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3587" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3588" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3589" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3590" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3591" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3592" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3593" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3594" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3595" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3596" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3597" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3598" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3599" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3586"/>
<transition>
<source ref="id3582"/>
<target ref="id3587"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3583"/>
<target ref="id3584"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3583"/>
<target ref="id3588"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3586"/>
<target ref="id3588"/>
</transition>
<transition>
<source ref="id3587"/>
<target ref="id3583"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3588"/>
<target ref="id3599"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3597"/>
<target ref="id3597"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3593"/>
<target ref="id3590"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3591"/>
<target ref="id3584"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3591"/>
<target ref="id3599"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3593"/>
<target ref="id3593"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3585"/>
<target ref="id3594"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3592"/>
<target ref="id3582"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3585"/>
<target ref="id3592"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3595"/>
<target ref="id3595"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3590"/>
<target ref="id3589"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3590"/>
<target ref="id3587"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3594"/>
<target ref="id3593"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3595"/>
<target ref="id3585"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3596"/>
<target ref="id3595"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3597"/>
<target ref="id3596"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3597"/>
<target ref="id3591"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3598"/>
<target ref="id3597"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3599"/>
<target ref="id3598"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process200</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3600" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3601" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3602" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3603" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3604" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3605" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3606" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3607" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3608" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3609" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3610" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3611" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3612" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3613" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3614" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3615" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3616" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3617" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3604"/>
<transition>
<source ref="id3600"/>
<target ref="id3605"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3601"/>
<target ref="id3602"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3601"/>
<target ref="id3606"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3604"/>
<target ref="id3606"/>
</transition>
<transition>
<source ref="id3605"/>
<target ref="id3601"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3606"/>
<target ref="id3617"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3615"/>
<target ref="id3615"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3611"/>
<target ref="id3608"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3609"/>
<target ref="id3602"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3609"/>
<target ref="id3617"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3611"/>
<target ref="id3611"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3603"/>
<target ref="id3612"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3610"/>
<target ref="id3600"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3603"/>
<target ref="id3610"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3613"/>
<target ref="id3613"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3608"/>
<target ref="id3607"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3608"/>
<target ref="id3605"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3612"/>
<target ref="id3611"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3613"/>
<target ref="id3603"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3614"/>
<target ref="id3613"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3615"/>
<target ref="id3614"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3615"/>
<target ref="id3609"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3616"/>
<target ref="id3615"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3617"/>
<target ref="id3616"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process201</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3618" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3619" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3620" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3621" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3622" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3623" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3624" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3625" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3626" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3627" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3628" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3629" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3630" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3631" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3632" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3633" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3634" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3635" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3622"/>
<transition>
<source ref="id3618"/>
<target ref="id3623"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3619"/>
<target ref="id3620"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3619"/>
<target ref="id3624"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3622"/>
<target ref="id3624"/>
</transition>
<transition>
<source ref="id3623"/>
<target ref="id3619"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3624"/>
<target ref="id3635"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3633"/>
<target ref="id3633"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3629"/>
<target ref="id3626"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3627"/>
<target ref="id3620"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3627"/>
<target ref="id3635"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3629"/>
<target ref="id3629"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3621"/>
<target ref="id3630"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3628"/>
<target ref="id3618"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3621"/>
<target ref="id3628"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3631"/>
<target ref="id3631"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3626"/>
<target ref="id3625"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3626"/>
<target ref="id3623"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3630"/>
<target ref="id3629"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3631"/>
<target ref="id3621"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3632"/>
<target ref="id3631"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3633"/>
<target ref="id3632"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3633"/>
<target ref="id3627"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3634"/>
<target ref="id3633"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3635"/>
<target ref="id3634"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process202</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3636" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3637" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3638" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3639" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3640" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3641" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3642" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3643" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3644" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3645" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3646" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3647" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3648" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3649" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3650" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3651" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3652" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3653" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3640"/>
<transition>
<source ref="id3636"/>
<target ref="id3641"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3637"/>
<target ref="id3638"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3637"/>
<target ref="id3642"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3640"/>
<target ref="id3642"/>
</transition>
<transition>
<source ref="id3641"/>
<target ref="id3637"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3642"/>
<target ref="id3653"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3651"/>
<target ref="id3651"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3647"/>
<target ref="id3644"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3645"/>
<target ref="id3638"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3645"/>
<target ref="id3653"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3647"/>
<target ref="id3647"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3639"/>
<target ref="id3648"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3646"/>
<target ref="id3636"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3639"/>
<target ref="id3646"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3649"/>
<target ref="id3649"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3644"/>
<target ref="id3643"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3644"/>
<target ref="id3641"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3648"/>
<target ref="id3647"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3649"/>
<target ref="id3639"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3650"/>
<target ref="id3649"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3651"/>
<target ref="id3650"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3651"/>
<target ref="id3645"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3652"/>
<target ref="id3651"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3653"/>
<target ref="id3652"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process203</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3654" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3655" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3656" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3657" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3658" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3659" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3660" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3661" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3662" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3663" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3664" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3665" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3666" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3667" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3668" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3669" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3670" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3671" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3658"/>
<transition>
<source ref="id3654"/>
<target ref="id3659"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3655"/>
<target ref="id3656"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3655"/>
<target ref="id3660"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3658"/>
<target ref="id3660"/>
</transition>
<transition>
<source ref="id3659"/>
<target ref="id3655"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3660"/>
<target ref="id3671"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3669"/>
<target ref="id3669"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3665"/>
<target ref="id3662"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3663"/>
<target ref="id3656"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3663"/>
<target ref="id3671"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3665"/>
<target ref="id3665"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3657"/>
<target ref="id3666"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3664"/>
<target ref="id3654"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3657"/>
<target ref="id3664"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3667"/>
<target ref="id3667"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3662"/>
<target ref="id3661"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3662"/>
<target ref="id3659"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3666"/>
<target ref="id3665"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3667"/>
<target ref="id3657"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3668"/>
<target ref="id3667"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3669"/>
<target ref="id3668"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3669"/>
<target ref="id3663"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3670"/>
<target ref="id3669"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3671"/>
<target ref="id3670"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process204</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3672" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3673" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3674" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3675" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3676" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3677" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3678" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3679" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3680" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3681" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3682" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3683" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3684" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3685" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3686" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3687" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3688" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3689" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3676"/>
<transition>
<source ref="id3672"/>
<target ref="id3677"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3673"/>
<target ref="id3674"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3673"/>
<target ref="id3678"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3676"/>
<target ref="id3678"/>
</transition>
<transition>
<source ref="id3677"/>
<target ref="id3673"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3678"/>
<target ref="id3689"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3687"/>
<target ref="id3687"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3683"/>
<target ref="id3680"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3681"/>
<target ref="id3674"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3681"/>
<target ref="id3689"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3683"/>
<target ref="id3683"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3675"/>
<target ref="id3684"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3682"/>
<target ref="id3672"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3675"/>
<target ref="id3682"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3685"/>
<target ref="id3685"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3680"/>
<target ref="id3679"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3680"/>
<target ref="id3677"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3684"/>
<target ref="id3683"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3685"/>
<target ref="id3675"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3686"/>
<target ref="id3685"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3687"/>
<target ref="id3686"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3687"/>
<target ref="id3681"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3688"/>
<target ref="id3687"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3689"/>
<target ref="id3688"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process205</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3690" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3691" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3692" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3693" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3694" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3695" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3696" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3697" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3698" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3699" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3700" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3701" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3702" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3703" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3704" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3705" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3706" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3707" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3694"/>
<transition>
<source ref="id3690"/>
<target ref="id3695"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3691"/>
<target ref="id3692"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3691"/>
<target ref="id3696"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3694"/>
<target ref="id3696"/>
</transition>
<transition>
<source ref="id3695"/>
<target ref="id3691"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3696"/>
<target ref="id3707"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3705"/>
<target ref="id3705"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3701"/>
<target ref="id3698"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3699"/>
<target ref="id3692"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3699"/>
<target ref="id3707"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3701"/>
<target ref="id3701"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3693"/>
<target ref="id3702"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3700"/>
<target ref="id3690"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3693"/>
<target ref="id3700"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3703"/>
<target ref="id3703"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3698"/>
<target ref="id3697"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3698"/>
<target ref="id3695"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3702"/>
<target ref="id3701"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3703"/>
<target ref="id3693"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3704"/>
<target ref="id3703"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3705"/>
<target ref="id3704"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3705"/>
<target ref="id3699"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3706"/>
<target ref="id3705"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3707"/>
<target ref="id3706"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process206</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3708" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3709" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3710" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3711" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3712" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3713" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3714" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3715" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3716" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3717" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3718" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3719" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3720" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3721" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3722" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3723" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3724" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3725" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3712"/>
<transition>
<source ref="id3708"/>
<target ref="id3713"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3709"/>
<target ref="id3710"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3709"/>
<target ref="id3714"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3712"/>
<target ref="id3714"/>
</transition>
<transition>
<source ref="id3713"/>
<target ref="id3709"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3714"/>
<target ref="id3725"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3723"/>
<target ref="id3723"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3719"/>
<target ref="id3716"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3717"/>
<target ref="id3710"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3717"/>
<target ref="id3725"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3719"/>
<target ref="id3719"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3711"/>
<target ref="id3720"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3718"/>
<target ref="id3708"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3711"/>
<target ref="id3718"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3721"/>
<target ref="id3721"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3716"/>
<target ref="id3715"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3716"/>
<target ref="id3713"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3720"/>
<target ref="id3719"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3721"/>
<target ref="id3711"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3722"/>
<target ref="id3721"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3723"/>
<target ref="id3722"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3723"/>
<target ref="id3717"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3724"/>
<target ref="id3723"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3725"/>
<target ref="id3724"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process207</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3726" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3727" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3728" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3729" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3730" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3731" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3732" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3733" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3734" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3735" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3736" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3737" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3738" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3739" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3740" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3741" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3742" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3743" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3730"/>
<transition>
<source ref="id3726"/>
<target ref="id3731"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3727"/>
<target ref="id3728"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3727"/>
<target ref="id3732"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3730"/>
<target ref="id3732"/>
</transition>
<transition>
<source ref="id3731"/>
<target ref="id3727"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3732"/>
<target ref="id3743"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3741"/>
<target ref="id3741"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3737"/>
<target ref="id3734"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3735"/>
<target ref="id3728"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3735"/>
<target ref="id3743"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3737"/>
<target ref="id3737"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3729"/>
<target ref="id3738"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3736"/>
<target ref="id3726"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3729"/>
<target ref="id3736"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3739"/>
<target ref="id3739"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3734"/>
<target ref="id3733"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3734"/>
<target ref="id3731"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3738"/>
<target ref="id3737"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3739"/>
<target ref="id3729"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3740"/>
<target ref="id3739"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3741"/>
<target ref="id3740"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3741"/>
<target ref="id3735"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3742"/>
<target ref="id3741"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3743"/>
<target ref="id3742"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process208</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3744" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3745" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3746" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3747" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3748" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3749" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3750" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3751" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3752" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3753" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3754" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3755" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3756" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3757" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3758" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3759" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3760" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3761" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3748"/>
<transition>
<source ref="id3744"/>
<target ref="id3749"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3745"/>
<target ref="id3746"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3745"/>
<target ref="id3750"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3748"/>
<target ref="id3750"/>
</transition>
<transition>
<source ref="id3749"/>
<target ref="id3745"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3750"/>
<target ref="id3761"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3759"/>
<target ref="id3759"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3755"/>
<target ref="id3752"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3753"/>
<target ref="id3746"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3753"/>
<target ref="id3761"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3755"/>
<target ref="id3755"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3747"/>
<target ref="id3756"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3754"/>
<target ref="id3744"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3747"/>
<target ref="id3754"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3757"/>
<target ref="id3757"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3752"/>
<target ref="id3751"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3752"/>
<target ref="id3749"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3756"/>
<target ref="id3755"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3757"/>
<target ref="id3747"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3758"/>
<target ref="id3757"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3759"/>
<target ref="id3758"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3759"/>
<target ref="id3753"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3760"/>
<target ref="id3759"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3761"/>
<target ref="id3760"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process209</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3762" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3763" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3764" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3765" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3766" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3767" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3768" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3769" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3770" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3771" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3772" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3773" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3774" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3775" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3776" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3777" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3778" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3779" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3766"/>
<transition>
<source ref="id3762"/>
<target ref="id3767"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3763"/>
<target ref="id3764"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3763"/>
<target ref="id3768"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3766"/>
<target ref="id3768"/>
</transition>
<transition>
<source ref="id3767"/>
<target ref="id3763"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3768"/>
<target ref="id3779"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3777"/>
<target ref="id3777"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3773"/>
<target ref="id3770"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3771"/>
<target ref="id3764"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3771"/>
<target ref="id3779"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3773"/>
<target ref="id3773"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3765"/>
<target ref="id3774"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3772"/>
<target ref="id3762"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3765"/>
<target ref="id3772"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3775"/>
<target ref="id3775"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3770"/>
<target ref="id3769"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3770"/>
<target ref="id3767"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3774"/>
<target ref="id3773"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3775"/>
<target ref="id3765"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3776"/>
<target ref="id3775"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3777"/>
<target ref="id3776"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3777"/>
<target ref="id3771"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3778"/>
<target ref="id3777"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3779"/>
<target ref="id3778"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process210</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3780" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3781" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3782" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3783" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3784" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3785" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3786" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3787" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3788" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3789" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3790" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3791" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3792" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3793" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3794" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3795" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3796" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3797" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3784"/>
<transition>
<source ref="id3780"/>
<target ref="id3785"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3781"/>
<target ref="id3782"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3781"/>
<target ref="id3786"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3784"/>
<target ref="id3786"/>
</transition>
<transition>
<source ref="id3785"/>
<target ref="id3781"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3786"/>
<target ref="id3797"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3795"/>
<target ref="id3795"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3791"/>
<target ref="id3788"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3789"/>
<target ref="id3782"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3789"/>
<target ref="id3797"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3791"/>
<target ref="id3791"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3783"/>
<target ref="id3792"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3790"/>
<target ref="id3780"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3783"/>
<target ref="id3790"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3793"/>
<target ref="id3793"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3788"/>
<target ref="id3787"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3788"/>
<target ref="id3785"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3792"/>
<target ref="id3791"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3793"/>
<target ref="id3783"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3794"/>
<target ref="id3793"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3795"/>
<target ref="id3794"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3795"/>
<target ref="id3789"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3796"/>
<target ref="id3795"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3797"/>
<target ref="id3796"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process211</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3798" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3799" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3800" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3801" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3802" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3803" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3804" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3805" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3806" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3807" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3808" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3809" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3810" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3811" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3812" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3813" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3814" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3815" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3802"/>
<transition>
<source ref="id3798"/>
<target ref="id3803"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3799"/>
<target ref="id3800"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3799"/>
<target ref="id3804"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3802"/>
<target ref="id3804"/>
</transition>
<transition>
<source ref="id3803"/>
<target ref="id3799"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3804"/>
<target ref="id3815"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3813"/>
<target ref="id3813"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3809"/>
<target ref="id3806"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3807"/>
<target ref="id3800"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3807"/>
<target ref="id3815"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3809"/>
<target ref="id3809"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3801"/>
<target ref="id3810"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3808"/>
<target ref="id3798"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3801"/>
<target ref="id3808"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3811"/>
<target ref="id3811"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3806"/>
<target ref="id3805"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3806"/>
<target ref="id3803"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3810"/>
<target ref="id3809"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3811"/>
<target ref="id3801"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3812"/>
<target ref="id3811"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3813"/>
<target ref="id3812"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3813"/>
<target ref="id3807"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3814"/>
<target ref="id3813"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3815"/>
<target ref="id3814"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process212</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3816" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3817" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3818" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3819" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3820" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3821" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3822" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3823" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3824" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3825" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3826" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3827" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3828" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3829" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3830" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3831" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3832" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3833" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3820"/>
<transition>
<source ref="id3816"/>
<target ref="id3821"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3817"/>
<target ref="id3818"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3817"/>
<target ref="id3822"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3820"/>
<target ref="id3822"/>
</transition>
<transition>
<source ref="id3821"/>
<target ref="id3817"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3822"/>
<target ref="id3833"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3831"/>
<target ref="id3831"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3827"/>
<target ref="id3824"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3825"/>
<target ref="id3818"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3825"/>
<target ref="id3833"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3827"/>
<target ref="id3827"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3819"/>
<target ref="id3828"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3826"/>
<target ref="id3816"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3819"/>
<target ref="id3826"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3829"/>
<target ref="id3829"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3824"/>
<target ref="id3823"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3824"/>
<target ref="id3821"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3828"/>
<target ref="id3827"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3829"/>
<target ref="id3819"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3830"/>
<target ref="id3829"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3831"/>
<target ref="id3830"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3831"/>
<target ref="id3825"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3832"/>
<target ref="id3831"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3833"/>
<target ref="id3832"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process213</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3834" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3835" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3836" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3837" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3838" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3839" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3840" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3841" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3842" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3843" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3844" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3845" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3846" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3847" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3848" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3849" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3850" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3851" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3838"/>
<transition>
<source ref="id3834"/>
<target ref="id3839"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3835"/>
<target ref="id3836"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3835"/>
<target ref="id3840"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3838"/>
<target ref="id3840"/>
</transition>
<transition>
<source ref="id3839"/>
<target ref="id3835"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3840"/>
<target ref="id3851"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3849"/>
<target ref="id3849"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3845"/>
<target ref="id3842"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3843"/>
<target ref="id3836"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3843"/>
<target ref="id3851"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3845"/>
<target ref="id3845"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3837"/>
<target ref="id3846"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3844"/>
<target ref="id3834"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3837"/>
<target ref="id3844"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3847"/>
<target ref="id3847"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3842"/>
<target ref="id3841"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3842"/>
<target ref="id3839"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3846"/>
<target ref="id3845"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3847"/>
<target ref="id3837"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3848"/>
<target ref="id3847"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3849"/>
<target ref="id3848"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3849"/>
<target ref="id3843"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3850"/>
<target ref="id3849"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3851"/>
<target ref="id3850"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process214</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3852" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3853" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3854" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3855" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3856" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3857" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3858" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3859" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3860" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3861" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3862" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3863" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3864" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3865" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3866" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3867" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3868" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3869" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3856"/>
<transition>
<source ref="id3852"/>
<target ref="id3857"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3853"/>
<target ref="id3854"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3853"/>
<target ref="id3858"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3856"/>
<target ref="id3858"/>
</transition>
<transition>
<source ref="id3857"/>
<target ref="id3853"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3858"/>
<target ref="id3869"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3867"/>
<target ref="id3867"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3863"/>
<target ref="id3860"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3861"/>
<target ref="id3854"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3861"/>
<target ref="id3869"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3863"/>
<target ref="id3863"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3855"/>
<target ref="id3864"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3862"/>
<target ref="id3852"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3855"/>
<target ref="id3862"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3865"/>
<target ref="id3865"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3860"/>
<target ref="id3859"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3860"/>
<target ref="id3857"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3864"/>
<target ref="id3863"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3865"/>
<target ref="id3855"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3866"/>
<target ref="id3865"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3867"/>
<target ref="id3866"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3867"/>
<target ref="id3861"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3868"/>
<target ref="id3867"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3869"/>
<target ref="id3868"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process215</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3870" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3871" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3872" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3873" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3874" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3875" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3876" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3877" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3878" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3879" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3880" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3881" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3882" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3883" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3884" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3885" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3886" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3887" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3874"/>
<transition>
<source ref="id3870"/>
<target ref="id3875"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3871"/>
<target ref="id3872"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3871"/>
<target ref="id3876"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3874"/>
<target ref="id3876"/>
</transition>
<transition>
<source ref="id3875"/>
<target ref="id3871"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3876"/>
<target ref="id3887"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3885"/>
<target ref="id3885"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3881"/>
<target ref="id3878"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3879"/>
<target ref="id3872"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3879"/>
<target ref="id3887"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3881"/>
<target ref="id3881"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3873"/>
<target ref="id3882"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3880"/>
<target ref="id3870"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3873"/>
<target ref="id3880"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3883"/>
<target ref="id3883"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3878"/>
<target ref="id3877"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3878"/>
<target ref="id3875"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3882"/>
<target ref="id3881"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3883"/>
<target ref="id3873"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3884"/>
<target ref="id3883"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3885"/>
<target ref="id3884"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3885"/>
<target ref="id3879"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3886"/>
<target ref="id3885"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3887"/>
<target ref="id3886"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process216</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3888" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3889" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3890" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3891" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3892" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3893" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3894" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3895" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3896" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3897" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3898" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3899" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3900" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3901" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3902" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3903" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3904" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3905" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3892"/>
<transition>
<source ref="id3888"/>
<target ref="id3893"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3889"/>
<target ref="id3890"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3889"/>
<target ref="id3894"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3892"/>
<target ref="id3894"/>
</transition>
<transition>
<source ref="id3893"/>
<target ref="id3889"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3894"/>
<target ref="id3905"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3903"/>
<target ref="id3903"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3899"/>
<target ref="id3896"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3897"/>
<target ref="id3890"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3897"/>
<target ref="id3905"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3899"/>
<target ref="id3899"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3891"/>
<target ref="id3900"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3898"/>
<target ref="id3888"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3891"/>
<target ref="id3898"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3901"/>
<target ref="id3901"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3896"/>
<target ref="id3895"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3896"/>
<target ref="id3893"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3900"/>
<target ref="id3899"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3901"/>
<target ref="id3891"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3902"/>
<target ref="id3901"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3903"/>
<target ref="id3902"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3903"/>
<target ref="id3897"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3904"/>
<target ref="id3903"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3905"/>
<target ref="id3904"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process217</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3906" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3907" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3908" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3909" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3910" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3911" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3912" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3913" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3914" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3915" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3916" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3917" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3918" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3919" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3920" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3921" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3922" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3923" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3910"/>
<transition>
<source ref="id3906"/>
<target ref="id3911"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3907"/>
<target ref="id3908"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3907"/>
<target ref="id3912"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3910"/>
<target ref="id3912"/>
</transition>
<transition>
<source ref="id3911"/>
<target ref="id3907"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3912"/>
<target ref="id3923"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3921"/>
<target ref="id3921"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3917"/>
<target ref="id3914"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3915"/>
<target ref="id3908"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3915"/>
<target ref="id3923"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3917"/>
<target ref="id3917"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3909"/>
<target ref="id3918"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3916"/>
<target ref="id3906"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3909"/>
<target ref="id3916"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3919"/>
<target ref="id3919"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3914"/>
<target ref="id3913"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3914"/>
<target ref="id3911"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3918"/>
<target ref="id3917"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3919"/>
<target ref="id3909"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3920"/>
<target ref="id3919"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3921"/>
<target ref="id3920"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3921"/>
<target ref="id3915"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3922"/>
<target ref="id3921"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3923"/>
<target ref="id3922"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process218</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3924" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3925" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3926" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3927" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3928" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3929" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3930" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3931" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3932" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3933" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3934" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3935" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3936" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3937" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3938" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3939" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3940" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3941" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3928"/>
<transition>
<source ref="id3924"/>
<target ref="id3929"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3925"/>
<target ref="id3926"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3925"/>
<target ref="id3930"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3928"/>
<target ref="id3930"/>
</transition>
<transition>
<source ref="id3929"/>
<target ref="id3925"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3930"/>
<target ref="id3941"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3939"/>
<target ref="id3939"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3935"/>
<target ref="id3932"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3933"/>
<target ref="id3926"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3933"/>
<target ref="id3941"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3935"/>
<target ref="id3935"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3927"/>
<target ref="id3936"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3934"/>
<target ref="id3924"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3927"/>
<target ref="id3934"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3937"/>
<target ref="id3937"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3932"/>
<target ref="id3931"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3932"/>
<target ref="id3929"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3936"/>
<target ref="id3935"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3937"/>
<target ref="id3927"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3938"/>
<target ref="id3937"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3939"/>
<target ref="id3938"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3939"/>
<target ref="id3933"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3940"/>
<target ref="id3939"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3941"/>
<target ref="id3940"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process219</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3942" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3943" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3944" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3945" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3946" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3947" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3948" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3949" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3950" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3951" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3952" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3953" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3954" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3955" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3956" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3957" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3958" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3959" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3946"/>
<transition>
<source ref="id3942"/>
<target ref="id3947"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3943"/>
<target ref="id3944"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3943"/>
<target ref="id3948"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3946"/>
<target ref="id3948"/>
</transition>
<transition>
<source ref="id3947"/>
<target ref="id3943"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3948"/>
<target ref="id3959"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3957"/>
<target ref="id3957"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3953"/>
<target ref="id3950"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3951"/>
<target ref="id3944"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3951"/>
<target ref="id3959"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3953"/>
<target ref="id3953"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3945"/>
<target ref="id3954"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3952"/>
<target ref="id3942"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3945"/>
<target ref="id3952"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3955"/>
<target ref="id3955"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3950"/>
<target ref="id3949"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3950"/>
<target ref="id3947"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3954"/>
<target ref="id3953"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3955"/>
<target ref="id3945"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3956"/>
<target ref="id3955"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3957"/>
<target ref="id3956"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3957"/>
<target ref="id3951"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3958"/>
<target ref="id3957"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3959"/>
<target ref="id3958"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process220</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3960" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3961" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3962" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3963" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3964" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3965" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3966" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3967" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3968" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3969" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3970" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3971" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3972" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3973" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3974" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3975" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3976" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3977" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3964"/>
<transition>
<source ref="id3960"/>
<target ref="id3965"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3961"/>
<target ref="id3962"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3961"/>
<target ref="id3966"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3964"/>
<target ref="id3966"/>
</transition>
<transition>
<source ref="id3965"/>
<target ref="id3961"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3966"/>
<target ref="id3977"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3975"/>
<target ref="id3975"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3971"/>
<target ref="id3968"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3969"/>
<target ref="id3962"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3969"/>
<target ref="id3977"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3971"/>
<target ref="id3971"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3963"/>
<target ref="id3972"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3970"/>
<target ref="id3960"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3963"/>
<target ref="id3970"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3973"/>
<target ref="id3973"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3968"/>
<target ref="id3967"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3968"/>
<target ref="id3965"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3972"/>
<target ref="id3971"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3973"/>
<target ref="id3963"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3974"/>
<target ref="id3973"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3975"/>
<target ref="id3974"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3975"/>
<target ref="id3969"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3976"/>
<target ref="id3975"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3977"/>
<target ref="id3976"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process221</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3978" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3979" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3980" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3981" x="-1928" y="-200">
<urgent/>
</location>
<location id="id3982" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id3983" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id3984" x="-2560" y="-288">
<urgent/>
</location>
<location id="id3985" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id3986" x="-2336" y="-40">
<urgent/>
</location>
<location id="id3987" x="-2264" y="-360">
<urgent/>
</location>
<location id="id3988" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id3989" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id3990" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id3991" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id3992" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id3993" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id3994" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id3995" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id3982"/>
<transition>
<source ref="id3978"/>
<target ref="id3983"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3979"/>
<target ref="id3980"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3979"/>
<target ref="id3984"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id3982"/>
<target ref="id3984"/>
</transition>
<transition>
<source ref="id3983"/>
<target ref="id3979"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id3984"/>
<target ref="id3995"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id3993"/>
<target ref="id3993"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id3989"/>
<target ref="id3986"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id3987"/>
<target ref="id3980"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id3987"/>
<target ref="id3995"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id3989"/>
<target ref="id3989"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3981"/>
<target ref="id3990"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id3988"/>
<target ref="id3978"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3981"/>
<target ref="id3988"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id3991"/>
<target ref="id3991"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id3986"/>
<target ref="id3985"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id3986"/>
<target ref="id3983"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id3990"/>
<target ref="id3989"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id3991"/>
<target ref="id3981"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id3992"/>
<target ref="id3991"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id3993"/>
<target ref="id3992"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id3993"/>
<target ref="id3987"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id3994"/>
<target ref="id3993"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id3995"/>
<target ref="id3994"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process222</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id3996" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id3997" x="-2560" y="-200">
<urgent/>
</location>
<location id="id3998" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id3999" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4000" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4001" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4002" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4003" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4004" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4005" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4006" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4007" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4008" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4009" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4010" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4011" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4012" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4013" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4000"/>
<transition>
<source ref="id3996"/>
<target ref="id4001"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id3997"/>
<target ref="id3998"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id3997"/>
<target ref="id4002"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4000"/>
<target ref="id4002"/>
</transition>
<transition>
<source ref="id4001"/>
<target ref="id3997"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4002"/>
<target ref="id4013"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4011"/>
<target ref="id4011"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4007"/>
<target ref="id4004"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4005"/>
<target ref="id3998"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4005"/>
<target ref="id4013"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4007"/>
<target ref="id4007"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id3999"/>
<target ref="id4008"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4006"/>
<target ref="id3996"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id3999"/>
<target ref="id4006"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4009"/>
<target ref="id4009"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4004"/>
<target ref="id4003"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4004"/>
<target ref="id4001"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4008"/>
<target ref="id4007"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4009"/>
<target ref="id3999"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4010"/>
<target ref="id4009"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4011"/>
<target ref="id4010"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4011"/>
<target ref="id4005"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4012"/>
<target ref="id4011"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4013"/>
<target ref="id4012"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process223</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4014" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4015" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4016" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4017" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4018" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4019" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4020" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4021" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4022" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4023" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4024" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4025" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4026" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4027" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4028" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4029" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4030" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4031" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4018"/>
<transition>
<source ref="id4014"/>
<target ref="id4019"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4015"/>
<target ref="id4016"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4015"/>
<target ref="id4020"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4018"/>
<target ref="id4020"/>
</transition>
<transition>
<source ref="id4019"/>
<target ref="id4015"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4020"/>
<target ref="id4031"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4029"/>
<target ref="id4029"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4025"/>
<target ref="id4022"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4023"/>
<target ref="id4016"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4023"/>
<target ref="id4031"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4025"/>
<target ref="id4025"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4017"/>
<target ref="id4026"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4024"/>
<target ref="id4014"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4017"/>
<target ref="id4024"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4027"/>
<target ref="id4027"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4022"/>
<target ref="id4021"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4022"/>
<target ref="id4019"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4026"/>
<target ref="id4025"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4027"/>
<target ref="id4017"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4028"/>
<target ref="id4027"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4029"/>
<target ref="id4028"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4029"/>
<target ref="id4023"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4030"/>
<target ref="id4029"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4031"/>
<target ref="id4030"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process224</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4032" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4033" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4034" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4035" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4036" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4037" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4038" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4039" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4040" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4041" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4042" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4043" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4044" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4045" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4046" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4047" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4048" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4049" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4036"/>
<transition>
<source ref="id4032"/>
<target ref="id4037"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4033"/>
<target ref="id4034"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4033"/>
<target ref="id4038"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4036"/>
<target ref="id4038"/>
</transition>
<transition>
<source ref="id4037"/>
<target ref="id4033"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4038"/>
<target ref="id4049"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4047"/>
<target ref="id4047"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4043"/>
<target ref="id4040"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4041"/>
<target ref="id4034"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4041"/>
<target ref="id4049"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4043"/>
<target ref="id4043"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4035"/>
<target ref="id4044"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4042"/>
<target ref="id4032"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4035"/>
<target ref="id4042"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4045"/>
<target ref="id4045"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4040"/>
<target ref="id4039"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4040"/>
<target ref="id4037"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4044"/>
<target ref="id4043"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4045"/>
<target ref="id4035"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4046"/>
<target ref="id4045"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4047"/>
<target ref="id4046"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4047"/>
<target ref="id4041"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4048"/>
<target ref="id4047"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4049"/>
<target ref="id4048"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process225</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4050" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4051" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4052" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4053" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4054" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4055" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4056" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4057" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4058" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4059" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4060" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4061" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4062" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4063" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4064" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4065" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4066" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4067" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4054"/>
<transition>
<source ref="id4050"/>
<target ref="id4055"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4051"/>
<target ref="id4052"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4051"/>
<target ref="id4056"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4054"/>
<target ref="id4056"/>
</transition>
<transition>
<source ref="id4055"/>
<target ref="id4051"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4056"/>
<target ref="id4067"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4065"/>
<target ref="id4065"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4061"/>
<target ref="id4058"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4059"/>
<target ref="id4052"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4059"/>
<target ref="id4067"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4061"/>
<target ref="id4061"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4053"/>
<target ref="id4062"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4060"/>
<target ref="id4050"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4053"/>
<target ref="id4060"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4063"/>
<target ref="id4063"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4058"/>
<target ref="id4057"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4058"/>
<target ref="id4055"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4062"/>
<target ref="id4061"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4063"/>
<target ref="id4053"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4064"/>
<target ref="id4063"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4065"/>
<target ref="id4064"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4065"/>
<target ref="id4059"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4066"/>
<target ref="id4065"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4067"/>
<target ref="id4066"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process226</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4068" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4069" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4070" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4071" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4072" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4073" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4074" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4075" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4076" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4077" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4078" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4079" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4080" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4081" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4082" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4083" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4084" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4085" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4072"/>
<transition>
<source ref="id4068"/>
<target ref="id4073"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4069"/>
<target ref="id4070"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4069"/>
<target ref="id4074"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4072"/>
<target ref="id4074"/>
</transition>
<transition>
<source ref="id4073"/>
<target ref="id4069"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4074"/>
<target ref="id4085"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4083"/>
<target ref="id4083"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4079"/>
<target ref="id4076"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4077"/>
<target ref="id4070"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4077"/>
<target ref="id4085"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4079"/>
<target ref="id4079"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4071"/>
<target ref="id4080"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4078"/>
<target ref="id4068"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4071"/>
<target ref="id4078"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4081"/>
<target ref="id4081"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4076"/>
<target ref="id4075"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4076"/>
<target ref="id4073"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4080"/>
<target ref="id4079"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4081"/>
<target ref="id4071"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4082"/>
<target ref="id4081"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4083"/>
<target ref="id4082"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4083"/>
<target ref="id4077"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4084"/>
<target ref="id4083"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4085"/>
<target ref="id4084"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process227</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4086" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4087" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4088" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4089" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4090" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4091" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4092" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4093" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4094" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4095" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4096" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4097" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4098" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4099" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4100" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4101" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4102" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4103" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4090"/>
<transition>
<source ref="id4086"/>
<target ref="id4091"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4087"/>
<target ref="id4088"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4087"/>
<target ref="id4092"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4090"/>
<target ref="id4092"/>
</transition>
<transition>
<source ref="id4091"/>
<target ref="id4087"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4092"/>
<target ref="id4103"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4101"/>
<target ref="id4101"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4097"/>
<target ref="id4094"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4095"/>
<target ref="id4088"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4095"/>
<target ref="id4103"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4097"/>
<target ref="id4097"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4089"/>
<target ref="id4098"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4096"/>
<target ref="id4086"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4089"/>
<target ref="id4096"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4099"/>
<target ref="id4099"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4094"/>
<target ref="id4093"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4094"/>
<target ref="id4091"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4098"/>
<target ref="id4097"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4099"/>
<target ref="id4089"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4100"/>
<target ref="id4099"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4101"/>
<target ref="id4100"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4101"/>
<target ref="id4095"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4102"/>
<target ref="id4101"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4103"/>
<target ref="id4102"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process228</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4104" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4105" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4106" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4107" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4108" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4109" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4110" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4111" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4112" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4113" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4114" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4115" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4116" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4117" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4118" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4119" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4120" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4121" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4108"/>
<transition>
<source ref="id4104"/>
<target ref="id4109"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4105"/>
<target ref="id4106"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4105"/>
<target ref="id4110"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4108"/>
<target ref="id4110"/>
</transition>
<transition>
<source ref="id4109"/>
<target ref="id4105"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4110"/>
<target ref="id4121"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4119"/>
<target ref="id4119"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4115"/>
<target ref="id4112"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4113"/>
<target ref="id4106"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4113"/>
<target ref="id4121"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4115"/>
<target ref="id4115"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4107"/>
<target ref="id4116"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4114"/>
<target ref="id4104"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4107"/>
<target ref="id4114"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4117"/>
<target ref="id4117"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4112"/>
<target ref="id4111"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4112"/>
<target ref="id4109"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4116"/>
<target ref="id4115"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4117"/>
<target ref="id4107"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4118"/>
<target ref="id4117"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4119"/>
<target ref="id4118"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4119"/>
<target ref="id4113"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4120"/>
<target ref="id4119"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4121"/>
<target ref="id4120"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process229</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4122" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4123" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4124" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4125" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4126" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4127" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4128" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4129" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4130" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4131" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4132" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4133" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4134" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4135" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4136" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4137" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4138" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4139" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4126"/>
<transition>
<source ref="id4122"/>
<target ref="id4127"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4123"/>
<target ref="id4124"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4123"/>
<target ref="id4128"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4126"/>
<target ref="id4128"/>
</transition>
<transition>
<source ref="id4127"/>
<target ref="id4123"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4128"/>
<target ref="id4139"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4137"/>
<target ref="id4137"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4133"/>
<target ref="id4130"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4131"/>
<target ref="id4124"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4131"/>
<target ref="id4139"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4133"/>
<target ref="id4133"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4125"/>
<target ref="id4134"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4132"/>
<target ref="id4122"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4125"/>
<target ref="id4132"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4135"/>
<target ref="id4135"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4130"/>
<target ref="id4129"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4130"/>
<target ref="id4127"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4134"/>
<target ref="id4133"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4135"/>
<target ref="id4125"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4136"/>
<target ref="id4135"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4137"/>
<target ref="id4136"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4137"/>
<target ref="id4131"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4138"/>
<target ref="id4137"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4139"/>
<target ref="id4138"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process230</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4140" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4141" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4142" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4143" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4144" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4145" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4146" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4147" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4148" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4149" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4150" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4151" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4152" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4153" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4154" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4155" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4156" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4157" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4144"/>
<transition>
<source ref="id4140"/>
<target ref="id4145"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4141"/>
<target ref="id4142"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4141"/>
<target ref="id4146"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4144"/>
<target ref="id4146"/>
</transition>
<transition>
<source ref="id4145"/>
<target ref="id4141"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4146"/>
<target ref="id4157"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4155"/>
<target ref="id4155"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4151"/>
<target ref="id4148"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4149"/>
<target ref="id4142"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4149"/>
<target ref="id4157"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4151"/>
<target ref="id4151"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4143"/>
<target ref="id4152"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4150"/>
<target ref="id4140"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4143"/>
<target ref="id4150"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4153"/>
<target ref="id4153"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4148"/>
<target ref="id4147"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4148"/>
<target ref="id4145"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4152"/>
<target ref="id4151"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4153"/>
<target ref="id4143"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4154"/>
<target ref="id4153"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4155"/>
<target ref="id4154"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4155"/>
<target ref="id4149"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4156"/>
<target ref="id4155"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4157"/>
<target ref="id4156"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process231</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4158" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4159" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4160" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4161" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4162" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4163" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4164" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4165" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4166" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4167" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4168" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4169" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4170" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4171" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4172" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4173" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4174" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4175" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4162"/>
<transition>
<source ref="id4158"/>
<target ref="id4163"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4159"/>
<target ref="id4160"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4159"/>
<target ref="id4164"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4162"/>
<target ref="id4164"/>
</transition>
<transition>
<source ref="id4163"/>
<target ref="id4159"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4164"/>
<target ref="id4175"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4173"/>
<target ref="id4173"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4169"/>
<target ref="id4166"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4167"/>
<target ref="id4160"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4167"/>
<target ref="id4175"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4169"/>
<target ref="id4169"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4161"/>
<target ref="id4170"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4168"/>
<target ref="id4158"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4161"/>
<target ref="id4168"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4171"/>
<target ref="id4171"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4166"/>
<target ref="id4165"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4166"/>
<target ref="id4163"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4170"/>
<target ref="id4169"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4171"/>
<target ref="id4161"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4172"/>
<target ref="id4171"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4173"/>
<target ref="id4172"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4173"/>
<target ref="id4167"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4174"/>
<target ref="id4173"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4175"/>
<target ref="id4174"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process232</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4176" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4177" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4178" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4179" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4180" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4181" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4182" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4183" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4184" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4185" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4186" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4187" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4188" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4189" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4190" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4191" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4192" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4193" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4180"/>
<transition>
<source ref="id4176"/>
<target ref="id4181"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4177"/>
<target ref="id4178"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4177"/>
<target ref="id4182"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4180"/>
<target ref="id4182"/>
</transition>
<transition>
<source ref="id4181"/>
<target ref="id4177"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4182"/>
<target ref="id4193"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4191"/>
<target ref="id4191"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4187"/>
<target ref="id4184"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4185"/>
<target ref="id4178"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4185"/>
<target ref="id4193"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4187"/>
<target ref="id4187"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4179"/>
<target ref="id4188"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4186"/>
<target ref="id4176"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4179"/>
<target ref="id4186"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4189"/>
<target ref="id4189"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4184"/>
<target ref="id4183"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4184"/>
<target ref="id4181"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4188"/>
<target ref="id4187"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4189"/>
<target ref="id4179"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4190"/>
<target ref="id4189"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4191"/>
<target ref="id4190"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4191"/>
<target ref="id4185"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4192"/>
<target ref="id4191"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4193"/>
<target ref="id4192"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process233</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4194" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4195" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4196" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4197" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4198" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4199" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4200" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4201" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4202" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4203" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4204" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4205" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4206" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4207" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4208" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4209" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4210" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4211" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4198"/>
<transition>
<source ref="id4194"/>
<target ref="id4199"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4195"/>
<target ref="id4196"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4195"/>
<target ref="id4200"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4198"/>
<target ref="id4200"/>
</transition>
<transition>
<source ref="id4199"/>
<target ref="id4195"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4200"/>
<target ref="id4211"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4209"/>
<target ref="id4209"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4205"/>
<target ref="id4202"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4203"/>
<target ref="id4196"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4203"/>
<target ref="id4211"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4205"/>
<target ref="id4205"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4197"/>
<target ref="id4206"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4204"/>
<target ref="id4194"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4197"/>
<target ref="id4204"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4207"/>
<target ref="id4207"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4202"/>
<target ref="id4201"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4202"/>
<target ref="id4199"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4206"/>
<target ref="id4205"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4207"/>
<target ref="id4197"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4208"/>
<target ref="id4207"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4209"/>
<target ref="id4208"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4209"/>
<target ref="id4203"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4210"/>
<target ref="id4209"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4211"/>
<target ref="id4210"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process234</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4212" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4213" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4214" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4215" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4216" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4217" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4218" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4219" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4220" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4221" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4222" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4223" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4224" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4225" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4226" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4227" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4228" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4229" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4216"/>
<transition>
<source ref="id4212"/>
<target ref="id4217"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4213"/>
<target ref="id4214"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4213"/>
<target ref="id4218"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4216"/>
<target ref="id4218"/>
</transition>
<transition>
<source ref="id4217"/>
<target ref="id4213"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4218"/>
<target ref="id4229"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4227"/>
<target ref="id4227"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4223"/>
<target ref="id4220"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4221"/>
<target ref="id4214"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4221"/>
<target ref="id4229"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4223"/>
<target ref="id4223"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4215"/>
<target ref="id4224"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4222"/>
<target ref="id4212"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4215"/>
<target ref="id4222"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4225"/>
<target ref="id4225"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4220"/>
<target ref="id4219"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4220"/>
<target ref="id4217"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4224"/>
<target ref="id4223"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4225"/>
<target ref="id4215"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4226"/>
<target ref="id4225"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4227"/>
<target ref="id4226"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4227"/>
<target ref="id4221"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4228"/>
<target ref="id4227"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4229"/>
<target ref="id4228"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process235</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4230" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4231" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4232" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4233" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4234" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4235" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4236" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4237" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4238" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4239" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4240" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4241" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4242" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4243" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4244" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4245" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4246" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4247" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4234"/>
<transition>
<source ref="id4230"/>
<target ref="id4235"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4231"/>
<target ref="id4232"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4231"/>
<target ref="id4236"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4234"/>
<target ref="id4236"/>
</transition>
<transition>
<source ref="id4235"/>
<target ref="id4231"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4236"/>
<target ref="id4247"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4245"/>
<target ref="id4245"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4241"/>
<target ref="id4238"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4239"/>
<target ref="id4232"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4239"/>
<target ref="id4247"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4241"/>
<target ref="id4241"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4233"/>
<target ref="id4242"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4240"/>
<target ref="id4230"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4233"/>
<target ref="id4240"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4243"/>
<target ref="id4243"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4238"/>
<target ref="id4237"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4238"/>
<target ref="id4235"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4242"/>
<target ref="id4241"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4243"/>
<target ref="id4233"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4244"/>
<target ref="id4243"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4245"/>
<target ref="id4244"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4245"/>
<target ref="id4239"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4246"/>
<target ref="id4245"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4247"/>
<target ref="id4246"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process236</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4248" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4249" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4250" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4251" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4252" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4253" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4254" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4255" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4256" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4257" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4258" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4259" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4260" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4261" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4262" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4263" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4264" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4265" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4252"/>
<transition>
<source ref="id4248"/>
<target ref="id4253"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4249"/>
<target ref="id4250"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4249"/>
<target ref="id4254"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4252"/>
<target ref="id4254"/>
</transition>
<transition>
<source ref="id4253"/>
<target ref="id4249"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4254"/>
<target ref="id4265"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4263"/>
<target ref="id4263"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4259"/>
<target ref="id4256"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4257"/>
<target ref="id4250"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4257"/>
<target ref="id4265"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4259"/>
<target ref="id4259"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4251"/>
<target ref="id4260"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4258"/>
<target ref="id4248"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4251"/>
<target ref="id4258"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4261"/>
<target ref="id4261"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4256"/>
<target ref="id4255"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4256"/>
<target ref="id4253"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4260"/>
<target ref="id4259"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4261"/>
<target ref="id4251"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4262"/>
<target ref="id4261"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4263"/>
<target ref="id4262"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4263"/>
<target ref="id4257"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4264"/>
<target ref="id4263"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4265"/>
<target ref="id4264"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process237</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4266" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4267" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4268" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4269" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4270" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4271" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4272" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4273" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4274" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4275" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4276" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4277" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4278" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4279" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4280" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4281" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4282" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4283" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4270"/>
<transition>
<source ref="id4266"/>
<target ref="id4271"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4267"/>
<target ref="id4268"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4267"/>
<target ref="id4272"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4270"/>
<target ref="id4272"/>
</transition>
<transition>
<source ref="id4271"/>
<target ref="id4267"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4272"/>
<target ref="id4283"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4281"/>
<target ref="id4281"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4277"/>
<target ref="id4274"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4275"/>
<target ref="id4268"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4275"/>
<target ref="id4283"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4277"/>
<target ref="id4277"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4269"/>
<target ref="id4278"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4276"/>
<target ref="id4266"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4269"/>
<target ref="id4276"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4279"/>
<target ref="id4279"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4274"/>
<target ref="id4273"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4274"/>
<target ref="id4271"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4278"/>
<target ref="id4277"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4279"/>
<target ref="id4269"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4280"/>
<target ref="id4279"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4281"/>
<target ref="id4280"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4281"/>
<target ref="id4275"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4282"/>
<target ref="id4281"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4283"/>
<target ref="id4282"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process238</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4284" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4285" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4286" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4287" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4288" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4289" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4290" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4291" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4292" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4293" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4294" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4295" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4296" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4297" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4298" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4299" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4300" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4301" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4288"/>
<transition>
<source ref="id4284"/>
<target ref="id4289"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4285"/>
<target ref="id4286"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4285"/>
<target ref="id4290"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4288"/>
<target ref="id4290"/>
</transition>
<transition>
<source ref="id4289"/>
<target ref="id4285"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4290"/>
<target ref="id4301"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4299"/>
<target ref="id4299"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4295"/>
<target ref="id4292"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4293"/>
<target ref="id4286"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4293"/>
<target ref="id4301"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4295"/>
<target ref="id4295"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4287"/>
<target ref="id4296"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4294"/>
<target ref="id4284"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4287"/>
<target ref="id4294"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4297"/>
<target ref="id4297"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4292"/>
<target ref="id4291"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4292"/>
<target ref="id4289"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4296"/>
<target ref="id4295"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4297"/>
<target ref="id4287"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4298"/>
<target ref="id4297"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4299"/>
<target ref="id4298"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4299"/>
<target ref="id4293"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4300"/>
<target ref="id4299"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4301"/>
<target ref="id4300"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process239</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4302" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4303" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4304" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4305" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4306" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4307" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4308" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4309" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4310" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4311" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4312" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4313" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4314" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4315" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4316" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4317" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4318" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4319" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4306"/>
<transition>
<source ref="id4302"/>
<target ref="id4307"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4303"/>
<target ref="id4304"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4303"/>
<target ref="id4308"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4306"/>
<target ref="id4308"/>
</transition>
<transition>
<source ref="id4307"/>
<target ref="id4303"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4308"/>
<target ref="id4319"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4317"/>
<target ref="id4317"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4313"/>
<target ref="id4310"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4311"/>
<target ref="id4304"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4311"/>
<target ref="id4319"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4313"/>
<target ref="id4313"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4305"/>
<target ref="id4314"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4312"/>
<target ref="id4302"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4305"/>
<target ref="id4312"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4315"/>
<target ref="id4315"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4310"/>
<target ref="id4309"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4310"/>
<target ref="id4307"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4314"/>
<target ref="id4313"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4315"/>
<target ref="id4305"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4316"/>
<target ref="id4315"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4317"/>
<target ref="id4316"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4317"/>
<target ref="id4311"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4318"/>
<target ref="id4317"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4319"/>
<target ref="id4318"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process240</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4320" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4321" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4322" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4323" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4324" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4325" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4326" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4327" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4328" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4329" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4330" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4331" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4332" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4333" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4334" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4335" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4336" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4337" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4324"/>
<transition>
<source ref="id4320"/>
<target ref="id4325"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4321"/>
<target ref="id4322"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4321"/>
<target ref="id4326"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4324"/>
<target ref="id4326"/>
</transition>
<transition>
<source ref="id4325"/>
<target ref="id4321"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4326"/>
<target ref="id4337"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4335"/>
<target ref="id4335"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4331"/>
<target ref="id4328"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4329"/>
<target ref="id4322"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4329"/>
<target ref="id4337"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4331"/>
<target ref="id4331"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4323"/>
<target ref="id4332"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4330"/>
<target ref="id4320"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4323"/>
<target ref="id4330"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4333"/>
<target ref="id4333"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4328"/>
<target ref="id4327"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4328"/>
<target ref="id4325"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4332"/>
<target ref="id4331"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4333"/>
<target ref="id4323"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4334"/>
<target ref="id4333"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4335"/>
<target ref="id4334"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4335"/>
<target ref="id4329"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4336"/>
<target ref="id4335"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4337"/>
<target ref="id4336"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process241</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4338" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4339" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4340" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4341" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4342" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4343" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4344" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4345" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4346" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4347" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4348" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4349" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4350" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4351" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4352" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4353" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4354" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4355" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4342"/>
<transition>
<source ref="id4338"/>
<target ref="id4343"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4339"/>
<target ref="id4340"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4339"/>
<target ref="id4344"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4342"/>
<target ref="id4344"/>
</transition>
<transition>
<source ref="id4343"/>
<target ref="id4339"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4344"/>
<target ref="id4355"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4353"/>
<target ref="id4353"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4349"/>
<target ref="id4346"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4347"/>
<target ref="id4340"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4347"/>
<target ref="id4355"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4349"/>
<target ref="id4349"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4341"/>
<target ref="id4350"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4348"/>
<target ref="id4338"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4341"/>
<target ref="id4348"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4351"/>
<target ref="id4351"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4346"/>
<target ref="id4345"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4346"/>
<target ref="id4343"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4350"/>
<target ref="id4349"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4351"/>
<target ref="id4341"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4352"/>
<target ref="id4351"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4353"/>
<target ref="id4352"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4353"/>
<target ref="id4347"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4354"/>
<target ref="id4353"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4355"/>
<target ref="id4354"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process242</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4356" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4357" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4358" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4359" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4360" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4361" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4362" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4363" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4364" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4365" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4366" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4367" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4368" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4369" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4370" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4371" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4372" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4373" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4360"/>
<transition>
<source ref="id4356"/>
<target ref="id4361"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4357"/>
<target ref="id4358"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4357"/>
<target ref="id4362"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4360"/>
<target ref="id4362"/>
</transition>
<transition>
<source ref="id4361"/>
<target ref="id4357"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4362"/>
<target ref="id4373"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4371"/>
<target ref="id4371"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4367"/>
<target ref="id4364"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4365"/>
<target ref="id4358"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4365"/>
<target ref="id4373"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4367"/>
<target ref="id4367"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4359"/>
<target ref="id4368"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4366"/>
<target ref="id4356"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4359"/>
<target ref="id4366"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4369"/>
<target ref="id4369"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4364"/>
<target ref="id4363"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4364"/>
<target ref="id4361"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4368"/>
<target ref="id4367"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4369"/>
<target ref="id4359"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4370"/>
<target ref="id4369"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4371"/>
<target ref="id4370"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4371"/>
<target ref="id4365"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4372"/>
<target ref="id4371"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4373"/>
<target ref="id4372"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process243</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4374" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4375" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4376" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4377" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4378" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4379" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4380" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4381" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4382" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4383" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4384" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4385" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4386" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4387" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4388" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4389" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4390" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4391" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4378"/>
<transition>
<source ref="id4374"/>
<target ref="id4379"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4375"/>
<target ref="id4376"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4375"/>
<target ref="id4380"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4378"/>
<target ref="id4380"/>
</transition>
<transition>
<source ref="id4379"/>
<target ref="id4375"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4380"/>
<target ref="id4391"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4389"/>
<target ref="id4389"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4385"/>
<target ref="id4382"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4383"/>
<target ref="id4376"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4383"/>
<target ref="id4391"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4385"/>
<target ref="id4385"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4377"/>
<target ref="id4386"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4384"/>
<target ref="id4374"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4377"/>
<target ref="id4384"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4387"/>
<target ref="id4387"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4382"/>
<target ref="id4381"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4382"/>
<target ref="id4379"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4386"/>
<target ref="id4385"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4387"/>
<target ref="id4377"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4388"/>
<target ref="id4387"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4389"/>
<target ref="id4388"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4389"/>
<target ref="id4383"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4390"/>
<target ref="id4389"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4391"/>
<target ref="id4390"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process244</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4392" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4393" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4394" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4395" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4396" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4397" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4398" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4399" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4400" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4401" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4402" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4403" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4404" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4405" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4406" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4407" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4408" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4409" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4396"/>
<transition>
<source ref="id4392"/>
<target ref="id4397"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4393"/>
<target ref="id4394"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4393"/>
<target ref="id4398"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4396"/>
<target ref="id4398"/>
</transition>
<transition>
<source ref="id4397"/>
<target ref="id4393"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4398"/>
<target ref="id4409"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4407"/>
<target ref="id4407"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4403"/>
<target ref="id4400"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4401"/>
<target ref="id4394"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4401"/>
<target ref="id4409"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4403"/>
<target ref="id4403"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4395"/>
<target ref="id4404"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4402"/>
<target ref="id4392"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4395"/>
<target ref="id4402"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4405"/>
<target ref="id4405"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4400"/>
<target ref="id4399"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4400"/>
<target ref="id4397"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4404"/>
<target ref="id4403"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4405"/>
<target ref="id4395"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4406"/>
<target ref="id4405"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4407"/>
<target ref="id4406"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4407"/>
<target ref="id4401"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4408"/>
<target ref="id4407"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4409"/>
<target ref="id4408"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process245</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4410" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4411" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4412" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4413" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4414" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4415" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4416" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4417" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4418" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4419" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4420" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4421" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4422" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4423" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4424" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4425" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4426" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4427" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4414"/>
<transition>
<source ref="id4410"/>
<target ref="id4415"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4411"/>
<target ref="id4412"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4411"/>
<target ref="id4416"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4414"/>
<target ref="id4416"/>
</transition>
<transition>
<source ref="id4415"/>
<target ref="id4411"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4416"/>
<target ref="id4427"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4425"/>
<target ref="id4425"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4421"/>
<target ref="id4418"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4419"/>
<target ref="id4412"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4419"/>
<target ref="id4427"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4421"/>
<target ref="id4421"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4413"/>
<target ref="id4422"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4420"/>
<target ref="id4410"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4413"/>
<target ref="id4420"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4423"/>
<target ref="id4423"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4418"/>
<target ref="id4417"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4418"/>
<target ref="id4415"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4422"/>
<target ref="id4421"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4423"/>
<target ref="id4413"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4424"/>
<target ref="id4423"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4425"/>
<target ref="id4424"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4425"/>
<target ref="id4419"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4426"/>
<target ref="id4425"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4427"/>
<target ref="id4426"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process246</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4428" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4429" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4430" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4431" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4432" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4433" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4434" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4435" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4436" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4437" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4438" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4439" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4440" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4441" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4442" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4443" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4444" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4445" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4432"/>
<transition>
<source ref="id4428"/>
<target ref="id4433"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4429"/>
<target ref="id4430"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4429"/>
<target ref="id4434"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4432"/>
<target ref="id4434"/>
</transition>
<transition>
<source ref="id4433"/>
<target ref="id4429"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4434"/>
<target ref="id4445"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4443"/>
<target ref="id4443"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4439"/>
<target ref="id4436"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4437"/>
<target ref="id4430"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4437"/>
<target ref="id4445"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4439"/>
<target ref="id4439"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4431"/>
<target ref="id4440"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4438"/>
<target ref="id4428"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4431"/>
<target ref="id4438"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4441"/>
<target ref="id4441"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4436"/>
<target ref="id4435"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4436"/>
<target ref="id4433"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4440"/>
<target ref="id4439"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4441"/>
<target ref="id4431"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4442"/>
<target ref="id4441"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4443"/>
<target ref="id4442"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4443"/>
<target ref="id4437"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4444"/>
<target ref="id4443"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4445"/>
<target ref="id4444"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process247</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4446" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4447" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4448" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4449" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4450" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4451" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4452" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4453" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4454" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4455" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4456" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4457" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4458" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4459" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4460" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4461" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4462" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4463" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4450"/>
<transition>
<source ref="id4446"/>
<target ref="id4451"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4447"/>
<target ref="id4448"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4447"/>
<target ref="id4452"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4450"/>
<target ref="id4452"/>
</transition>
<transition>
<source ref="id4451"/>
<target ref="id4447"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4452"/>
<target ref="id4463"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4461"/>
<target ref="id4461"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4457"/>
<target ref="id4454"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4455"/>
<target ref="id4448"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4455"/>
<target ref="id4463"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4457"/>
<target ref="id4457"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4449"/>
<target ref="id4458"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4456"/>
<target ref="id4446"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4449"/>
<target ref="id4456"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4459"/>
<target ref="id4459"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4454"/>
<target ref="id4453"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4454"/>
<target ref="id4451"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4458"/>
<target ref="id4457"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4459"/>
<target ref="id4449"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4460"/>
<target ref="id4459"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4461"/>
<target ref="id4460"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4461"/>
<target ref="id4455"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4462"/>
<target ref="id4461"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4463"/>
<target ref="id4462"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process248</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4464" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4465" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4466" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4467" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4468" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4469" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4470" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4471" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4472" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4473" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4474" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4475" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4476" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4477" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4478" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4479" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4480" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4481" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4468"/>
<transition>
<source ref="id4464"/>
<target ref="id4469"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4465"/>
<target ref="id4466"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4465"/>
<target ref="id4470"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4468"/>
<target ref="id4470"/>
</transition>
<transition>
<source ref="id4469"/>
<target ref="id4465"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4470"/>
<target ref="id4481"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4479"/>
<target ref="id4479"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4475"/>
<target ref="id4472"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4473"/>
<target ref="id4466"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4473"/>
<target ref="id4481"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4475"/>
<target ref="id4475"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4467"/>
<target ref="id4476"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4474"/>
<target ref="id4464"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4467"/>
<target ref="id4474"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4477"/>
<target ref="id4477"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4472"/>
<target ref="id4471"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4472"/>
<target ref="id4469"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4476"/>
<target ref="id4475"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4477"/>
<target ref="id4467"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4478"/>
<target ref="id4477"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4479"/>
<target ref="id4478"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4479"/>
<target ref="id4473"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4480"/>
<target ref="id4479"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4481"/>
<target ref="id4480"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><template>
<name x="5" y="5">Process249</name>
<declaration>
int be;
int nb; 
int nt;
int nretries;
int backoff;
int waking_delay;
clock x;
bool cca_passed := false;
bool collision_occured := false;
</declaration>
<location id="id4482" x="-2352" y="64">
<label kind="invariant" x="-2346" y="34">x&lt;=ACK_Time</label>
</location>
<location id="id4483" x="-2560" y="-200">
<urgent/>
</location>
<location id="id4484" x="-2264" y="-200">
<name x="-2264" y="-184">FAILURE</name>
</location>
<location id="id4485" x="-1928" y="-200">
<urgent/>
</location>
<location id="id4486" x="-2704" y="-288">
<label kind="invariant" x="-2712" y="-328">x&lt;=MaxWakingDelay</label>
</location>
<location id="id4487" x="-2560" y="-40">
<label kind="invariant" x="-2544" y="-72">x&lt;=MinLIFS</label>
</location>
<location id="id4488" x="-2560" y="-288">
<urgent/>
</location>
<location id="id4489" x="-2336" y="-128">
<name x="-2416" y="-152">SUCCESS</name>
</location>
<location id="id4490" x="-2336" y="-40">
<urgent/>
</location>
<location id="id4491" x="-2264" y="-360">
<urgent/>
</location>
<location id="id4492" x="-1928" y="64">
<label kind="invariant" x="-1920" y="32">x&lt;=TurnAround</label>
</location>
<location id="id4493" x="-2160" y="-40">
<label kind="invariant" x="-2152" y="-72">x&lt;=ACK_time</label>
</location>
<location id="id4494" x="-2160" y="-200">
<label kind="invariant" x="-2232" y="-232">x&lt;=aTurnaroundTime</label>
</location>
<location id="id4495" x="-1928" y="-360">
<name x="-2064" y="-392">TRANSMIT_DATA</name>
<label kind="invariant" x="-2064" y="-376">x&lt;=FrameLength</label>
</location>
<location id="id4496" x="-1928" y="-488">
<name x="-2032" y="-512">VULNERABLE</name>
<label kind="invariant" x="-1912" y="-512">x&lt;=TurnAround</label>
</location>
<location id="id4497" x="-2264" y="-488">
<name x="-2312" y="-512">CCA</name>
<label kind="invariant" x="-2256" y="-480">x&lt;=CCA</label>
</location>
<location id="id4498" x="-2560" y="-488">
<name x="-2680" y="-512">WAIT_BACKOFF</name>
<label kind="invariant" x="-2744" y="-488">x&lt;=backoff*UnitBackoff</label>
</location>
<location id="id4499" x="-2560" y="-360">
<urgent/>
</location>
<init ref="id4486"/>
<transition>
<source ref="id4482"/>
<target ref="id4487"/>
<label kind="guard" x="-2488" y="40">x==ACK_Time</label>
<label kind="assignment" x="-2542" y="64">x:=0</label>
<nail x="-2560" y="64"/>
</transition>
<transition>
<source ref="id4483"/>
<target ref="id4484"/>
<label kind="guard" x="-2536" y="-200">nretries == (MaxFrameRetries-1)</label>
<nail x="-2360" y="-200"/>
</transition>
<transition>
<source ref="id4483"/>
<target ref="id4488"/>
<label kind="guard" x="-2552" y="-240">nretries &lt; (MaxFrameRetries-1)</label>
<label kind="assignment" x="-2552" y="-224">nretries = nretries + 1</label>
</transition>
<transition>
<source ref="id4486"/>
<target ref="id4488"/>
</transition>
<transition>
<source ref="id4487"/>
<target ref="id4483"/>
<label kind="guard" x="-2552" y="-176">x==MinLIFS</label>
</transition>
<transition>
<source ref="id4488"/>
<target ref="id4499"/>
<label kind="assignment" x="-2552" y="-336">be:=macMinBE, nb:=0</label>
</transition>
<transition>
<source ref="id4497"/>
<target ref="id4497"/>
<label kind="synchronisation" x="-2304" y="-592">busy?</label>
<label kind="assignment" x="-2304" y="-576">cca_passed:=false</label>
<nail x="-2304" y="-552"/>
<nail x="-2216" y="-552"/>
</transition>
<transition>
<source ref="id4493"/>
<target ref="id4490"/>
<label kind="guard" x="-2304" y="-72">x==ACK</label>
<label kind="assignment" x="-2304" y="-56">nt:=nt-1</label>
</transition>
<transition>
<source ref="id4491"/>
<target ref="id4484"/>
<label kind="guard" x="-2256" y="-328">nb == MaxNB</label>
</transition>
<transition>
<source ref="id4491"/>
<target ref="id4499"/>
<label kind="guard" x="-2544" y="-400">nb &lt; MaxNB</label>
<label kind="assignment" x="-2544" y="-384">be:= be+1 &gt; MaxBE ? MaxBE: be+1</label>
</transition>
<transition>
<source ref="id4493"/>
<target ref="id4493"/>
<label kind="synchronisation" x="-2144" y="-32">busy?</label>
<label kind="assignment" x="-2144" y="-16">collision_occured:=true</label>
<nail x="-2184" y="8"/>
<nail x="-2136" y="8"/>
<nail x="-2152" y="-16"/>
</transition>
<transition>
<source ref="id4485"/>
<target ref="id4494"/>
<label kind="guard" x="-2080" y="-224">collision_occured == false</label>
</transition>
<transition>
<source ref="id4492"/>
<target ref="id4482"/>
<label kind="guard" x="-2056" y="32">x == TurnAround</label>
<label kind="assignment" x="-2056" y="48">x:=0</label>
</transition>
<transition>
<source ref="id4485"/>
<target ref="id4492"/>
<label kind="guard" x="-1920" y="-176">collision_occured == true</label>
<nail x="-1928" y="-64"/>
</transition>
<transition>
<source ref="id4495"/>
<target ref="id4495"/>
<label kind="synchronisation" x="-1864" y="-384">busy?</label>
<label kind="assignment" x="-1864" y="-368">collision_occured:=true</label>
<nail x="-1872" y="-392"/>
<nail x="-1872" y="-320"/>
</transition>
<transition>
<source ref="id4490"/>
<target ref="id4489"/>
<label kind="guard" x="-2328" y="-96">collision_occured == false</label>
<nail x="-2336" y="-72"/>
</transition>
<transition>
<source ref="id4490"/>
<target ref="id4487"/>
<label kind="guard" x="-2480" y="-32">collision_occured == true</label>
<label kind="assignment" x="-2408" y="-64">x:=0</label>
</transition>
<transition>
<source ref="id4494"/>
<target ref="id4493"/>
<label kind="guard" x="-2152" y="-176">x==TurnAround</label>
<label kind="synchronisation" x="-2152" y="-120">busy!</label>
<label kind="assignment" x="-2152" y="-160">collision_occured:=nt&gt;0 ? true : false,
nt:=nt+1,
x:=0</label>
</transition>
<transition>
<source ref="id4495"/>
<target ref="id4485"/>
<label kind="guard" x="-1920" y="-312">x==FrameLength</label>
<label kind="assignment" x="-1920" y="-296">x:=0,
nt:=nt-1</label>
</transition>
<transition>
<source ref="id4496"/>
<target ref="id4495"/>
<label kind="guard" x="-1920" y="-472">x==TurnAround</label>
<label kind="synchronisation" x="-2184" y="-520">busy!</label>
<label kind="assignment" x="-1920" y="-456">x:=0,
collision_occured:= nt&gt;0 ? true : false,
nt:=nt+1</label>
</transition>
<transition>
<source ref="id4497"/>
<target ref="id4496"/>
<label kind="guard" x="-2184" y="-536">x==CCA_duration &amp;&amp; cca_passed == true</label>
<label kind="assignment" x="-2184" y="-504">x:=0</label>
</transition>
<transition>
<source ref="id4497"/>
<target ref="id4491"/>
<label kind="guard" x="-2264" y="-448">x == CCA_duration &amp;&amp; cca_passed == false</label>
<label kind="assignment" x="-2264" y="-432">nb := nb+1</label>
</transition>
<transition>
<source ref="id4498"/>
<target ref="id4497"/>
<label kind="guard" x="-2512" y="-544">x==backoff*UnitBackoff</label>
<label kind="assignment" x="-2512" y="-528">cca_passed:= nt==0 ? true : false,
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 0 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 1 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 2 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 3 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 4 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 5 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 6 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 7 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 8 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 9 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 10 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 11 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 12 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 13 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 14 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 15 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 16 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 17 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 18 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 19 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 20 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 21 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 22 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 23 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 24 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 25 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 26 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 27 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 28 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 29 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 30 % (2^be),
x:=0</label>
</transition>
<transition>
<source ref="id4499"/>
<target ref="id4498"/>
<label kind="assignment" x="-2552" y="-448">backoff := 31 % (2^be),
x:=0</label>
</transition>
</template><system>system Process0,Process1,Process2,Process3,Process4,Process5,Process6,Process7,Process8,Process9,Process10,Process11,Process12,Process13,Process14,Process15,Process16,Process17,Process18,Process19,Process20,Process21,Process22,Process23,Process24,Process25,Process26,Process27,Process28,Process29,Process30,Process31,Process32,Process33,Process34,Process35,Process36,Process37,Process38,Process39,Process40,Process41,Process42,Process43,Process44,Process45,Process46,Process47,Process48,Process49,Process50,Process51,Process52,Process53,Process54,Process55,Process56,Process57,Process58,Process59,Process60,Process61,Process62,Process63,Process64,Process65,Process66,Process67,Process68,Process69,Process70,Process71,Process72,Process73,Process74,Process75,Process76,Process77,Process78,Process79,Process80,Process81,Process82,Process83,Process84,Process85,Process86,Process87,Process88,Process89,Process90,Process91,Process92,Process93,Process94,Process95,Process96,Process97,Process98,Process99,Process100,Process101,Process102,Process103,Process104,Process105,Process106,Process107,Process108,Process109,Process110,Process111,Process112,Process113,Process114,Process115,Process116,Process117,Process118,Process119,Process120,Process121,Process122,Process123,Process124,Process125,Process126,Process127,Process128,Process129,Process130,Process131,Process132,Process133,Process134,Process135,Process136,Process137,Process138,Process139,Process140,Process141,Process142,Process143,Process144,Process145,Process146,Process147,Process148,Process149,Process150,Process151,Process152,Process153,Process154,Process155,Process156,Process157,Process158,Process159,Process160,Process161,Process162,Process163,Process164,Process165,Process166,Process167,Process168,Process169,Process170,Process171,Process172,Process173,Process174,Process175,Process176,Process177,Process178,Process179,Process180,Process181,Process182,Process183,Process184,Process185,Process186,Process187,Process188,Process189,Process190,Process191,Process192,Process193,Process194,Process195,Process196,Process197,Process198,Process199,Process200,Process201,Process202,Process203,Process204,Process205,Process206,Process207,Process208,Process209,Process210,Process211,Process212,Process213,Process214,Process215,Process216,Process217,Process218,Process219,Process220,Process221,Process222,Process223,Process224,Process225,Process226,Process227,Process228,Process229,Process230,Process231,Process232,Process233,Process234,Process235,Process236,Process237,Process238,Process239,Process240,Process241,Process242,Process243,Process244,Process245,Process246,Process247,Process248,Process249;</system><queries>
<query>
<formula>Pr[&lt;=100](&lt;&gt;sum(i:id_t) Process0(i).SUCCESS)</formula>
<comment></comment>
</query>
</queries>
</nta>